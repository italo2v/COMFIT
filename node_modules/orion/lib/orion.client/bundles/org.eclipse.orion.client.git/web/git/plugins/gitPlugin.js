!function(e,t){"function"==typeof define&&define.amd?define("orion/Deferred",t):"object"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=i.shift();)e();s=!1}function t(e){i.push(e),s||(s=!0,a())}function n(e){return function(t){e(t)}}function o(e,t,o){try{var r=e(t),i=r&&("object"==typeof r||"function"==typeof r)&&r.then;if("function"==typeof i)if(r===o.promise)o.reject(new TypeError);else{var s=r.cancel;"function"==typeof s?o._parentCancel=s.bind(r):delete o._parentCancel,i.call(r,n(o.resolve),n(o.reject),n(o.progress))}else o.resolve(r)}catch(a){o.reject(a)}}function r(){function e(){for(var e;e=h.shift();){var t=e.deferred,n="fulfilled"===c?"resolve":"reject",r=e[n];"function"==typeof r?o(r,a,t):t[n](a)}}function n(n){delete u._parentCancel,c="rejected",a=n,h.length&&t(e)}function i(o){function s(e){return function(t){c&&"assumed"!==c||e(t)}}delete u._parentCancel;try{var l=o&&("object"==typeof o||"function"==typeof o)&&o.then;if("function"==typeof l)if(o===u)n(new TypeError);else{c="assumed";var g=o&&o.cancel;if("function"!=typeof g){var d=new r;o=d.promise;try{l(d.resolve,d.reject,d.progress)}catch(p){d.reject(p)}g=o.cancel,l=o.then}a=o,l.call(o,s(i),s(n)),u._parentCancel=g.bind(o)}else c="fulfilled",a=o,h.length&&t(e)}catch(m){s(n)(m)}}function s(){var e=u._parentCancel;if(e)delete u._parentCancel,e();else if(!c){var t=new Error("Cancel");t.name="Cancel",n(t)}}var a,c,h=[],u=this;this.resolve=function(e){return c||i(e),u},this.reject=function(e){return c||n(e),u},this.progress=function(e){return c||h.forEach(function(t){if(t.progress)try{t.progress(e)}catch(n){}}),u.promise},this.cancel=function(){return u._parentCancel?setTimeout(s,0):s(),u},this.then=function(n,o,i){var s=new r;return s._parentCancel=u.promise.cancel,h.push({resolve:n,reject:o,progress:i,deferred:s}),("fulfilled"===c||"rejected"===c)&&t(e),s.promise},this.promise={then:u.then,cancel:u.cancel}}var i=[],s=!1,a=function(){if("undefined"!=typeof process&&"function"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if("function"==typeof MutationObserver){var n=document.createElement("div"),o=new MutationObserver(e);return o.observe(n,{attributes:!0}),function(){n.setAttribute("class","_tick")}}return function(){setTimeout(e,0)}}();return r.all=function(e,t){function n(e,t){a||(s[e]=t,0===--i&&c.resolve(s))}function o(e,o){if(!a){if(t)try{return void n(e,t(o))}catch(r){o=r}c.reject(o)}}var i=e.length,s=[],a=!1,c=new r;return c.then(void 0,function(){a=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===i?c.resolve(s):e.forEach(function(e,t){e.then(n.bind(void 0,t),o.bind(void 0,t))}),c.promise},r.when=function(e,t,n,o){var i,s;return e&&"function"==typeof e.then?i=e:(s=new r,s.resolve(e),i=s.promise),i.then(t,n,o)},r}),function(e,t){"function"==typeof define&&define.amd?define("orion/plugin",["orion/Deferred"],t):"object"==typeof exports?module.exports=t(require("orion/Deferred")):(e.orion=e.orion||{},e.orion.PluginProvider=t(e.orion.Deferred))}(this,function(e){function t(e,t){this.__objectId=e,this.__methods=t}function n(n){function o(e){w&&("undefined"==typeof ArrayBuffer&&(e=JSON.stringify(e)),w===self?w.postMessage(e):w.postMessage(e,"*"))}function r(){var e=[];return Object.keys(S).forEach(function(t){var n=S[t];e.push({serviceId:t,names:n.names,methods:n.methods,properties:n.properties})}),{headers:l||{},services:e}}function i(e,t){if(t&&t instanceof XMLHttpRequest){var n,o;try{n=t.status,o=t.statusText}catch(r){n=0,o=""}return{status:n||0,statusText:o}}return t}function s(e){var t=e?JSON.parse(JSON.stringify(e,i)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function a(n){if(!w)return(new e).reject(new Error("plugin not connected"));n.id=String(d++);var o=new e;v[n.id]=o,o.then(null,function(e){g&&e instanceof Error&&"Cancel"===e.name&&R({requestId:n.id,method:"cancel",params:e.message?[e.message]:[]})});var r=Object.prototype.toString;return n.params.forEach(function(e,i){if("[object Object]"===r.call(e)&&!(e instanceof t)){var s,a;for(s in e)"[object Function]"===r.call(e[s])&&(a=a||[],a.push(s));if(a){var c=p++;y[c]=e;var h=function(){delete y[c]};o.then(h,h),n.params[i]=new t(c,a)}}}),R(n),o.promise}function c(e,t){e||0===e?R({id:e,result:null,error:t}):console.log(t)}function h(e,t,n,o){o.forEach(function(e,t){if(e&&"undefined"!=typeof e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return a({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)})}}),o[t]=n}});var r="undefined"==typeof e?null:{id:e,result:null,error:null};try{var i=n.apply(t,o);if(!r)return;i&&"function"==typeof i.then?(f[e]=i,i.then(function(t){delete f[e],r.result=t,R(r)},function(t){f[e]&&(delete f[e],r.error=s(t),R(r))},function(){R({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)})})):(r.result=i,R(r))}catch(c){r&&(r.error=s(c),R(r))}}function u(e){if(e.source===w||"undefined"==typeof window){var t="string"!=typeof e.data?e.data:JSON.parse(e.data);try{if(t.method){var n=t.method,o=t.params||[];if("serviceId"in t){var r=S[t.serviceId];r||c(t.id,"service not found"),r=r.implementation,n in r?h(t.id,r,r[n],o):c(t.id,"method not found")}else if("objectId"in t){var i=y[t.objectId];i||c(t.id,"object not found"),!n in i?h(t.id,i,i[n],o):c(t.id,"method not found")}else if("requestId"in t){var s=f[t.requestId];s&&"cancel"===n&&s.cancel&&s.cancel.apply(s,o)}else{if(!("responseId"in t))throw new Error("Bad method: "+t.method);var a=v[t.responseId];a&&"progress"===n&&a.progress&&a.progress.apply(a,o)}}else{var u=v[String(t.id)];delete v[String(t.id)],t.error?u.reject(t.error):u.resolve(t.result)}}catch(l){console.log("Plugin._messageHandler "+l)}}}var l=n,g=!1,d=0,p=0,m=0,f={},v={},y={},S={},w=null;"undefined"==typeof window?w=self:window!==window.parent?w=window.parent:null!==window.opener&&(w=window.opener);var R=o;o({method:"loading"}),this.updateHeaders=function(e){if(g)throw new Error("Cannot update headers. Plugin Provider is connected");l=e},this.registerService=function(e,t,n){if(g)throw new Error("Cannot register service. Plugin Provider is connected");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var o=null,r=[];for(o in t)"function"==typeof t[o]&&r.push(o);S[m++]={names:e,methods:r,implementation:t,properties:n||{},listeners:{}}},this.registerServiceProvider=this.registerService,this.connect=function(e,t){if(g)return void(e&&e());if(!w)return void(t&&t("No valid plugin target"));addEventListener("message",u,!1);var n={method:"plugin",params:[r()]};o(n),g=!0,e&&e()},this.disconnect=function(){g&&(removeEventListener("message",u),w=null,g=!1)}}return n}),define("orion/xsrfUtils",[],function(){function e(){var e,t,n,r=document.cookie.split(";");for(e=0;e<r.length;e++)if(t=r[e].substr(0,r[e].indexOf("=")).trim(),n=r[e].substr(r[e].indexOf("=")+1).trim(),t==o)return n}function t(t){var n=e();n&&(t[o]=n)}function n(t){var n=e();n&&t.setRequestHeader(o,n)}var o="x-csrf-token";return{XSRF_TOKEN:o,getCSRFToken:e,setNonceHeader:t,addCSRFNonce:n}}),function(){function e(e){if("string"!=typeof e)throw new TypeError}function t(e){return e?e.split("&"):[]}function n(e){return 0===e.length?"":e.join("&")}function o(e){var t=/([^=]*)(?:=?)(.*)/.exec(e),n=t[1]?decodeURIComponent(t[1]):"",o=t[2]?decodeURIComponent(t[2]):"";return[n,o]}function r(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+="="+encodeURIComponent(e[1])),t}function i(e,n){var r="",i=[],s=0;return{next:function(){if(r!==e.query&&(r=e.query,i=t(r)),s<i.length){var a=o(i[s++]);switch(n){case"keys":return a[0];case"values":return a[1];case"keys+values":return[a[0],a[1]];default:throw new TypeError}}throw O}}}function s(e){Object.defineProperty(this,"_url",{get:function(){return e._url}})}function a(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if("/"!==e.path[0]){var n=/^(.*\/)[^\/]*$/.exec(t.path)[1]||"/";e.path=n+e.path}}else e.path=t.path}function c(e){return e.toLowerCase()}function h(e){return e?/[1-9]\d*$/.exec(e)[0]:""}function u(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/")}function l(e){e.scheme&&(e.scheme=c(e.scheme)),e.port&&(e.port=h(e.port)),e.host&&e.path&&(e.path=u(e.path))}function g(e){return e.replace(/\s/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function d(e,t){if("string"!=typeof e)throw new TypeError;e=g(e);var n=y.exec(e);if(!n)return null;var o={};if(o.scheme=n[1]||"",o.scheme&&!R.test(o.scheme))return null;var r=n[2];if(r){var i=S.exec(r);if(o.userinfo=i[1],o.host=i[2],o.port=i[3],o.port&&!b.test(o.port))return null}return o.path=n[3],o.query=n[4],o.fragment=n[5],a(o,t),l(o),o}function p(e){var t=e.scheme?e.scheme+":":"";return e.host&&(t+="//",e.userinfo&&(t+=e.userinfo+"@"),t+=e.host,e.port&&(t+=":"+e.port)),t+=e.path,e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function m(e,t){var n;if(t){if(t=t.href||t,n=d(t),!n||!n.scheme)throw new SyntaxError;Object.defineProperty(this,"_baseURL",{value:n})}var o=d(e,n);if(!o)throw new SyntaxError;Object.defineProperty(this,"_input",{value:e,writable:!0}),Object.defineProperty(this,"_url",{value:o,writable:!0});var r=new s(this);Object.defineProperty(this,"query",{get:function(){return this._url?r:null},enumerable:!0})}try{var f;if("function"==typeof window.URL&&0!==window.URL.length&&"http:"===(f=new window.URL("http://www.w3.org?q")).protocol&&f.query)return}catch(v){}var y=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,S=/^(?:(.*)@)?(\[[^\]]*\]|[^:]*)(?::(.*))?$/,w=/^\S*$/,R=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,b=/^\d*$/,C=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)$/,G=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)(?::(\d*))?$/,_=/^([^?#\s]*)$/,T=/^([^\s]*)$/,P=w,E=/([^:]*):?(.*)/,O="undefined"!=typeof StopIteration?StopIteration:new Error("Stop Iteration"),N={"ftp:":"21","gopher:":"70","http:":"80","https:":"443","ws:":"80","wss:":"443"};Object.defineProperties(s.prototype,{get:{value:function(n){e(n);var r,i=t(this._url.query);return i.some(function(e){var t=o(e);return t[0]===n?(r=t[1],!0):void 0}),r},enumerable:!0},set:{value:function(i,s){e(i),e(s);var a=t(this._url.query),c=a.some(function(e,t){var n=o(e);return n[0]===i?(n[1]=s,a[t]=r(n),!0):void 0});c||a.push(r([i,s])),this._url.query=n(a)},enumerable:!0},has:{value:function(n){e(n);var r=t(this._url.query);return r.some(function(e){var t=o(e);return t[0]===n?!0:void 0})},enumerable:!0},"delete":{value:function(r){e(r);var i=t(this._url.query),s=i.filter(function(e){var t=o(e);return t[0]!==r});return s.length!==i.length?(this._url.query=n(s),!0):!1},enumerable:!0},clear:{value:function(){this._url.query=""},enumerable:!0},forEach:{value:function(e,t){if("function"!=typeof e)throw new TypeError;var n=i(this._url,"keys+values");try{for(;;){var o=n.next();e.call(t,o[1],o[0],this)}}catch(r){if(r!==O)throw r}},enumerable:!0},keys:{value:function(){return i(this._url,"keys")},enumerable:!0},values:{value:function(){return i(this._url,"values")},enumerable:!0},items:{value:function(){return i(this._url,"keys+values")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(n){e(n);var r=[],i=t(this._url.query);return i.forEach(function(e){var t=o(e);t[0]===n&&r.push(t[1])}),r},enumerable:!0},append:{value:function(o,i){e(o),e(i);var s=t(this._url.query);s.push(r([o,i])),this._url.query=n(s)},enumerable:!0}}),Object.defineProperties(m.prototype,{href:{get:function(){return this._url?p(this._url):this._input},set:function(t){e(t),this._input=t,this._url=d(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+"//"+this.host:""},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+":":":"},set:function(t){if(e(t),this._url){var n=":"===t.slice(-1)?t.substring(0,t.length-1):t;(""===n||R.test(n))&&(this._url.scheme=c(n))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:""},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return"";var e=E.exec(this._userinfo),t=decodeURIComponent(e[1]||"");return t},set:function(t){if(e(t),this._url){var n=E.exec(this._userinfo),o=[encodeURIComponent(t||"")];n[2]&&o.push(n[2]),this._userinfo=o.join(":")}},enumerable:!0},password:{get:function(){if(!this._url)return"";var e=E.exec(this._userinfo),t=decodeURIComponent(e[2]||"");return t},set:function(t){if(e(t),this._url){var n=E.exec(this._userinfo),o=[n[1]||""];t&&o.push(encodeURIComponent(t)),this._userinfo=o.join(":")}},enumerable:!0},host:{get:function(){var e="";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=":"+this._url.port)),e},set:function(t){if(e(t),this._url){var n=G.exec(t);n&&(this._url.host=n[1],this._url.port=h(n[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:""},set:function(t){if(e(t),this._url){var n=C.exec(t);n&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||"":"";return e&&e===N[this.protocol]&&(e=""),e},set:function(t){if(e(t),this._url){var n=b.exec(t);n&&(this._url.port=h(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:""},set:function(t){if(e(t),this._url){var n=_.exec(t);n&&(this._url.host&&t&&"/"!==t[0]&&(t="/"+t),this._url.path=t?u(t):"")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?"?"+this._url.query:""},set:function(t){if(e(t),this._url){t&&"?"===t[0]&&(t=t.substring(1));var n=T.exec(t);n&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?"#"+this._url.fragment:""},set:function(t){if(e(t),this._url){t&&"#"===t[0]&&(t=t.substring(1));var n=P.exec(t);n&&(this._url.fragment=t)}},enumerable:!0}});var A=window.URL||window.webkitURL;A&&A.createObjectURL&&(Object.defineProperty(m,"createObjectURL",{value:A.createObjectURL.bind(A),enumerable:!1}),Object.defineProperty(m,"revokeObjectURL",{value:A.revokeObjectURL.bind(A),enumerable:!1})),window.URL=m}(),define("orion/URL-shim",function(){}),define("orion/xhr",["orion/Deferred","orion/xsrfUtils","orion/URL-shim"],function(e,t){function n(e,t,n,o){var r,i="undefined"!=typeof n.response?n.response:n.responseText,s="string"==typeof i?i:null;try{r=n.status}catch(a){r=0}var c={args:t,response:i,responseText:s,status:r,url:e,xhr:n};return"undefined"!=typeof o&&(c.error=o),c}function o(e){return new URL(location.href).origin===new URL(e,location.href).origin}function r(r,i,s){s=s||{};var a=arguments.length>3&&arguments[3]?arguments[3]:new XMLHttpRequest,c=new e,h=s.headers||{};o(i)&&t.setNonceHeader(h);var u,l=s.log||!1;"undefined"==typeof h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest"),"undefined"==typeof s.data||"POST"!==r&&"PUT"!==r||(u=s.data);var g=!1,d=!1;c.promise.then(void 0,function(e){g=!0,!d&&e instanceof Error&&"Cancel"===e.name&&a.abort()}),a.onabort=function(){if(d=!0,!g){var e=new Error("Cancel");e.name="Cancel",c.reject(e)}},a.onload=function(){var e=n(i,s,a);200<=a.status&&a.status<400?c.resolve(e):(c.reject(e),l&&"undefined"!=typeof console&&console.log(new Error(a.statusText)))},a.onerror=function(){var e=n(i,s,a);c.reject(e),l&&"undefined"!=typeof console&&console.log(new Error(a.statusText))},a.onprogress=function(e){e.xhr=a,c.progress(e)};try{if(a.open(r,i,!0),"string"==typeof s.responseType&&(a.responseType=s.responseType),"number"==typeof s.timeout)if("number"==typeof a.timeout)a.timeout=s.timeout,a.addEventListener("timeout",function(){c.reject(n(i,s,a,"Timeout exceeded"))});else{var p=setTimeout(function(){c.reject(n(i,s,a,"Timeout exceeded"))},s.timeout);c.promise.then(clearTimeout.bind(null,p),clearTimeout.bind(null,p))}Object.keys(h).forEach(function(e){a.setRequestHeader(e,h[e])}),a.send(u||null)}catch(m){c.reject(n(i,s,a,m))}return c.promise}return r}),define("orion/EventTarget",[],function(){function e(){this._namedListeners={}}return e.prototype={dispatchEvent:function(e){if(!e.type)throw new Error("unspecified type");var t=this._namedListeners[e.type];return t&&t.forEach(function(t){try{"function"==typeof t?t(e):t.handleEvent(e)}catch(n){"undefined"!=typeof console&&console.log(n)}}),!e.defaultPrevented},addEventListener:function(e,t){("function"==typeof t||t.handleEvent)&&(this._namedListeners[e]=this._namedListeners[e]||[],this._namedListeners[e].push(t))},removeEventListener:function(e,t){var n=this._namedListeners[e];if(n)for(var o=0;o<n.length;o++)if(n[o]===t){1===n.length?delete this._namedListeners[e]:n.splice(o,1);break}}},e.prototype.constructor=e,e.attach=function(t){var n=new e;t.dispatchEvent=n.dispatchEvent.bind(n),t.addEventListener=n.addEventListener.bind(n),t.removeEventListener=n.removeEventListener.bind(n)},e}),define("orion/serviceregistry",["orion/Deferred","orion/EventTarget"],function(e,t){function n(e,t,n){this._properties=n||{},this._properties["service.id"]=e,this._properties.objectClass=t,this._properties["service.names"]=t}function o(e,t,n){this._serviceId=e,this._serviceReference=t,this._internalRegistry=n}function r(t,n){function o(o){return function(){var r;try{if(!n())throw new Error("Service was unregistered");var i=t[o].apply(t,Array.prototype.slice.call(arguments));if(i&&"function"==typeof i.then)return i;r=new e,r.resolve(i)}catch(s){r=new e,r.reject(s)}return r.promise}}var r;for(r in t)"function"==typeof t[r]&&(this[r]=o(r))}function i(e,t){this.type=e,this.serviceReference=t}function s(){this._entries=[],this._namedReferences={},this._serviceEventTarget=new t;var e=this;this._internalRegistry={isRegistered:function(t){return e._entries[t]?!0:!1},unregisterService:function(t){var n=e._entries[t];if(!n)throw new Error("Service has already been unregistered: "+t);var o=n.reference;e._serviceEventTarget.dispatchEvent(new i("unregistering",o)),e._entries[t]=null;var r=o.getProperty("objectClass");r.forEach(function(t){for(var n=e._namedReferences[t],r=0;r<n.length;r++)if(n[r]===o){1===n.length?delete e._namedReferences[t]:n.splice(r,1);break}})},modifyService:function(t){var n=e._entries[t];if(!n)throw new Error("Service not found while trying to send modified event: "+t);var o=n.reference;e._serviceEventTarget.dispatchEvent(new i("modified",o))}}}return n.prototype={getPropertyKeys:function(){var e,t=[];for(e in this._properties)this._properties.hasOwnProperty(e)&&t.push(e);return t},getProperty:function(e){return this._properties[e]}},n.prototype.constructor=n,o.prototype={unregister:function(){this._internalRegistry.unregisterService(this._serviceId)},getReference:function(){if(!this._internalRegistry.isRegistered(this._serviceId))throw new Error("Service has already been unregistered: "+this._serviceId);return this._serviceReference},setProperties:function(e){var t=this._serviceReference._properties;this._serviceReference._properties=e||{},e["service.id"]=this._serviceId,e.objectClass=t.objectClass,e["service.names"]=t["service.names"],this._internalRegistry.modifyService(this._serviceId)}},o.prototype.constructor=o,s.prototype={getService:function(e){var t;if("string"==typeof e){var n=this._namedReferences[e];n&&n.some(function(e){return t=this._entries[e.getProperty("service.id")].service,!!t},this)}else{var o=this._entries[e.getProperty("service.id")];o&&(t=o.service)}return t||null},getServiceReferences:function(e){if(e)return this._namedReferences[e]?this._namedReferences[e]:[];var t=[];return this._entries.forEach(function(e){e&&t.push(e.reference)}),t},registerService:function(e,t,s){if("undefined"==typeof t||null===t)throw new Error("invalid service");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var a=this._entries.length,c=new n(a,e,s),h=this._namedReferences;e.forEach(function(e){h[e]=h[e]||[],h[e].push(c)});var u=new r(t,this._internalRegistry.isRegistered.bind(null,a));this._entries.push({reference:c,service:u});var l=this._internalRegistry;return this._serviceEventTarget.dispatchEvent(new i("registered",c)),new o(a,c,l)},addEventListener:function(e,t){this._serviceEventTarget.addEventListener(e,t)},removeEventListener:function(e,t){this._serviceEventTarget.removeEventListener(e,t)}},s.prototype.constructor=s,{ServiceRegistry:s}}),define("orion/operation",["orion/xhr","orion/Deferred"],function(e,t){function n(e){return e?"loadstart"===e||"progress"===e?!0:!1:!0}function o(t){e("DELETE",t,{headers:{"Orion-Version":"1"},timeout:15e3})}function r(t){e("PUT",t,{headers:{"Orion-Version":"1"},data:JSON.stringify({abort:!0}),timeout:15e3})}function i(t,r,s,a){e("GET",t.location,{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(e){var c=e.response?JSON.parse(e.response):null;return r.progress(c),n(c.type)?(setTimeout(function(){i(t,r,s,a)},t.timeout),void(t.timeout=Math.min(2*t.timeout,2e3))):("error"===c.type||"abort"===c.type?r.reject(a?a(c):c.Result):r.resolve(s?s(c):c.Result.JsonData),void(c.Location||o(t.location)))},function(e){var t=e;if(void 0!==e.responseText){t=e.responseText;try{t=JSON.parse(e.responseText)}catch(n){}}void 0!==t.Message?(t.HttpCode=void 0===t.HttpCode?e.status:t.HttpCode,t.Severity=void 0===t.Severity?"Error":t.Severity,r.reject(t)):r.reject({Severity:"Error",Message:t,HttpCode:e.status})})}function s(e,t){t.then(null,function(t){t instanceof Error&&"Cancel"===t.name&&r(e)})}function a(e,n,o){var r=new t;return s(e,r),i({location:e,timeout:100},r,n,o),r}return{handle:a}}),define("orion/git/gitClient",["require","orion/xhr","orion/Deferred","orion/operation"],function(e,t,n,o){var r=r||{};return r.GitService=function(){function r(e){e&&(this._serviceRegistry=e,this._serviceRegistration=e.registerService("orion.git.provider",this))}var i="application/json; charset=UTF-8";return r.prototype={checkGitService:function(){},cloneGitRepository:function(o,r,s,a,c,h,u,l,g,d,p){var m=this,f={};o&&(f.Name=o),s&&(f.Path=s),r&&(f.GitUrl=r),f.Location=a,c&&(f.GitSshUsername=c),h&&(f.GitSshPassword=h),u&&(f.GitSshKnownHost=u),l&&(f.GitSshPrivateKey=l),g&&(f.GitSshPassphrase=g),d&&(d.GitMail&&(f.GitMail=d.GitMail),d.GitName&&(f.GitName=d.GitName)),p&&(f.initProject=p);var v=e.toUrl("gitapi/clone/._");v=v.substring(0,v.length-2);var y=new n;return t("POST",v,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify(f)}).then(function(e){m._getGitServiceResponse(y,e)},function(e){m._handleGitServiceResponseError(y,e)}),y},removeGitRepository:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},getGitStatus:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},stage:function(e){var o=this,r=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},stageMultipleFiles:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Path:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},unstageAll:function(e,o){var r=this,s=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Reset:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},unstage:function(e,o){var r=this,s=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Path:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},checkoutPath:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Path:o,RemoveUntracked:"true"})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},ignorePath:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Path:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},commitAll:function(e,o,r){var s=this,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:r}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},getGitClone:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},getGitCloneConfig:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},getGitBranch:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},getGitRemote:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},checkoutBranch:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Branch:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},resetIndex:function(e,o,r){var s=this,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Commit:o,Reset:r?r:"HARD"})}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},addBranch:function(e,o,r){var s=this,a={};o&&(a.Name=o),r&&(a.Branch=r);var c=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify(a)}).then(function(e){s._getGitServiceResponse(c,e)},function(e){s._handleGitServiceResponseError(c,e)}),c},removeBranch:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},addRemote:function(e,o,r){var s=this,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Remote:o,RemoteURI:r})}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},removeRemote:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},doGitLog:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},getDiff:function(e,o){var r=this,s=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({New:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},doGitDiff:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},doFetch:function(e,o,r,s,a,c,h){var u=this,l=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Fetch:"true",Force:o,GitSshUsername:r,GitSshPassword:s,GitSshKnownHost:a,GitSshPrivateKey:c,GitSshPassphrase:h})}).then(function(e){u._getGitServiceResponse(l,e)},function(e){u._handleGitServiceResponseError(l,e)}),l},doPull:function(e,o,r,s,a,c,h){var u=this,l=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Pull:"true",Force:o,GitSshUsername:r,GitSshPassword:s,GitSshKnownHost:a,GitSshPrivateKey:c,GitSshPassphrase:h})}).then(function(e){u._getGitServiceResponse(l,e)},function(e){u._handleGitServiceResponseError(l,e)}),l},doMerge:function(e,o,r){var s=this,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Merge:o,Squash:r})}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},doCherryPick:function(e,o){var r=this,s=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({"Cherry-Pick":o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},doRevert:function(e,o){var r=this,s=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Revert:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},doRebase:function(e,o,r){var s=this,a={};a.Rebase=o,r&&(a.Operation=r);var c=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify(a)}).then(function(e){s._getGitServiceResponse(c,e)},function(e){s._handleGitServiceResponseError(c,e)}),c},doPush:function(e,o,r,s,a,c,h,u,l){var g=this,d=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({PushSrcRef:o,PushTags:r,Force:s,GitSshUsername:a,GitSshPassword:c,GitSshKnownHost:h,GitSshPrivateKey:u,GitSshPassphrase:l})}).then(function(e){g._getGitServiceResponse(d,e)},function(e){g._handleGitServiceResponseError(d,e)}),d},getLog:function(e,o){var r=this,s=new n,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({New:o})}).then(function(e){a.resolve(e.xhr.getResponseHeader("Location"))},function(e){r._handleGitServiceResponseError(s,e)}),a.then(function(e){t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)})}),s},getDefaultRemoteBranch:function(e){var o=this,r=new n,s=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(s,e)},function(e){o._handleGitServiceResponseError(r,e)}),s.then(function(e){t("GET",e.Children[0].Location,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)})}),r},doAddTag:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Name:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},doRemoveTag:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)
},function(e){o._handleGitServiceResponseError(r,e)}),r},checkoutTag:function(e,o,r){var s=this,a=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Tag:o,Branch:r})}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},doStashCreate:function(e,o,r,s){var a=this,c={};null!=o&&(c.IndexMessage=o),null!=r&&(c.WorkingDirectoryMessage=r),s===!0&&(c.IncludeUntracked=!0);var h=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify(c)}).then(function(e){a._getGitServiceResponse(h,e)},function(e){a._handleGitServiceResponseError(h,e)}),h},doStashPop:function(e){var o=this,r=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},doStashApply:function(e){var o=this,r=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},doStashList:function(e){var o=this,r=new n;return t("GET",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},doStashDrop:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},addCloneConfigurationProperty:function(e,o,r){var s=this,a=new n;return t("POST",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Key:o,Value:r})}).then(function(e){s._getGitServiceResponse(a,e)},function(e){s._handleGitServiceResponseError(a,e)}),a},editCloneConfigurationProperty:function(e,o){var r=this,s=new n;return t("PUT",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({Value:o})}).then(function(e){r._getGitServiceResponse(s,e)},function(e){r._handleGitServiceResponseError(s,e)}),s},deleteCloneConfigurationProperty:function(e){var o=this,r=new n;return t("DELETE",e,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json"}).then(function(e){o._getGitServiceResponse(r,e)},function(e){o._handleGitServiceResponseError(r,e)}),r},sendCommitReviewRequest:function(e,o,r,s,a,c){var h=this,u=new n;return t("POST",o,{headers:{"Orion-Version":"1","Content-Type":i},timeout:15e3,handleAs:"json",data:JSON.stringify({ReviewReqCommit:e,ReviewReqUrl:s,ReviewReqNotifyLogin:r,ReviewReqAuthorName:a,ReviewMessage:c})}).then(function(e){h._getGitServiceResponse(u,e)},function(e){h._handleGitServiceResponseError(u,e)}),u},_getGitServiceResponse:function(e,t){var n=t.response?JSON.parse(t.response):null;if(t.xhr&&202===t.xhr.status){var r=o.handle(n.Location);return r.then(e.resolve,function(t){t.failedOperation=n.Location,e.reject(t)},e.progress),void e.then(null,function(e){r.reject(e)})}e.resolve(n)},_handleGitServiceResponseError:function(e,t){e.reject(t)}},r}(),r}),define("orion/ssh/sshTools",["orion/Deferred","orion/xhr"],function(e,t){var n=n||{};return n.SshService=function(){function n(n){if(n&&(this._serviceRegistry=n,this._authService=n.getService("orion.core.auth"),this._serviceRegistration=n.registerService("orion.net.ssh",this),!this._authService)){var o;this._authService={getUser:function(){if(o){var n=new e;return n.resolve(o),n}return t("POST","../../login",{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(e){return o=e.response?JSON.parse(e.response):null},function(e){return o=null,e instanceof Error&&"Cancel"===e.name?"_cancel":e.response?JSON.parse(e.response):null})}}}}return n.prototype={KNOWN_HOSTS:"knownHosts",addKnownHost:function(t){t=t||{};var n=new e,o=this,r=t.host,i=t.keyType,s=t.hostKey,a=t.port||22;return r&&i&&s&&a?(this._authService.getUser().then(function(e){var t=localStorage.getItem(e.login+"/"+o.KNOWN_HOSTS);t=t?JSON.parse(t):[];for(var c=0;c<t.length;++c){var h=t[c];if(h.host===r&&h.port===a)return void n.resolve(h.host+" "+h.keyType+" "+h.hostKey)}var h={host:r,port:a,keyType:i,hostKey:s};t.push(h),localStorage.setItem(e.login+"/"+o.KNOWN_HOSTS,JSON.stringify(t)),n.resolve(h.host+" "+h.keyType+" "+h.hostKey)},function(e){n.reject(e)}),n):(n.reject(),n)},clearKnownHosts:function(){var t=new e,n=this;return this._authService.getUser().then(function(e){var o=localStorage.getItem(e.login+"/"+n.KNOWN_HOSTS);o=o?JSON.parse(o):[],localStorage.removeItem(e.login+"/"+n.KNOWN_HOSTS),t.resolve(o)},function(e){t.reject(e)}),t},getKnownHostCredentials:function(t,n){var o=new e,r=this;return n=n||22,t&&n?(this._authService.getUser().then(function(e){var i=localStorage.getItem(e.login+"/"+r.KNOWN_HOSTS);i=i?JSON.parse(i):[];for(var s=0;s<i.length;++s){var a=i[s];if(a.host===t&&a.port===n)return void o.resolve(a.host+" "+a.keyType+" "+a.hostKey)}o.resolve("")},function(e){o.reject(e)}),o):(o.reject(),o)}},n}(),n}),define("orion/i18nUtil",["require","orion/Deferred"],function(){function e(e){var t=/\$\{([^\}]+)\}/g,n=arguments;return 2===n.length&&n[1]&&"object"==typeof n[1]?e.replace(t,function(e,t){return n[1][t]}):e.replace(t,function(e,t){return n[(t<<0)+1]})}return{formatMessage:e}}),function(e){function t(){Error.apply(this,arguments)}function n(e,t,n){return e>=t&&n>=e}function o(e,t){var n=e||"utf-8";if("utf-8"!==n&&"utf8"!==n&&"unicode-1-1-utf-8"!==n)throw new TypeError("only utf-8 supported");Object.defineProperties(this,{encoding:{value:n,enumerable:!0},_fatal:{value:t&&t.fatal},_saved:{value:[],writable:!0},_checkBOM:{value:!0,writable:!0}})}function r(e){var t=e||"utf-8";if("utf-8"!==t&&"utf8"!==t&&"unicode-1-1-utf-8"!==t)throw new TypeError("only utf-8 supported");Object.defineProperties(this,{encoding:{value:t,enumerable:!0},_saved:{value:null,writable:!0}})}t.prototype=new Error,t.prototype.constructor=t,t.prototype.name="EncodingError",o.prototype.decode=function(e,o){function r(){if(this._fatal)throw this._saved.length=l=0,p=d,this._checkBOM=this._checkBOM||!u,new t;m[f++]=65533}e=e instanceof Uint8Array?e:new Uint8Array(e);var i,s,a,c,h,u=o&&o.stream,l=this._saved.length,g=e.length,d=0,p=0,m=new Uint16Array(g+l),f=0;if(this._checkBOM&&g)if(l+g>2){for(var v=l;3>v;v++)this._saved.push(e[d++]);239!==this._saved[0]||187!==this._saved[1]||191!==this._saved[2]?(d=0,this._saved.length=l):l=this._saved.length-=3,this._checkBOM=!1}else if(u)for(;g>d;)this._saved.push(e[d++]);for(;g>d;){if(i=l>0?this._saved[0]:e[d++],128>i)m[f++]=i;else if(n(i,194,223)){if(d===g)break;if(s=l>1?this._saved[1]:e[d++],!n(s,128,191)){r();continue}m[f++]=(31&i)<<6|63&s}else if(n(i,224,239)){if(d===g)break;if(s=l>1?this._saved[1]:e[d++],224===i&&!n(s,160,191)||237===i&&!n(s,128,159)||!n(s,128,191)){r();continue}if(d===g)break;if(a=l>2?this._saved[2]:e[d++],!n(a,128,191)){r();continue}m[f++]=(15&i)<<12|(63&s)<<6|63&a}else if(n(i,240,244)){if(d===g)break;if(s=l>1?this._saved[1]:e[d++],240===i&&!n(s,144,191)||244===i&&!n(s,128,143)||!n(s,128,191)){r();continue}if(d===g)break;if(a=l>2?this._saved[2]:e[d++],!n(a,128,191)){r();continue}if(d===g)break;if(c=e[d++],!n(c,128,191)){r();continue}h=65535&((7&i)<<18|(63&s)<<12|(63&a)<<6|63&c),m[f++]=h>>10|55296,m[f++]=1023&h|56320}else r();p=d,l&&(this._saved.length=l=0)}for(;p!==d;)this._saved.push(e[p++]);if(this._checkBOM=this._checkBOM||!u,!u&&0!==this._saved.length)throw new t;for(var y=[],S=0;f>S;S+=65536)y.push(String.fromCharCode.apply(null,m.subarray(S,Math.min(f,S+65536))));return y.join("")},r.prototype.encode=function(e,o){e=String(void 0!==e?e:"");for(var r,i,s,a=o&&o.stream,c=e.length,h=0,u=new Uint8Array(3*(c+(null===this._saved?0:1))),l=0;c>h;)if(null===this._saved?r=e.charCodeAt(h++):(r=this._saved,this._saved=null),128>r)u[l++]=r;else if(2048>r)u[l++]=192|r>>6,u[l++]=128|63&r;else if(55296>r||r>56319)u[l++]=224|r>>12,u[l++]=128|r>>6&63,u[l++]=128|63&r;else{if(!(c>h)){if(a){this._saved=r;break}throw new t}if(i=e.charCodeAt(h++),!n(i,56320,57343))throw new t;s=65536|(1023&r)<<10|1023&i,u[l++]=240|s>>18,u[l++]=128|s>>12&63,u[l++]=128|s>>6&63,u[l++]=128|63&s}if(!a&&null!==this._saved)throw new t;return u.buffer.slice?new Uint8Array(u.buffer.slice(0,l)):u.subarray(0,l)},e.TextDecoder=e.TextDecoder||o,e.TextEncoder=e.TextEncoder||r}("undefined"==typeof global?this||self:global),define("orion/encoding-shim",function(){}),define("orion/git/GitFileImpl",["orion/xhr","orion/Deferred","orion/encoding-shim","orion/URL-shim"],function(e,t){function n(e){this.fileBase=e}return n.prototype={fetchChildren:function(n){var o=n;return o===this.fileBase?(new t).resolve([]):(-1===o.indexOf("?depth=")&&(o+="?depth=1"),e("GET",o,{headers:{"Orion-Version":"1","Content-Type":"charset=UTF-8"},timeout:15e3}).then(function(e){var t=e.response?JSON.parse(e.response):{};return t.Children||[]}))},loadWorkspaces:function(){return this.loadWorkspace(this._repoURL)},loadWorkspace:function(t){return"/gitapi/"===t&&(t+="tree/"),e("GET",t,{headers:{"Orion-Version":"1","Content-Type":"charset=UTF-8"},timeout:15e3}).then(function(e){var t=e.response?JSON.parse(e.response):{};return t||{}})},createProject:function(){throw new Error("Not supported")},createFolder:function(){throw new Error("Not supported")},createFile:function(){throw new Error("Not supported")},deleteFile:function(){throw new Error("Not supported")},moveFile:function(){throw new Error("Not supported")},copyFile:function(){throw new Error("Not supported")},read:function(t,n){var o=new URL(t,window.location);return n&&o.query.set("parts","meta"),e("GET",o.href,{timeout:15e3,headers:{"Orion-Version":"1"},log:!1}).then(function(e){return n?e.response?JSON.parse(e.response):null:e.response})},write:function(){throw new Error("Not supported")},remoteImport:function(){throw new Error("Not supported")},remoteExport:function(){throw new Error("Not supported")},readBlob:function(t){return e("GET",t,{responseType:"arraybuffer",timeout:15e3}).then(function(e){return e.response})},writeBlob:function(){throw new Error("Not supported")}},n.prototype.constructor=n,n}),function(){function e(e,t,n,o,r,i){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&o.push(r+e+"/"+i))}function t(e,t,n,o,r){var i=o+t+"/"+r;require._fileExists(e.toUrl(i+".js"))&&n.push(i)}function n(e,t,o){var r;for(r in t)!t.hasOwnProperty(r)||e.hasOwnProperty(r)&&!o?"object"==typeof t[r]&&(!e[r]&&t[r]&&(e[r]={}),n(e[r],t[r],o)):e[r]=t[r]}var o=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(r){var i=r.config?r.config():{};return{version:"2.0.4",load:function(r,s,a,c){c=c||{},c.locale&&(i.locale=c.locale);var h,u,l,g=o.exec(r),d=g[1],p=g[4],m=g[5],f=p.split("-"),v=[],y={},S="";if(g[5]?(d=g[1],h=d+m):(h=r,m=g[4],p=i.locale,p||(p=i.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),f=p.split("-")),c.isBuild){for(v.push(h),t(s,"root",v,d,m),u=0;u<f.length;u++)l=f[u],S+=(S?"-":"")+l,t(s,S,v,d,m);if(c.locales){var w,R;for(w=0;w<c.locales.length;w++)for(p=c.locales[w],f=p.split("-"),S="",R=0;R<f.length;R++)l=f[R],S+=(S?"-":"")+l,t(s,S,v,d,m)}s(v,function(){a()})}else s([h],function(t){var o,r=[];for(e("root",t,r,v,d,m),u=0;u<f.length;u++)o=f[u],S+=(S?"-":"")+o,e(S,t,r,v,d,m);s(v,function(){var e,o,i;for(e=r.length-1;e>-1&&r[e];e--)i=r[e],o=t[i],(o===!0||1===o)&&(o=s(d+i+"/"+m)),n(y,o);a(y)})})}}})}(),define("git/nls/gitmessages",{root:!0}),define("git/nls/root/gitmessages",{Compare:"Compare","View the side-by-side compare":"View the side-by-side compare",WorkingDirVer:"Open Working Directory","Working Directory":"Working Directory",ViewWorkingDirVer:"View the working directory version of the file","Loading...":"Loading...",Repositories:"Git",Repo:"Repositories","0 on 1 - Git":"${0} on ${1} - Git",Git:"Git","Show in eclipse.org":"Show in eclipse.org","Show in GitHub":"Show in GitHub","Show this repository in GitHub":"Show this repository in GitHub","Commit Details":"Commit Details","No Commits":"No Commits","commit: 0":"commit: ${0}","parent: 0":"parent: ${0}","authored by 0 (1) on 2":"authored by ${0} <${1}> on ${2}","committed by 0 (1)":"committed by ${0} <${1}>",committedby:"committed by ",authoredby:"authored by ",on:" on ",nameEmail:"${0} <${1}>","Tags:":"Tags:","No Tags":"No Tags",Diffs:"Changes",WorkingDirChanges:"Working Directory Changes",CommitChanges:"Commit Changes",CommitChangesDialog:"Commit Changes",more:"more ...",less:"less ...",More:"More",MoreFiles:"More Files",MoreFilesProgress:"Loading more files...",MoreCommits:'More commits for "${0}"',MoreCommitsProgress:'Loading more commits for "${0}"...',MoreBranches:'More branches for "${0}"',MoreBranchesProgress:'Loading more branches for "${0}"...',MoreTags:"More tags",MoreTagsProgress:"Loading more tags...",MoreStashes:"More stashes",MoreStashesProgress:"Loading more stashes...","Loading git log...":"Loading git log...",local:"local",remote:"remote","View All":"View All","Error ${0}: ":"Error ${0}: ","Loading ":"Loading ",Message:"Message",Author:"Author",Date:"Date","fromDate:":"Start Date:","toDate:":"End Date:",Actions:"Actions",Branches:"Branches",Tags:"Tags",Stage:"Stage","Unstaged removal":"Unstaged removal",Unstage:"Unstage","Staged removal":"Staged removal","Unstaged change":"Unstaged change","Staged change":"Staged change","Unstaged add":"Unstaged add","Staged add":"Staged add",Addition:"Addition",Deletion:"Deletion","Resolve Conflict":"Resolve Conflict",Conflicting:"Conflicting","Commit message":"Commit message",Commit:"Commit",CommitTooltip:"Commit the selected files with the given message.",AuthMsgLink:'Authentication required for: ${0}. <a target="_blank" href="${1}">${2}</a> and re-try the request. </span>',SmartCommit:"Enter the commit message",SmartCountCommit:"Commit ${0} file(s)","Amend last commit":"Amend last commit"," Amend":" Amend","Rebase in progress. Choose action:":"Rebase in progress. Choose action:",RebaseProgress:"Rebase in progress",RebaseTip:'Rebase your commits by removing them from the active branch, starting the active branch again based on the latest state of "${0}" and applying each commit again to the updated active branch.',RebasingRepo:"Rebasing git repository",AddingConfig:"Adding git configuration property: key=${0} value=${1}",EditingConfig:"Editing git configuration property: key=${0}",DeletingConfig:"Deleting git configuration property: key=${0}",AddClone:"Cloning repository: ${0}",RebaseProgressDetails:"Rebasing branch.\n\n	Use Continue after merging the conflicts and selecting all files;\n	Skip to bypass the current patch;\n	Abort to end the rebase at any time.","Committer name:":"Committer name:","Name:":"Name:","email:":"email:","Email:":"Email:","Author name: ":"Author name: ",Unstaged:"Unstaged",Staged:"Staged",ChangedFiles:"Changed Files","Recent commits on":"Recent commits on","Git Status":"Git Status","Go to Git Status":"Open the Git Status page for the repository containing this file or folder.",GetGitIncomingMsg:"Getting git incoming changes...",Checkout:"Checkout","Checking out...":"Checking out...","Stage the change":"Stage the change","Staging...":"Staging...",CheckoutSelectedFiles:"Checkout all the selected files, discarding all changes",AddFilesToGitignore:"Add all the selected files to .gitignore file(s)","Writing .gitignore rules":"Writing .gitignore rules","Save Patch":"Save Patch","Unstage the change":"Unstage the change","Unstaging...":"Unstaging...",Undo:"Undo",UndoTooltip:"Revert this commit, keeping all changed files and not making any changes to the working directory.",UndoConfirm:'The content of your active branch will be replaced with commit "${0}". All changes in the commit and working directory will be kept. Are you sure?',Reset:"Reset",ResetConfirm:"All unstaged and staged changes in the working directory and index will be discarded and cannot be recovered.\n\nAre you sure you want to continue?",CheckoutConfirm:"Your changes to the selected files will be discarded and cannot be recovered.\n\nAre you sure you want to continue?",ResetBranchDiscardChanges:"Reset the branch, discarding all staged and unstaged changes",ChangesIndexDiscardedMsg:"All unstaged and staged changes in the working directory and index will be discarded and cannot be recovered.",ContinueMsg:"Are you sure you want to continue?",KeepWorkDir:"Keep Working Directory","Resetting local changes...":"Resetting local changes...","Continue rebase...":"Continue rebase...","Skipping patch...":"Skipping patch...","Aborting rebase...":"Aborting rebase...","Complete log":"Complete log","local VS index":"local VS index","index VS HEAD":"index VS HEAD","Compare(${0} : ${1})":"Compare(${0} : ${1})","Loading status...":"Loading status...","Committing...":"Committing...","The author name is required.":"The author name is required.","The author mail is required.":"The author mail is required.",RepoConflict:". Repository still contains conflicts.",RepoUnmergedPathResolveConflict:". Repository contains unmerged paths. Resolve conflicts first.","Rendering ${0}":"Rendering ${0}",Configuration:"Configuration","Getting configuration of":"Getting configuration of ${0}","Getting git repository details":"Getting git repository details","Getting changes":"Getting changes"," - Git":" - Git","Repositories - Git":"Repositories - Git",Repository:"Repository","Repository Not Found":"Repository Not Found","No Repositories":"No Repositories","Loading repository":"Loading repository","Loading repositories":"Loading repositories","(no remote)":"(no remote)","location: ":"location: ",NumFilesStageAndCommit:"${0} file(s) to stage and ${1} file(s) to commit.","Nothing to commit.":"Nothing to commit.","Nothing to push.":"Nothing to push.",NCommitsToPush:"${0} commit(s) to push.","You have no changes to commit.":"You have no changes to commit.","Rebase in progress!":"Rebase in progress!","View all local and remote tracking branches":"View all local and remote tracking branches",tracksNoBranch:"tracks no branch",tracks:"tracks ${0}","last modified ${0} by ${1}":"last modified ${0} by ${1}","No Remote Branches":"No Remote Branches","Rendering branches":"Rendering branches",Commits:"Commits",GettingCurrentBranch:"Getting current branch for ${0}","See Full Log":"See Full Log","See the full log":"See the full log",'Getting commits for "${0}" branch':'Getting commits for "${0}" branch',"Rendering commits":"Rendering commits","Getting outgoing commits":"Getting outgoing commits","The branch is up to date.":"The branch is up to date.",NoOutgoingIncomingCommits:"You have no outgoing or incoming commits.",") by ":") by "," (SHA ":" (SHA ","Getting tags":"Getting tags","View all tags":"View all tags"," on ":" on "," by ":" by ",Remotes:"Remotes","Rendering remotes":"Rendering remotes","No Remotes":"No Remotes","Unstaged addition":"Unstaged addition","Staged addition":"Staged addition"," (Rebase in Progress)":" (Rebase in Progress)",Status:"Status","Log (0)":"Log (${0})","Log (0) - 1":"Log (${0}) - ${1}","Status for ${0} - Git ":"Status for ${0} - Git ","No Unstaged Changes":"No Unstaged Changes","No Staged Changes":"No Staged Changes",'Changes for "${0}" branch':"Changes for ${0}",'Commits for "${0}" branch':"Commits for ${0}",'Commits for "${0}" branch against':'Commits for "${0}" branch against',"Add Remote":"Add Remote","Remote Name:":"Remote Name:","Remote URI:":"Remote URI:","Apply Patch":"Apply Patch",ApplyPatchDialog:"Apply Patch","Git Repository":"Git Repository","Go to the git repository":"Open the Git Repository page for this file or folder.","Clone Git Repository":"Clone Git Repository",CloneGitRepositoryDialog:"Clone Git Repository","Repository URL:":"Repository URL:","Existing directory:":"Existing directory:","New folder:":"New folder:",ChooseFolderDialog:"Choose a Folder","Message:":"Message:","Amend:":"Amend:",SmartAmend:"Amend previous commit","ChangeId:":"ChangeId:",SmartChangeId:"Add Change-ID to message","Committer Name:":"Committer Name:","Committer Email:":"Committer Email:",AuthorNamePlaceholder:"Enter author name",AuthorEmailPlaceholder:"Enter author email",CommitterNamePlaceholder:"Enter committer name",CommitterEmailPlaceholder:"Enter committer email","Author Name:":"Author Name:","Author Email:":"Author Email:","The commit message is required.":"The commit message is required.","Git Credentials":"Git Credentials","Username:":"Username:","Private key:":"Private key:","Passphrase (optional):":"Passphrase (optional):","commit:":"commit: ","parent:":"parent: ","branches: ":"branches: ","tags: ":"tags: ",tags:"tags"," authored by ${0} {${1}) on ${2}":" authored by ${0} (${1}) on ${2}",Content:"Content","Go to ${0} section":"Go to ${0} section","Type the commit name (sha1):":"Type the commit name (sha1):",Search:"Search","Searching...":"Searching...",SelectAll:"Select All","Looking for the commit":"Looking for the commit","New Branch:":"New Branch:","No remote selected":"No remote selected","Enter a name...":"Enter a name...",OK:"OK",Cancel:"Cancel",Clear:"Clear",Filter:"Filter",FilterCommits:"Filter Commits",FilterCommitsTip:"Toggles the filter commits panel",MaximizeCmd:"Maximize",MaximizeTip:"Toggles the maximize state of the editor"," [New branch]":" [New branch]",AddKeyToHostContinueOp:"Would you like to add ${0} key for host ${1} to continue operation? Key fingerpt is ${2}.","Link Repository":"Link Repository","Folder name:":"Folder name:","Repository was linked to ":"Repository was linked to ",CheckoutCommitTooltip:"Checkout this commit, creating a local branch based on its contents.",CheckoutTagTooltip:"Checkout this tag, creating a local branch based on its contents.","Checking out ${0}":"Checking out ${0}",CheckoutBranchMsg:"Checkout the branch or corresponding local branch and make it active. If the remote tracking branch does not have a corresponding local branch, the local branch will be created first.","Checking out branch...":"Checking out branch","Adding branch ${0}...":"Adding branch ${0}","Removing branch ${0}...":"Removing branch ${0}","Adding remote ${0}...":"Adding remote ${0}","Removing remote ${0}...":"Removing remote ${0}","Removing repository ${0}":"Removing repository ${0}","Adding tag {$0}":"Adding tag {$0}","Removing tag {$0}":"Removing tag {$0}","Merging ${0}":"Merging ${0}","Unstaging changes":"Unstaging changes","Checking out branch ${0}...":"Checking out branch ${0}","Branch checked out.":"Branch checked out.","New Branch":"New Branch","Add a new local branch to the repository":"Add a new local branch to the repository","Branch name":"Branch name",Delete:"Delete","Delete the local branch from the repository":"Delete the local branch from the repository",DelBrConfirm:"Are you sure you want to delete branch ${0}?","Delete the remote tracking branch from the repository":"Delete the remote tracking branch from the repository","Are you sure?":"Are you sure?",RemoveRemoteBranchConfirm:'You\'re going to delete remote branch "${0}" and push the change.\n\nAre you sure?',"Removing remote branch: ":"Removing remote branch: ","Delete Remote Branch":"Delete Remote Branch","New Remote":"New Remote","Git Remote":"Git Remote","Go to Git Remote":"Open the remote Git Log page for this file or folder.","Add a new remote to the repository":"Add a new remote to the repository","Delete the remote from the repository":"Delete the remote from the repository","Are you sure you want to delete remote ${0}?":"Are you sure you want to delete remote ${0}?",Pull:"Pull","Pull from the repository":"Pull from the repository","Pulling: ":"Pulling: ","Pull Git Repository":"Pull Git Repository","Git Log":"Git Log","Go to Git Log":"Open the local Git Log page for this file or folder.","Open the log for the branch":"Open the log for the branch","Open the log for the repository":"Open the log for the repository","Open the status for the repository":"Open the status for the repository",ShowInEditor:"Show in Editor",ShowInEditorTooltip:"Show the repository folder in the editor",CompareEach:"Compare With Each Other","Compare With Working Tree":"Compare With Working Tree",Open:"Open",OpenGitCommitTip:"View the tree for this commit",OpenCommitVersion:"Open Commit",ViewCommitVersionTip:"View the committed version of the file",Fetch:"Fetch","Fetch from the remote":"Fetch from the remote","Password:":"Password:","User Name:":"User Name:","Fetching remote: ":"Fetching remote: ","Force Fetch":"Force Fetch",FetchRemoteBranch:"Fetch from the remote branch into your remote tracking branch overriding its current content",OverrideContentRemoteTrackingBr:"You're going to override content of the remote tracking branch. This can cause the branch to lose commits.",Merge:"Merge",MergeContentFrmBr:"Merge the content from the branch to your active branch",". Go to ${0}.":". Go to ${0}.","Git Status page":"Git Status page",Rebase:"Rebase",RebaseCommitsMsg:"Rebase your commits by removing them from the active branch, starting the active branch again based on the latest state of the selected branch ","Rebase on top of ":"Rebase on top of ",RebaseSTOPPED:". Some conflicts occurred. Please resolve them and continue, skip patch or abort rebasing.",RebaseFAILED_WRONG_REPOSITORY_STATE:". Repository state is invalid (i.e. already during rebasing).",RebaseFAILED_UNMERGED_PATHS:". Repository contains unmerged paths.",RebaseFAILED_PENDING_CHANGES:". Repository contains pending changes. Please commit or stash them.",RebaseUNCOMMITTED_CHANGES:". There are uncommitted changes.",RebaseCommitsByRmvingThem:"Rebase your commits by removing them from the active branch, ",StartActiveBranch:"starting the active branch again based on the latest state of '",ApplyEachCommitAgain:"and applying each commit again to the updated active branch.","Push All":"Push All",PushCommitsTagsFrmLocal:"Push commits and tags from your local branch into the remote branch","Push Branch":"Push Branch",PushResult:"Push Result:",PushCommitsWithoutTags:"Push commits without tags from your local branch into the remote branch","Push for Review":"Push for Review","Push commits to Gerrit Code Review":"Push commits to Gerrit Code Review","Force Push Branch":"Force Push Branch",PushCommitsWithoutTagsOverridingCurrentContent:"Push commits without tags from your local branch into the remote branch overriding its current content","Pushing remote: ":"Pushing remote: ",ChooseBranchDialog:"Choose Branch","Choose the remote branch.":"Choose the remote branch.","Force Push All":"Force Push All",PushCommitsTagsFrmLocalBr:"Push commits and tags from your local branch into the remote branch overriding its current content",OverrideContentOfRemoteBr:"You're going to override content of the remote branch. This can cause the remote repository to lose commits.","< Previous Page":"< Previous Page","Show previous page of git log":"Show previous page of git log","Show previous page of git tags":"Show previous page of git tags","Next Page >":"Next Page >","Show next page of git log":"Show next page of git log","Show next page of git tags":"Show next page of git tags","Push from your local branch into the selected remote branch":"Push from your local branch into the selected remote branch",ResetActiveBr:"Reset your active branch to the state of this reference. Discard all staged and unstaged changes.",GitResetIndexConfirm:'The content of your active branch will be replaced with commit "${0}". All unstaged and staged changes will be discarded and cannot be recovered if "${1}" is not checked. Are you sure?',"Resetting index...":"Resetting index...","Resetting git index for ${0}":"Resetting git index for ${0}",Tag:"Tag","Create a tag for the commit":"Create a tag for the commit",ProjectSetup:"Your project is being set up. This may take a minute...",LookingForProject:"Looking for project: ${0}","Tag name":"Tag name","Delete the tag from the repository":"Delete the tag from the repository","Are you sure you want to delete tag ${0}?":"Are you sure you want to delete tag ${0}?","Cherry-Pick":"Cherry-Pick",CherryPicking:"Cherry Picking commit: ${0}",RevertingCommit:"Reverting commit: ${0}","Apply the change introduced by the commit to your active branch":"Apply the change introduced by the commit to your active branch","Nothing changed.":"Nothing changed.",". Some conflicts occurred":". Some conflicts occurred.","Fetch from the remote branch into your remote tracking branch":"Fetch from the remote branch into your remote tracking branch","Fetch Git Repository":"Fetch Git Repository",Push:"Push","Push from your local branch into the remote branch":"Push from your local branch into the remote branch","Push Git Repository":"Push Git Repository","Key:":"Key:","Value:":"Value:","New Configuration Entry":"New Configuration Entry",Edit:"Edit","Edit the configuration entry":"Edit the configuration entry","Delete the configuration entry":"Delete the configuration entry","Are you sure you want to delete ${0}?":"Are you sure you want to delete ${0}?","Clone Repository":"Clone Repository","Clone an existing Git repository to a folder":"Clone an existing Git repository to a folder","Cloning repository: ":"Cloning repository: ","Init Repository":"Init Repository","Create a new Git repository in a new folder":"Create a new Git repository in a new folder","Initializing repository: ":"Initializing repository: ","Init Git Repository":"Init Git Repository","Delete the repository":"Delete the repository","Are you sure you want do delete ${0} repositories?":"Are you sure you want do delete ${0} repositories?","Apply a patch on the selected repository":"Apply a patch on the selected repository","Show content":"Show content","Commit name:":"Commit name:","Open Commit":"Open Commit",OpenCommitDialog:"Open Commit","Open the commit with the given name":"Open the commit with the given name","No commits found":"No commits found","Staging changes":"Staging changes","Commit message:":"Commit message:","Committing changes":"Committing changes","Fetching previous commit message":"Fetching previous commit message","Resetting local changes":"Resetting local changes","Checkout files, discarding all changes":"Checkout files, discarding all changes","Show Patch":"Show Patch","Loading default workspace":"Loading default workspace","Show workspace changes as a patch":"Show workspace changes as a patch","Show checked changes as a patch":"Show checked changes as a patch",ShowCommitPatchTip:"Show patch for changes in this commit",Continue:"Continue","Contibue Rebase":"Continue Rebase","Skip Patch":"Skip Patch",Abort:"Abort","Abort Rebase":"Abort Rebase",Discard:"Discard",Ignore:"Ignore",ChangesSelectedFilesDiscard:"Your changes to the selected files will be discarded and cannot be recovered.","Getting git log":"Getting git log","Getting stashed changes...":"Getting stashed changes...","Active Branch (${0})":"Active Branch (${0})","Branch (${0})":"Branch (${0})","Tag (${0})":"Tag (${0})","Commit (${0})":"Commit (${0})","StashCommit (${0})":"Stash (${0})",WIPStash:"WIP on ${0}: ${1}",IndexStash:"index on ${0}: ${1}","RemoteTrackingBranch (${0})":"Remote Branch (${0})","Active Branch Log":"Git Log (Active Branch)","Show the log for the active local branch":"Show the log for the active local branch","Remote Branch Log":"Git Log (Remote Branch)","Show the log for the corresponding remote tracking branch":"Show the log for the corresponding remote tracking branch","See Full Status":"See Full Status","See the status":"See the status","Choose target location":"Choose target location","Default target location":"Default target location","Change...":"Change...","Merge Squash":"Merge Squash","Squash the content of the branch to the index":"Squash the content of the branch to the index","Local Branch Name:":"Local Branch Name:",Local:"local","Filter items":"Filter items","Filter filter":"Filter message","Filter author":"Filter author","Filter committer":"Filter commiter","Filter sha1":"Filter sha1","Filter fromDate":"Filter from date YYYY-MM-DD or 1(h d w m y)","Filter toDate":"Filter to date YYYY-MM-DD or 1(h d w m y)","Filter path":"Filter path","Filter remote branches":"Filter remote branches","Getting remote branches":"Getting remote branches ${0}","Getting remote details":"Getting remote details: ${0}",PatchApplied:"Patch applied successfully",PatchFailed:"Apply patch failed. ${0}","Getting branches":"Getting branches ${0}","Paste link in email or IM":"Paste link in email or IM","Show Commit in GitHub":"Show Commit in GitHub","Show Repository in GitHub":"Show Repository in GitHub","Show this commit in GitHub":"Show this commit in GitHub","Show Commit in eclipse.org":"Show Commit in eclipse.org","Show this commit in eclipse.org":"Show this commit in eclipse.org","Show Repository in eclipse.org":"Show Repository in eclipse.org","Show this repository in eclipse.org":"Show this repository in eclipse.org","Ask for review":"Ask for review","Ask for review tooltip":"Send email with request for commit review","Reviewer name":"Reviewer name","Contribution Review Request":"Contribution Review Request","Send the link to the reviewer":"Send the link to the reviewer","Private key file (optional):":"Private key file (optional):","Don't prompt me again:":"Don't prompt me again:","Your private key will be saved in the browser for further use":"Your private key will be saved in the browser for further use","Loading Contribution Review Request...":"Loading Contribution Review Request...","The commit can be found in the following repositories":"The commit can be found in the following repositories","Try to update your repositories":"Try to update your repositories","Create new repository":"Create new repository","Attach the remote to one of your existing repositories":"Attach the remote to one of your existing repositories","You are reviewing contribution ${0} from ${1}":"You are reviewing contribution ${0} from ${1}",CommitNotFoundInWorkspace:"Unfortunately the commit can not be found in your workspace. To see it try one of the following: ","To review the commit you can also:":"To review the commit you can also:","Contribution Review Request for ${0} on ${1}":"Contribution Review Request for ${0} on ${1}","Failing paths: ${0}":"Failing paths: ${0}","Problem while performing the action":"Problem while performing the action","Go to the Orion repositories page to provide a git repository URL. Once the repository is created, it will appear in the Navigator.":"Go to the Orion repositories page to provide a git repository URL. Once the repository is created, it will appear in the Navigator.","URL:":"URL:","File:":"File:",Submit:"Submit","git url:":"git url: ",Revert:"Revert","Revert changes introduced by the commit into your active branch":"Revert changes introduced by the commit into your active branch",". Could not revert into active branch":". Could not revert into active branch.",Login:"Login","Authentication required for: ${0}. ${1} and re-try the request.":"Authentication required for: ${0}. ${1} and re-try the request.",Save:"Save","Remember my committer name and email:":"Remember my committer name and email:","Successfully edited ${0} to have value ${1}":"Successfully edited ${0} to have value ${1}","Successfully added ${0} with value ${1}":"Successfully added ${0} with value ${1}","Signed-off-by: ":"Signed-off-by: ","Change-Id: ":"Change-Id: ",Push_REJECTED_NONFASTFORWARD:"Push is non-fastforward and was rejected. Use Fetch to see new commits that must be merged.","Commit and Push":"Commit and Push",Sync:"Sync",SyncTooltip:"Fetch from the remote branch. Rebase your commits by removing them from the local branch, starting the local branch again based on the latest state of the remote branch and applying each commit to the updated local branch. Push commits and tags from your local branch into the remote branch.",NoCommits:"No Changes",NoContent:"No Content",Incoming:"Incoming",Outgoing:"Outgoing",IncomingWithCount:"Incoming (${0})",OutgoingWithCount:"Outgoing (${0})",Synchronized:"History",Uncommited:"Uncommited","Repository:":"Repository:","Reference:":"Reference:","Author:":"Author:","Committer:":"Committer:","SHA1:":"SHA1:",ShowActiveBranchCmd:"Show Active Branch",ShowReferenceCmd:"Show Reference",ShowReferenceTip:'View the history of ${1} "${2}"',ShowActiveBranchTip:'View the history of "${0}" relative to ${1} "${2}"',CommitType:"commit",BranchType:"branch",RemoteTrackingBranchType:"remote branch",TagType:"tag",StashCommitType:"stash","Path:":"Path:",LocalChanges:"Working Directory Changes",LocalChangesDetails:"Working Directory Details",CompareChanges:"Compare (${0} => ${1})",NoBranch:"No Branch",NoActiveBranch:"No Active Branch",NoRef:"No Selected Reference",None:"None",FileSelected:"${0} file selected",FilesSelected:"${0} files selected",FileChanged:"${0} file changed",FilesChanged:"${0} files changed",file:"file",files:"files",EmptyCommitConfirm:"You have no files selected. If you continue, you will end up with an empty commit. Do you want to continue?",AlwaysSelectFiles:"Always select changed files (see Git Settings)",EmptyCommitWarning:"The commit is empty",FilesChangedVsReadyToCommit:"${0} ${1} changed. ${2} ${3} ready to commit.",CommitPush:"Commit and Push","Commits and pushes files to the default remote":"Commits and pushes files to the default remote",Stash:"Stash",stashIndex:"stash@{${0}}: ${1}","Stash all current changes away":"Stash all current changes away",Drop:"Drop","Drop the commit from the stash list":"Drop the commit from the stash list",Apply:"Apply","Pop Stash":"Pop Stash","Apply the most recently stashed change to your active branch and drop it from the stashes":"Apply the most recently stashed change to your active branch and drop it from the stashes",stashes:"stashes",addDependencyName:"Git Repository",addDependencyTooltip:"Associate a git repository with this project.",addProjectName:"Git Repository",addProjectTooltip:"Create a project from a git repository.",fetchGroup:"Fetch",pushGroup:"Push","Url:":"Url:","Ssh Private Key:":"Ssh Private Key:","Ssh Passphrase:":"Ssh Passphrase:",confirmUnsavedChanges:"There are unsaved changes. Do you want to save them?",NewConfigurationEntryTooltip:"Add a new entry to the repository configuration"}),define("orion/git/util",["i18n!git/nls/gitmessages","orion/i18nUtil","orion/URL-shim"],function(e,t){function n(e){for(var t=0;t<v.length;t++)if(e.type===v[t])return!0;
return!1}function o(e){for(var t=0;t<f.length;t++)if(e.type===f[t])return!0;return!1}function r(e){return n(e)||o(e)}function i(e){for(var t=0;t<v.length;t++)if(e[v[t]].length>0)return!0;return!1}function s(e){for(var t=0;t<f.length;t++)if(e[f[t]].length>0)return!0;return!1}function a(e){try{var t=new URL(e);return{host:t.hostname,port:t.port}}catch(n){try{var o=e.split(":"),r=o[0].split("@"),i=r.length>1?r[1]:r[0];return{host:i,port:22}}catch(s){return{host:"",port:""}}}}function c(e){for(var t=e.split(/\r\n|\n/),n=0;t.length>0&&/^\s*$/.test(t[n]);)n++;var o=100;return t[n].length>o?t[n].substring(0,o):t[n]}function h(e){for(var t=e.split(/\r\n|\n/),n={},o=0,r=!1,i=t.length-1;i>=0;--i){var s="Change-Id: ",a="Signed-off-by: ";if(0===t[i].indexOf(s)){if(n.changeId=t[i].substring(s.length,t[i].length),++o>1){n={};break}}else r||0!==t[i].indexOf(a)||(n.signedOffBy=t[i].substring(a.length,t[i].length),a=!0)}return n}function u(n){var o=n.Name;return"StashCommit"===n.Type&&(o=t.formatMessage(e.stashIndex,n.parent.children.indexOf(n),o.substring(0,6))),"Commit"===n.Type&&(o=o.substring(0,6)),"RemoteTrackingBranch"!==n.Type||n.Id||(o+=e[" [New branch]"]),o}function l(e){var t=e.split("/").slice(-3);return t=t.join("/"),t.length<e.length?"..."+t:e}function g(e){var t="";if("string"==typeof e)t=e;else if(e){var n=e.Parents;n.length>1&&(t=e.Location.substring(n[n.length-2].Location.length))}return t}function d(e){var t=e.filter(function(e){return e}).join("&");return t.length&&(t="?"+t),t}function p(e){return e&&"RemoteTrackingBranch"===e.Type&&!e.Id}function m(e){return e&&e.RemoteLocation&&e.RemoteLocation[0]&&!p(e.RemoteLocation[0].Children[0])}var f=["Missing","Modified","Untracked","Conflicting"],v=["Added","Changed","Removed"];return{isStaged:n,isUnstaged:o,isChange:r,isNewBranch:p,tracksRemoteBranch:m,generateQuery:d,hasStagedChanges:i,hasUnstagedChanges:s,parseSshGitUrl:a,trimCommitMessage:c,shortenRefName:u,shortenPath:l,relativePath:g,getGerritFooter:h}}),define("git/plugins/gitPlugin",["orion/plugin","orion/xhr","orion/serviceregistry","orion/git/gitClient","orion/ssh/sshTools","orion/i18nUtil","orion/Deferred","orion/git/GitFileImpl","orion/git/util","i18n!git/nls/gitmessages","orion/URL-shim"],function(e,t,n,o,r,i,s,a,c,h){function u(e){if(S)try{if(window.location.host===parent.location.host&&window.location.protocol===parent.location.protocol)return e.substring(parent.location.href.indexOf(parent.location.host)+parent.location.host.length);S=!1}catch(t){S=!1}return e}function l(e){var t=e,n={};e.indexOf("://")>0&&(t=e.substring(e.indexOf("://")+3));var o=t.split("/");return n.serverName=o[0],n.serverName.indexOf("@")&&(n.serverName=n.serverName.substring(n.serverName.indexOf("@")+1)),n.repoName=o[o.length-1],n.repoName.indexOf(".git")>0&&(n.repoName=n.repoName.substring(0,n.repoName.lastIndexOf(".git"))),n}function g(e){return e.indexOf("@")>0&&e.indexOf("ssh://")>=0?e.substring(0,e.indexOf("ssh://")+6)+e.substring(e.indexOf("@")+1):e}var d=new n.ServiceRegistry,p=new o.GitService(d),m=new r.SshService(d),f=new URL("../../mixloginstatic/LoginWindow.html",window.location.href).href,v={name:"Orion Git Support",version:"1.0",description:"This plugin provides Git Support to the Orion File Service.",login:f},y=new e(v);y.registerService("orion.edit.diff",{computeDiff:function(e,n){var o=new URL("/gitapi/diff/Default/"+n.metadata.Location,window.location);return o.query.set("parts","diff"),t("GET",o.href,{headers:{"Orion-Version":"1"},timeout:1e4}).then(function(e){return e.responseText})}},{name:"Git Diff",validationProperties:[{source:"Git",variableName:"Git"}]}),y.registerService("orion.page.link.category",null,{id:"git",name:h.Git,nls:"git/nls/gitmessages",imageClass:"core-sprite-git-logo",order:20}),y.registerService("orion.page.link",{},{name:h.Repositories,id:"orion.git.repositories",nls:"git/nls/gitmessages",category:"git",order:1e3,uriTemplate:"{+OrionHome}/git/git-repository.html#"}),y.registerService("orion.navigate.command",{},{name:h["Git Log"],id:"eclipse.git.log",tooltip:h["Go to Git Log"],nls:"git/nls/gitmessages",validationProperties:[{source:"Git:CommitLocation",variableName:"GitLogLocation"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitLogLocation}?page=1",forceSingleItem:!0}),y.registerService("orion.navigate.command",null,{id:"eclipse.git.repository",name:h["Git Repository"],tooltip:h["Go to the git repository"],nls:"git/nls/gitmessages",category:"git",validationProperties:[{source:"Git:CloneLocation",variableName:"GitRepoLocation"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitRepoLocation}"}),y.registerService("orion.core.content",null,{id:"orion.content.gitClone",nls:"git/nls/gitmessages",name:h["Clone Git Repository"],description:h["Go to the Orion repositories page to provide a git repository URL. Once the repository is created, it will appear in the Navigator."],uriTemplate:"{+OrionHome}/git/git-repository.html#,cloneGitRepository=URL"}),y.registerService("orion.page.link.related",null,{id:"eclipse.git.repository",category:"git",order:10}),y.registerService("orion.page.link.related",null,{id:"eclipse.git.log",category:"git"}),y.registerService("orion.page.link.related",null,{name:h["Active Branch Log"],id:"eclipse.orion.git.switchToCurrentLocal",tooltip:h["Show the log for the active local branch"],nls:"git/nls/gitmessages",category:"git",validationProperties:[{source:"Clone:ActiveBranch",variableName:"GitBranchLocation"},{source:"toRef:Type",match:"RemoteTrackingBranch"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitBranchLocation}?page=1",forceSingleItem:!0}),y.registerService("orion.page.link.related",null,{name:h["Remote Branch Log"],id:"eclipse.orion.git.switchToRemote2",tooltip:h["Show the log for the corresponding remote tracking branch"],nls:"git/nls/gitmessages",category:"git",validationProperties:[{source:"toRef:RemoteLocation:0:Children:0:CommitLocation",variableName:"GitRemoteLocation"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitRemoteLocation}?page=1",forceSingleItem:!0}),y.registerService("orion.page.link.related",null,{id:"eclipse.git.repository2",category:"git",order:10,name:h["Git Repository"],tooltip:h["Go to the git repository"],nls:"git/nls/gitmessages",validationProperties:[{source:"CloneLocation",variableName:"GitCloneLocation"},{source:"Type",match:"Commit"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitCloneLocation}"}),y.registerService("orion.page.link.related",null,{id:"eclipse.git.repository3",category:"git",order:10,name:h["Git Repository"],tooltip:h["Go to the git repository"],nls:"git/nls/gitmessages",validationProperties:[{source:"Location",variableName:"GitCloneLocation"},{source:"Type",match:"Clone"}],uriTemplate:"{+OrionHome}/git/git-repository.html#{,GitCloneLocation}"}),y.registerService("orion.page.link.related",null,{id:"eclipse.git.repository",category:"git"}),y.registerService("orion.page.link.related",null,{id:"orion.git.gotoEclipseGit",name:h["Show Repository in eclipse.org"],tooltip:h["Show this repository in eclipse.org"],nls:"git/nls/gitmessages",category:"git",validationProperties:[{source:"GitUrl|Clone:GitUrl",match:"git.eclipse.org/gitroot",variableName:"EclipseGitLocation",variableMatchPosition:"after"}],uriTemplate:"http://git.eclipse.org/c{+EclipseGitLocation}"}),y.registerService("orion.page.link.related",null,{id:"orion.git.gotoGithub",name:h["Show Repository in GitHub"],nls:"git/nls/gitmessages",tooltip:h["Show this repository in GitHub"],category:"git",validationProperties:[{source:"GitUrl|Clone:GitUrl",match:"github.com.*.git",variableName:"GitHubLocation",variableMatchPosition:"only",replacements:[{pattern:":",replacement:"/"},{pattern:".git$",replacement:""}]}],uriTemplate:"https://{+GitHubLocation}"}),y.registerServiceProvider("orion.page.link.related",null,{id:"orion.git.gotoGithubCommit",name:h["Show Commit in GitHub"],nls:"git/nls/gitmessages",tooltip:h["Show this commit in GitHub"],category:"git",validationProperties:[{source:"GitUrl",match:"github.com.*.git",variableName:"GitHubLocation",variableMatchPosition:"only",replacements:[{pattern:":",replacement:"/"},{pattern:".git$",replacement:""}]},{source:"Type",match:"Commit"},{source:"Name",variableName:"commitName"}],uriTemplate:"https://{+GitHubLocation}/commit/{+commitName}"}),y.registerServiceProvider("orion.page.link.related",null,{id:"orion.git.gotoEclipseGitCommit",name:h["Show Commit in eclipse.org"],nls:"git/nls/gitmessages",tooltip:h["Show this commit in eclipse.org"],category:"git",validationProperties:[{source:"GitUrl",match:"git.eclipse.org/gitroot",variableName:"EclipseGitLocation",variableMatchPosition:"after"},{source:"Type",match:"Commit"},{source:"Name",variableName:"commitName"}],uriTemplate:"http://git.eclipse.org/c{+EclipseGitLocation}/commit/?id={+commitName}"});var S=!0,w=u(new URL("../../gitapi/",window.location.href).href),R=new a(w);y.registerService("orion.core.file",R,{Name:"Git File System",top:w,pattern:w});var b=new URL("../../gitapi/diff/",window.location.href).href;y.registerService("orion.core.diff",{getDiffContent:function(e,n){var o=new URL(e,window.location);return o.query.set("parts","diff"),n&&"object"==typeof n&&Object.keys(n).forEach(function(e){o.query.set(e,n[e])}),t("GET",o.href,{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(e){return e.responseText})},getDiffFileURI:function(e){var n=new URL(e,window.location);return n.query.set("parts","uris"),t("GET",n.href,{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(e){return JSON.parse(e.responseText)})}},{pattern:b}),y.registerService("orion.project.handler",{paramsToDependencyDescription:function(e){return{Type:"git",Location:g(e.url)}},_cloneRepository:function(e,t,n,o){var r=this,a=new s,u=c.parseSshGitUrl(e);return m.getKnownHostCredentials(u.host,u.port).then(function(s){p.cloneGitRepository(null,e,null,n,t.sshuser,t.sshpassword,s,t.sshprivateKey,t.sshpassphrase,null,o).then(function(e){p.getGitClone(e.Location).then(function(e){e.Children&&(e=e.Children[0]);var t=l(e.GitUrl);a.resolve(o?{ContentLocation:e.ContentLocation}:{Type:"git",Location:g(e.GitUrl),Name:(t.repoName||e.Name)+" at "+t.serverName})},a.reject,a.progress)}.bind(this),function(o){try{if(o&&void 0!==o.status)try{o=JSON.parse(o.responseText)}catch(s){o={Message:"Problem while performing the action"}}}catch(s){return void a.reject(o)}if(o.JsonData){if(o.JsonData.HostKey){if(confirm(i.formatMessage("Would you like to add ${0} key for host ${1} to continue operation? Key fingerpt is ${2}.",o.JsonData.KeyType,o.JsonData.Host,o.JsonData.HostFingerprint))){var u=c.parseSshGitUrl(o.JsonData.Url),l={host:o.JsonData.Host,keyType:o.JsonData.KeyType,hostKey:o.JsonData.HostKey,port:u.port};m.addKnownHost(l).then(function(){r._cloneRepository(e,t,n).then(a.resolve,a.reject,a.progress)})}else a.reject(o);return}if(o.JsonData.Host)return o.Retry={addParameters:[{id:"sshuser",type:"text",name:h["User Name:"]},{id:"sshpassword",type:"password",name:h["Password:"]}],optionalParameters:[{id:"sshprivateKey",type:"textarea",name:h["Ssh Private Key:"]},{id:"sshpassphrase",type:"password",name:h["Ssh Passphrase:"]}]},void a.reject(o)}a.reject(o)}.bind(this),a.progress)}),a},initDependency:function(e,t,n){var o=g(e.Location||t.url);return this._cloneRepository(o,t,n.WorkspaceLocation)},initProject:function(e,t){var n=g(e.url);return this._cloneRepository(n,e,t.WorkspaceLocation,!0)},getDependencyDescription:function(e){if(!e.Git)return null;var t=new s;return p.getGitClone(e.Git.CloneLocation).then(function(e){if(e.Children&&(e=e.Children[0]),e.GitUrl){var n=l(e.GitUrl);t.resolve({Type:"git",Location:g(e.GitUrl),Name:(n.repoName||e.Name)+" at "+n.serverName})}},t.reject,t.progress),t},getAdditionalProjectProperties:function(e){if(!e.Git)return null;var t=new s;return p.getGitClone(e.Git.CloneLocation).then(function(n){n.Children&&(n=n.Children[0]),t.resolve([{Name:"Git",Children:[{Name:"Git Url",Value:n.GitUrl},{Name:"Git Repository",Value:"Git Repository",Href:"{+OrionHome}/git/git-repository.html#"+e.Git.CloneLocation}]}])},t.reject,t.progress),t}},{id:"orion.git.projecthandler",type:"git",addParameters:[{id:"url",type:"url",name:h["Url:"]}],optionalParameters:[{id:"sshuser",type:"text",name:h["User Name:"]},{id:"sshpassword",type:"password",name:h["Password:"]},{id:"sshprivateKey",type:"textarea",name:h["Ssh Private Key:"]},{id:"sshpassphrase",type:"password",name:h["Ssh Passphrase:"]}],nls:"git/nls/gitmessages",addDependencyName:h.addDependencyName,addDependencyTooltip:h.addDependencyTooltip,addProjectName:h.addProjectName,addProjectTooltip:h.addProjectTooltip,actionComment:"Cloning ${url}",validationProperties:[{source:"Git"}]}),y.connect()});