define("logger",[],function(){return{log:function(){"undefined"!=typeof console&&console&&console.log?console.log.apply(console,arguments):postMessage&&postMessage.apply(null,arguments)},error:function(){"undefined"!=typeof console&&console&&console.error?console.error.apply(console,arguments):postMessage&&postMessage.apply(null,arguments)}}}),function(){function e(e){if("string"!=typeof e)throw new TypeError}function t(e){return e?e.split("&"):[]}function r(e){return 0===e.length?"":e.join("&")}function n(e){var t=/([^=]*)(?:=?)(.*)/.exec(e),r=t[1]?decodeURIComponent(t[1]):"",n=t[2]?decodeURIComponent(t[2]):"";return[r,n]}function u(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+="="+encodeURIComponent(e[1])),t}function o(e,r){var u="",o=[],i=0;return{next:function(){if(u!==e.query&&(u=e.query,o=t(u)),i<o.length){var s=n(o[i++]);switch(r){case"keys":return s[0];case"values":return s[1];case"keys+values":return[s[0],s[1]];default:throw new TypeError}}throw E}}}function i(e){Object.defineProperty(this,"_url",{get:function(){return e._url}})}function s(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if("/"!==e.path[0]){var r=/^(.*\/)[^\/]*$/.exec(t.path)[1]||"/";e.path=r+e.path}}else e.path=t.path}function a(e){return e.toLowerCase()}function l(e){return e?/[1-9]\d*$/.exec(e)[0]:""}function h(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/")}function c(e){e.scheme&&(e.scheme=a(e.scheme)),e.port&&(e.port=l(e.port)),e.host&&e.path&&(e.path=h(e.path))}function f(e){return e.replace(/\s/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function p(e,t){if("string"!=typeof e)throw new TypeError;e=f(e);var r=g.exec(e);if(!r)return null;var n={};if(n.scheme=r[1]||"",n.scheme&&!b.test(n.scheme))return null;var u=r[2];if(u){var o=y.exec(u);if(n.userinfo=o[1],n.host=o[2],n.port=o[3],n.port&&!R.test(n.port))return null}return n.path=r[3],n.query=r[4],n.fragment=r[5],s(n,t),c(n),n}function v(e){var t=e.scheme?e.scheme+":":"";return e.host&&(t+="//",e.userinfo&&(t+=e.userinfo+"@"),t+=e.host,e.port&&(t+=":"+e.port)),t+=e.path,e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function _(e,t){var r;if(t){if(t=t.href||t,r=p(t),!r||!r.scheme)throw new SyntaxError;Object.defineProperty(this,"_baseURL",{value:r})}var n=p(e,r);if(!n)throw new SyntaxError;Object.defineProperty(this,"_input",{value:e,writable:!0}),Object.defineProperty(this,"_url",{value:n,writable:!0});var u=new i(this);Object.defineProperty(this,"query",{get:function(){return this._url?u:null},enumerable:!0})}try{var d;if("function"==typeof window.URL&&0!==window.URL.length&&"http:"===(d=new window.URL("http://www.w3.org?q")).protocol&&d.query)return}catch(m){}var g=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,y=/^(?:(.*)@)?(\[[^\]]*\]|[^:]*)(?::(.*))?$/,w=/^\S*$/,b=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,R=/^\d*$/,j=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)$/,U=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)(?::(\d*))?$/,q=/^([^?#\s]*)$/,L=/^([^\s]*)$/,x=w,O=/([^:]*):?(.*)/,E="undefined"!=typeof StopIteration?StopIteration:new Error("Stop Iteration"),I={"ftp:":"21","gopher:":"70","http:":"80","https:":"443","ws:":"80","wss:":"443"};Object.defineProperties(i.prototype,{get:{value:function(r){e(r);var u,o=t(this._url.query);return o.some(function(e){var t=n(e);return t[0]===r?(u=t[1],!0):void 0}),u},enumerable:!0},set:{value:function(o,i){e(o),e(i);var s=t(this._url.query),a=s.some(function(e,t){var r=n(e);return r[0]===o?(r[1]=i,s[t]=u(r),!0):void 0});a||s.push(u([o,i])),this._url.query=r(s)},enumerable:!0},has:{value:function(r){e(r);var u=t(this._url.query);return u.some(function(e){var t=n(e);return t[0]===r?!0:void 0})},enumerable:!0},"delete":{value:function(u){e(u);var o=t(this._url.query),i=o.filter(function(e){var t=n(e);return t[0]!==u});return i.length!==o.length?(this._url.query=r(i),!0):!1},enumerable:!0},clear:{value:function(){this._url.query=""},enumerable:!0},forEach:{value:function(e,t){if("function"!=typeof e)throw new TypeError;var r=o(this._url,"keys+values");try{for(;;){var n=r.next();e.call(t,n[1],n[0],this)}}catch(u){if(u!==E)throw u}},enumerable:!0},keys:{value:function(){return o(this._url,"keys")},enumerable:!0},values:{value:function(){return o(this._url,"values")},enumerable:!0},items:{value:function(){return o(this._url,"keys+values")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(r){e(r);var u=[],o=t(this._url.query);return o.forEach(function(e){var t=n(e);t[0]===r&&u.push(t[1])}),u},enumerable:!0},append:{value:function(n,o){e(n),e(o);var i=t(this._url.query);i.push(u([n,o])),this._url.query=r(i)},enumerable:!0}}),Object.defineProperties(_.prototype,{href:{get:function(){return this._url?v(this._url):this._input},set:function(t){e(t),this._input=t,this._url=p(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+"//"+this.host:""},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+":":":"},set:function(t){if(e(t),this._url){var r=":"===t.slice(-1)?t.substring(0,t.length-1):t;(""===r||b.test(r))&&(this._url.scheme=a(r))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:""},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return"";var e=O.exec(this._userinfo),t=decodeURIComponent(e[1]||"");return t},set:function(t){if(e(t),this._url){var r=O.exec(this._userinfo),n=[encodeURIComponent(t||"")];r[2]&&n.push(r[2]),this._userinfo=n.join(":")}},enumerable:!0},password:{get:function(){if(!this._url)return"";var e=O.exec(this._userinfo),t=decodeURIComponent(e[2]||"");return t},set:function(t){if(e(t),this._url){var r=O.exec(this._userinfo),n=[r[1]||""];t&&n.push(encodeURIComponent(t)),this._userinfo=n.join(":")}},enumerable:!0},host:{get:function(){var e="";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=":"+this._url.port)),e},set:function(t){if(e(t),this._url){var r=U.exec(t);r&&(this._url.host=r[1],this._url.port=l(r[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:""},set:function(t){if(e(t),this._url){var r=j.exec(t);r&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||"":"";return e&&e===I[this.protocol]&&(e=""),e},set:function(t){if(e(t),this._url){var r=R.exec(t);r&&(this._url.port=l(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:""},set:function(t){if(e(t),this._url){var r=q.exec(t);r&&(this._url.host&&t&&"/"!==t[0]&&(t="/"+t),this._url.path=t?h(t):"")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?"?"+this._url.query:""},set:function(t){if(e(t),this._url){t&&"?"===t[0]&&(t=t.substring(1));var r=L.exec(t);r&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?"#"+this._url.fragment:""},set:function(t){if(e(t),this._url){t&&"#"===t[0]&&(t=t.substring(1));var r=x.exec(t);r&&(this._url.fragment=t)}},enumerable:!0}});var k=window.URL||window.webkitURL;k&&k.createObjectURL&&(Object.defineProperty(_,"createObjectURL",{value:k.createObjectURL.bind(k),enumerable:!1}),Object.defineProperty(_,"revokeObjectURL",{value:k.revokeObjectURL.bind(k),enumerable:!1})),window.URL=_}(),define("orion/URL-shim",function(){}),define("javascript/plugins/javascriptPluginLoader",["logger","orion/URL-shim"],function(e){function t(t){e.log(t)}function r(e){var t=e.data;return t&&(t.method||t.id)?void(s&&s.postMessage(e.data,"*")):void 0}function n(e){e.source===s&&a.postMessage(e.data)}var u=localStorage.getItem("jstools.worker"),o=!1;try{o=null===u?!1:!!JSON.parse(u)}catch(i){e.log(i)}if(!o)return void require(["javascript/plugins/javascriptBootstrap"]);var s;s=window!==window.parent?window.parent:window.opener,s||e.log(new Error("No valid plugin target")),addEventListener("message",n);var a=new Worker(new URL("javascriptBootstrap.js",window.location.href).href);a.addEventListener("message",r),a.addEventListener("error",t)});