!function(){function e(e,t,n,r,o,i){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&r.push(o+e+"/"+i))}function t(e,t,n,r,o){var i=r+t+"/"+o;require._fileExists(e.toUrl(i+".js"))&&n.push(i)}function n(e,t,r){var o;for(o in t)!t.hasOwnProperty(o)||e.hasOwnProperty(o)&&!r?"object"==typeof t[o]&&(!e[o]&&t[o]&&(e[o]={}),n(e[o],t[o],r)):e[o]=t[o]}var r=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(o){var i=o.config?o.config():{};return{version:"2.0.4",load:function(o,u,a,s){s=s||{},s.locale&&(i.locale=s.locale);var c,l,f,d=r.exec(o),h=d[1],p=d[4],m=d[5],v=p.split("-"),g=[],y={},b="";if(d[5]?(h=d[1],c=h+m):(c=o,m=d[4],p=i.locale,p||(p=i.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),v=p.split("-")),s.isBuild){for(g.push(c),t(u,"root",g,h,m),l=0;l<v.length;l++)f=v[l],b+=(b?"-":"")+f,t(u,b,g,h,m);if(s.locales){var w,E;for(w=0;w<s.locales.length;w++)for(p=s.locales[w],v=p.split("-"),b="",E=0;E<v.length;E++)f=v[E],b+=(b?"-":"")+f,t(u,b,g,h,m)}u(g,function(){a()})}else u([c],function(t){var r,o=[];for(e("root",t,o,g,h,m),l=0;l<v.length;l++)r=v[l],b+=(b?"-":"")+r,e(b,t,o,g,h,m);u(g,function(){var e,r,i;for(e=o.length-1;e>-1&&o[e];e--)i=o[e],r=t[i],(r===!0||1===r)&&(r=u(h+i+"/"+m)),n(y,r);a(y)})})}}})}(),define("orion/mixloginstatic/nls/messages",{root:!0}),define("orion/mixloginstatic/nls/root/messages",{ExternalAccounts:"Linked accounts:",AddExternalAccount:"Add linked account:",ConfirmRemove:"Are you sure you want to remove ${0} from the list of your external accounts?",Remove:"Remove",RemoveExternalAccount:"Remove ${0}"}),function(e,t){"function"==typeof define&&define.amd?define("orion/Deferred",t):"object"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=i.shift();)e();u=!1}function t(e){i.push(e),u||(u=!0,a())}function n(e){return function(t){e(t)}}function r(e,t,r){try{var o=e(t),i=o&&("object"==typeof o||"function"==typeof o)&&o.then;if("function"==typeof i)if(o===r.promise)r.reject(new TypeError);else{var u=o.cancel;"function"==typeof u?r._parentCancel=u.bind(o):delete r._parentCancel,i.call(o,n(r.resolve),n(r.reject),n(r.progress))}else r.resolve(o)}catch(a){r.reject(a)}}function o(){function e(){for(var e;e=c.shift();){var t=e.deferred,n="fulfilled"===s?"resolve":"reject",o=e[n];"function"==typeof o?r(o,a,t):t[n](a)}}function n(n){delete l._parentCancel,s="rejected",a=n,c.length&&t(e)}function i(r){function u(e){return function(t){s&&"assumed"!==s||e(t)}}delete l._parentCancel;try{var f=r&&("object"==typeof r||"function"==typeof r)&&r.then;if("function"==typeof f)if(r===l)n(new TypeError);else{s="assumed";var d=r&&r.cancel;if("function"!=typeof d){var h=new o;r=h.promise;try{f(h.resolve,h.reject,h.progress)}catch(p){h.reject(p)}d=r.cancel,f=r.then}a=r,f.call(r,u(i),u(n)),l._parentCancel=d.bind(r)}else s="fulfilled",a=r,c.length&&t(e)}catch(m){u(n)(m)}}function u(){var e=l._parentCancel;if(e)delete l._parentCancel,e();else if(!s){var t=new Error("Cancel");t.name="Cancel",n(t)}}var a,s,c=[],l=this;this.resolve=function(e){return s||i(e),l},this.reject=function(e){return s||n(e),l},this.progress=function(e){return s||c.forEach(function(t){if(t.progress)try{t.progress(e)}catch(n){}}),l.promise},this.cancel=function(){return l._parentCancel?setTimeout(u,0):u(),l},this.then=function(n,r,i){var u=new o;return u._parentCancel=l.promise.cancel,c.push({resolve:n,reject:r,progress:i,deferred:u}),("fulfilled"===s||"rejected"===s)&&t(e),u.promise},this.promise={then:l.then,cancel:l.cancel}}var i=[],u=!1,a=function(){if("undefined"!=typeof process&&"function"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if("function"==typeof MutationObserver){var n=document.createElement("div"),r=new MutationObserver(e);return r.observe(n,{attributes:!0}),function(){n.setAttribute("class","_tick")}}return function(){setTimeout(e,0)}}();return o.all=function(e,t){function n(e,t){a||(u[e]=t,0===--i&&s.resolve(u))}function r(e,r){if(!a){if(t)try{return void n(e,t(r))}catch(o){r=o}s.reject(r)}}var i=e.length,u=[],a=!1,s=new o;return s.then(void 0,function(){a=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===i?s.resolve(u):e.forEach(function(e,t){e.then(n.bind(void 0,t),r.bind(void 0,t))}),s.promise},o.when=function(e,t,n,r){var i,u;return e&&"function"==typeof e.then?i=e:(u=new o,u.resolve(e),i=u.promise),i.then(t,n,r)},o}),define("orion/xsrfUtils",[],function(){function e(){var e,t,n,o=document.cookie.split(";");for(e=0;e<o.length;e++)if(t=o[e].substr(0,o[e].indexOf("=")).trim(),n=o[e].substr(o[e].indexOf("=")+1).trim(),t==r)return n}function t(t){var n=e();n&&(t[r]=n)}function n(t){var n=e();n&&t.setRequestHeader(r,n)}var r="x-csrf-token";return{XSRF_TOKEN:r,getCSRFToken:e,setNonceHeader:t,addCSRFNonce:n}}),function(){function e(e){if("string"!=typeof e)throw new TypeError}function t(e){return e?e.split("&"):[]}function n(e){return 0===e.length?"":e.join("&")}function r(e){var t=/([^=]*)(?:=?)(.*)/.exec(e),n=t[1]?decodeURIComponent(t[1]):"",r=t[2]?decodeURIComponent(t[2]):"";return[n,r]}function o(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+="="+encodeURIComponent(e[1])),t}function i(e,n){var o="",i=[],u=0;return{next:function(){if(o!==e.query&&(o=e.query,i=t(o)),u<i.length){var a=r(i[u++]);switch(n){case"keys":return a[0];case"values":return a[1];case"keys+values":return[a[0],a[1]];default:throw new TypeError}}throw N}}}function u(e){Object.defineProperty(this,"_url",{get:function(){return e._url}})}function a(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if("/"!==e.path[0]){var n=/^(.*\/)[^\/]*$/.exec(t.path)[1]||"/";e.path=n+e.path}}else e.path=t.path}function s(e){return e.toLowerCase()}function c(e){return e?/[1-9]\d*$/.exec(e)[0]:""}function l(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/")}function f(e){e.scheme&&(e.scheme=s(e.scheme)),e.port&&(e.port=c(e.port)),e.host&&e.path&&(e.path=l(e.path))}function d(e){return e.replace(/\s/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function h(e,t){if("string"!=typeof e)throw new TypeError;e=d(e);var n=y.exec(e);if(!n)return null;var r={};if(r.scheme=n[1]||"",r.scheme&&!E.test(r.scheme))return null;var o=n[2];if(o){var i=b.exec(o);if(r.userinfo=i[1],r.host=i[2],r.port=i[3],r.port&&!x.test(r.port))return null}return r.path=n[3],r.query=n[4],r.fragment=n[5],a(r,t),f(r),r}function p(e){var t=e.scheme?e.scheme+":":"";return e.host&&(t+="//",e.userinfo&&(t+=e.userinfo+"@"),t+=e.host,e.port&&(t+=":"+e.port)),t+=e.path,e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function m(e,t){var n;if(t){if(t=t.href||t,n=h(t),!n||!n.scheme)throw new SyntaxError;Object.defineProperty(this,"_baseURL",{value:n})}var r=h(e,n);if(!r)throw new SyntaxError;Object.defineProperty(this,"_input",{value:e,writable:!0}),Object.defineProperty(this,"_url",{value:r,writable:!0});var o=new u(this);Object.defineProperty(this,"query",{get:function(){return this._url?o:null},enumerable:!0})}try{var v;if("function"==typeof window.URL&&0!==window.URL.length&&"http:"===(v=new window.URL("http://www.w3.org?q")).protocol&&v.query)return}catch(g){}var y=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,b=/^(?:(.*)@)?(\[[^\]]*\]|[^:]*)(?::(.*))?$/,w=/^\S*$/,E=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,x=/^\d*$/,_=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)$/,C=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)(?::(\d*))?$/,O=/^([^?#\s]*)$/,L=/^([^\s]*)$/,T=w,R=/([^:]*):?(.*)/,N="undefined"!=typeof StopIteration?StopIteration:new Error("Stop Iteration"),j={"ftp:":"21","gopher:":"70","http:":"80","https:":"443","ws:":"80","wss:":"443"};Object.defineProperties(u.prototype,{get:{value:function(n){e(n);var o,i=t(this._url.query);return i.some(function(e){var t=r(e);return t[0]===n?(o=t[1],!0):void 0}),o},enumerable:!0},set:{value:function(i,u){e(i),e(u);var a=t(this._url.query),s=a.some(function(e,t){var n=r(e);return n[0]===i?(n[1]=u,a[t]=o(n),!0):void 0});s||a.push(o([i,u])),this._url.query=n(a)},enumerable:!0},has:{value:function(n){e(n);var o=t(this._url.query);return o.some(function(e){var t=r(e);return t[0]===n?!0:void 0})},enumerable:!0},"delete":{value:function(o){e(o);var i=t(this._url.query),u=i.filter(function(e){var t=r(e);return t[0]!==o});return u.length!==i.length?(this._url.query=n(u),!0):!1},enumerable:!0},clear:{value:function(){this._url.query=""},enumerable:!0},forEach:{value:function(e,t){if("function"!=typeof e)throw new TypeError;var n=i(this._url,"keys+values");try{for(;;){var r=n.next();e.call(t,r[1],r[0],this)}}catch(o){if(o!==N)throw o}},enumerable:!0},keys:{value:function(){return i(this._url,"keys")},enumerable:!0},values:{value:function(){return i(this._url,"values")},enumerable:!0},items:{value:function(){return i(this._url,"keys+values")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(n){e(n);var o=[],i=t(this._url.query);return i.forEach(function(e){var t=r(e);t[0]===n&&o.push(t[1])}),o},enumerable:!0},append:{value:function(r,i){e(r),e(i);var u=t(this._url.query);u.push(o([r,i])),this._url.query=n(u)},enumerable:!0}}),Object.defineProperties(m.prototype,{href:{get:function(){return this._url?p(this._url):this._input},set:function(t){e(t),this._input=t,this._url=h(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+"//"+this.host:""},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+":":":"},set:function(t){if(e(t),this._url){var n=":"===t.slice(-1)?t.substring(0,t.length-1):t;(""===n||E.test(n))&&(this._url.scheme=s(n))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:""},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return"";var e=R.exec(this._userinfo),t=decodeURIComponent(e[1]||"");return t},set:function(t){if(e(t),this._url){var n=R.exec(this._userinfo),r=[encodeURIComponent(t||"")];n[2]&&r.push(n[2]),this._userinfo=r.join(":")}},enumerable:!0},password:{get:function(){if(!this._url)return"";var e=R.exec(this._userinfo),t=decodeURIComponent(e[2]||"");return t},set:function(t){if(e(t),this._url){var n=R.exec(this._userinfo),r=[n[1]||""];t&&r.push(encodeURIComponent(t)),this._userinfo=r.join(":")}},enumerable:!0},host:{get:function(){var e="";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=":"+this._url.port)),e},set:function(t){if(e(t),this._url){var n=C.exec(t);n&&(this._url.host=n[1],this._url.port=c(n[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:""},set:function(t){if(e(t),this._url){var n=_.exec(t);n&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||"":"";return e&&e===j[this.protocol]&&(e=""),e},set:function(t){if(e(t),this._url){var n=x.exec(t);n&&(this._url.port=c(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:""},set:function(t){if(e(t),this._url){var n=O.exec(t);n&&(this._url.host&&t&&"/"!==t[0]&&(t="/"+t),this._url.path=t?l(t):"")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?"?"+this._url.query:""},set:function(t){if(e(t),this._url){t&&"?"===t[0]&&(t=t.substring(1));var n=L.exec(t);n&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?"#"+this._url.fragment:""},set:function(t){if(e(t),this._url){t&&"#"===t[0]&&(t=t.substring(1));var n=T.exec(t);n&&(this._url.fragment=t)}},enumerable:!0}});var A=window.URL||window.webkitURL;A&&A.createObjectURL&&(Object.defineProperty(m,"createObjectURL",{value:A.createObjectURL.bind(A),enumerable:!1}),Object.defineProperty(m,"revokeObjectURL",{value:A.revokeObjectURL.bind(A),enumerable:!1})),window.URL=m}(),define("orion/URL-shim",function(){}),define("orion/xhr",["orion/Deferred","orion/xsrfUtils","orion/URL-shim"],function(e,t){function n(e,t,n,r){var o,i="undefined"!=typeof n.response?n.response:n.responseText,u="string"==typeof i?i:null;try{o=n.status}catch(a){o=0}var s={args:t,response:i,responseText:u,status:o,url:e,xhr:n};return"undefined"!=typeof r&&(s.error=r),s}function r(e){return new URL(location.href).origin===new URL(e,location.href).origin}function o(o,i,u){u=u||{};var a=arguments.length>3&&arguments[3]?arguments[3]:new XMLHttpRequest,s=new e,c=u.headers||{};r(i)&&t.setNonceHeader(c);var l,f=u.log||!1;"undefined"==typeof c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest"),"undefined"==typeof u.data||"POST"!==o&&"PUT"!==o||(l=u.data);var d=!1,h=!1;s.promise.then(void 0,function(e){d=!0,!h&&e instanceof Error&&"Cancel"===e.name&&a.abort()}),a.onabort=function(){if(h=!0,!d){var e=new Error("Cancel");e.name="Cancel",s.reject(e)}},a.onload=function(){var e=n(i,u,a);200<=a.status&&a.status<400?s.resolve(e):(s.reject(e),f&&"undefined"!=typeof console&&console.log(new Error(a.statusText)))},a.onerror=function(){var e=n(i,u,a);s.reject(e),f&&"undefined"!=typeof console&&console.log(new Error(a.statusText))},a.onprogress=function(e){e.xhr=a,s.progress(e)};try{if(a.open(o,i,!0),"string"==typeof u.responseType&&(a.responseType=u.responseType),"number"==typeof u.timeout)if("number"==typeof a.timeout)a.timeout=u.timeout,a.addEventListener("timeout",function(){s.reject(n(i,u,a,"Timeout exceeded"))});else{var p=setTimeout(function(){s.reject(n(i,u,a,"Timeout exceeded"))},u.timeout);s.promise.then(clearTimeout.bind(null,p),clearTimeout.bind(null,p))}Object.keys(c).forEach(function(e){a.setRequestHeader(e,c[e])}),a.send(l||null)}catch(m){s.reject(n(i,u,a,m))}return s.promise}return o}),define("orion/util",[],function(){function e(e){var t=arguments;return e.replace(/\$\{([^\}]+)\}/g,function(e,n){return t[(n<<0)+1]})}function t(e,t){return e.createElementNS?e.createElementNS(y,t):e.createElement(t)}var n=navigator.userAgent,r=-1!==n.indexOf("MSIE")||-1!==n.indexOf("Trident")?document.documentMode:void 0,o=parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0,i=-1!==n.indexOf("Opera")?parseFloat(n.split("Version/")[1]):void 0,u=parseFloat(n.split("Chrome/")[1])||void 0,a=-1!==n.indexOf("Safari")&&!u,s=parseFloat(n.split("WebKit/")[1])||void 0,c=-1!==n.indexOf("Android"),l=-1!==n.indexOf("iPad"),f=-1!==n.indexOf("iPhone"),d=l||f,h=-1!==navigator.platform.indexOf("Mac"),p=-1!==navigator.platform.indexOf("Win"),m=-1!==navigator.platform.indexOf("Linux"),v="undefined"!=typeof document&&"ontouchstart"in document.createElement("input"),g=p?"\r\n":"\n",y="http://www.w3.org/1999/xhtml";return{formatMessage:e,createElement:t,isIE:r,isFirefox:o,isOpera:i,isChrome:u,isSafari:a,isWebkit:s,isAndroid:c,isIPad:l,isIPhone:f,isIOS:d,isMac:h,isWindows:p,isLinux:m,isTouch:v,platformDelimiter:g}}),define("orion/webui/littlelib",["orion/util"],function(e){function t(e,t){return t||(t=document),t.querySelector(e)}function n(e,t){return t||(t=document),t.querySelectorAll(e)}function r(e,t){return Array.prototype.slice.call(n(e,t))}function o(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t}function i(e,t){if(!e||!t)return!1;if(e===t)return!0;var n=e.compareDocumentPosition(t);return Boolean(16&n)}function u(e){var t=e.getBoundingClientRect(),n=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),r=Math.max(document.documentElement.scrollTop,document.body.scrollTop);return{left:t.left+n,top:t.top+r,width:t.width,height:t.height}}function a(e){for(;e.hasChildNodes();){var t=e.firstChild;e.removeChild(t)}}function s(t){var n=t.tabIndex;if(0===n&&e.isIE){var r={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0};r[t.nodeName.toLowerCase()]||t.attributes.tabIndex||(n=-1)}return n}function c(e){if(s(e)>=0)return e;if(e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++){var n=c(e.childNodes[t]);if(n)return n}return null}function l(e){if(s(e)>=0)return e;if(e.hasChildNodes())for(var t=e.childNodes.length-1;t>=0;t--){var n=l(e.childNodes[t]);if(n)return n}return null}function f(e,t){if(3===e.nodeType){var n=E.exec(e.nodeValue);n&&n.length>1&&t(e,n)}if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++)f(e.childNodes[r],t)}function d(e,t){f(e,function(e,n){var r=t[n[1]]||n[1];e.parentNode.replaceChild(document.createTextNode(r),e)})}function h(e,t){f(e,function(e,n){var r=t[n[1]];if(r){var o=document.createRange(),i=n.index;o.setStart(e,i),o.setEnd(e,i+n[0].length),o.deleteContents(),o.insertNode(r)}})}function p(t,n){function r(e){x.forEach(function(t){var n=!1,r=t.excludeNodes.some(function(t){return document.body.contains(t)?(n=!0,t.contains(e.target)):!1});if(n&&!r)try{t.dismiss(e)}catch(o){"undefined"!=typeof console&&console&&console.error(o&&o.message)}}),x=x.filter(function(e){return e.excludeNodes.some(function(e){return document.body.contains(e)})})}null===x&&(x=[],document.addEventListener("click",r,!0),e.isIOS&&document.addEventListener("touchend",function(e){function t(){e.target.removeEventListener("click",t)}0===e.touches.length&&e.target.addEventListener("click",t)},!1)),x.push({excludeNodes:t,dismiss:n})}function m(e){x=x.filter(function(t){return e!==t.dismiss})}function v(e){for(var t=e.parentNode,n=document.documentElement;t&&t!==n;){var r=window.getComputedStyle(t,null);if(!r)break;var o=r.getPropertyValue("overflow-y");if("auto"===o||"scroll"===o)break;t=t.parentNode}return t}function g(e){window.document.all&&(e.keyCode=0),e.preventDefault&&(e.preventDefault(),e.stopPropagation())}function y(e){for(var t=document.getElementsByTagName("iframe"),n=0;n<t.length;n++)t[n].parentNode.style.pointerEvents=e?"":"none"}function b(e){return C[e]||null}function w(e,t){var n=t,r=null;return void 0===n&&(n=document.createElement("div")),n.innerHTML=e,r=1<n.childNodes.length?n.childNodes:n.firstChild}var E=/\$\{([^\}]+)\}/,x=null,_={BKSPC:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DEL:46},C=Object.create(null);return Object.keys(_).forEach(function(e){C[_[e]]=e}),{$:t,$$:n,$$array:r,node:o,contains:i,bounds:u,empty:a,firstTabbable:c,lastTabbable:l,stop:g,processTextNodes:d,processDOMNodes:h,addAutoDismiss:p,setFramesEnabled:y,getOffsetParent:v,removeAutoDismiss:m,keyName:b,KEY:_,createNodes:w}}),define("domReady",[],function(){function e(e){var t;for(t=0;t<e.length;t+=1)e[t](c)}function t(){var t=l;s&&t.length&&(l=[],e(t))}function n(){s||(s=!0,u&&clearInterval(u),t())}function r(e){return s?e(c):l.push(e),r}var o,i,u,a="undefined"!=typeof window&&window.document,s=!a,c=a?document:null,l=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),i=document.createElement("div");try{o=null===window.frameElement}catch(f){}i.doScroll&&o&&window.external&&(u=setInterval(function(){try{i.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return r.version="2.0.1",r.load=function(e,t,n,o){o.isBuild?n(null):r(n)},r}),define("mixloginstatic/manageExternalIds",["i18n!orion/mixloginstatic/nls/messages","orion/xhr","orion/webui/littlelib","domReady!"],function(e,t,n){function r(e){if(confirm("Are you sure you want to remove "+e+" from the list of your external accounts?")){for(var n=f.OAuth.split("\n"),r="",o=0;o<n.length;o++)n[o]!==e&&(r+=n[o]+"\n");f.OAuth=r,t("PUT",f.Location,{data:JSON.stringify(f),headers:{"Orion-Version":"1"},timeout:15e3}).then(function(){h(f.Location)},function(e){console.error(e.error)})}}function o(e,t,n,r){var o=document.createElement("tr");o.classList.add(t%2===0?"lightTreeTableRow":"darkTreeTableRow"),o.classList.add("manageExternalIdRow"),o.style.verticalAlign="baseline",n.appendChild(o);var i=document.createElement("td");i.classList.add("navColumn"),o.appendChild(i);var u=document.createElement("span");u.title=e,i.appendChild(u);var a=document.createTextNode(e.length>70?e.substring(0,65)+"...":e);u.appendChild(a),i=document.createElement("td"),i.classList.add("navColumn"),o.appendChild(i);var s=document.createElement("a");s.classList.add("removeExternalId"),s.id="remlink"+t,s.innerHTML="Remove",s.style.visibility="hidden",s.title="Remove "+e,i.appendChild(s),s.addEventListener("click",function(e){r(e)}.bind(this,e))}function i(e){l!==e&&(h(e),l=e)}function u(e){""!==e&&null!==e&&window.open("../mixlogin/manageoauth/oauth?oauth="+encodeURIComponent(e),"oauth_popup","width=790,height=580")}function a(e,t,n,r){var o=document.createElement("img");o.className="loginWindow "+n,o.id=o.alt=o.title=e,o.src=t;var i=document.createElement("a");return i.className="loginWindow "+n,i.onclick=r,i.setAttribute("aria-labelledby","addExternalAccount "+e),i.appendChild(o),i}function s(){var t=document.getElementById("newExternalId"),n=document.createElement("h2");n.style.margin="10px 5px 10px 0",n.style.cssFloat="left",n.id="addExternalAccount",n.innerHTML=e.AddExternalAccount,t.appendChild(n)}function c(){var e=[];e.push(a("Google OAuth","../mixloginstatic/images/google.png","",u.bind(null,"google"))),e.push(a("GitHub OAuth","../mixloginstatic/images/GitHub-Mark-Light-32px.png","githubImage",u.bind(null,"github")));var t=document.getElementById("newExternalId");e.forEach(function(e){t.appendChild(e),t.appendChild(document.createTextNode(" "))})}var l,f,d,h;d=function(e){f=e;var t=n.node("externalIdList");t.childNodes.length&&t.removeChild(t.childNodes[0]);var i=document.createElement("table");if(i.classList.add("manageExternalIdsTable"),t.appendChild(i),f.OAuth){for(var u=f.OAuth?f.OAuth.split("\n"):[],a=u.length-1;a>=0;a--)""===u[a]&&u.splice(a,1);if(u.length){var s=document.createElement("thead");s.classList.add("navTableHeading"),i.appendChild(s);var c=document.createElement("tr");s.appendChild(c);var l=document.createElement("td");l.classList.add("navColumn"),l.innerHTML="<h2>External Id</h2>",c.appendChild(l)}for(var a=0;a<u.length;a++){var d=u[a];o(d,a,i,r)}}},h=function(e){t("GET",e,{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(e){d(JSON.parse(e.response))},function(e){console.error(e.error)})},window.handleOAuthResponse=function(e){for(var n=f.OAuth?f.OAuth.split("\n"):[],r=0;r<n.length;r++)if(n[r]===e)return;f.OAuth?f.OAuth+="\n"+e:f.OAuth=e,t("PUT",f.Location,{data:JSON.stringify(f),headers:{"Orion-Version":"1"},timeout:15e3}).then(function(){h(f.Location)},function(e){console.error(e.error)})},window.addEventListener("hashchange",function(){i(window.location.hash.substring(1))}),i(window.location.hash.substring(1)),s(),c()});