!function(e,t){"function"==typeof define&&define.amd?define("orion/Deferred",t):"object"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=r.shift();)e();o=!1}function t(e){r.push(e),o||(o=!0,s())}function n(e){return function(t){e(t)}}function a(e,t,a){try{var i=e(t),r=i&&("object"==typeof i||"function"==typeof i)&&i.then;if("function"==typeof r)if(i===a.promise)a.reject(new TypeError);else{var o=i.cancel;"function"==typeof o?a._parentCancel=o.bind(i):delete a._parentCancel,r.call(i,n(a.resolve),n(a.reject),n(a.progress))}else a.resolve(i)}catch(s){a.reject(s)}}function i(){function e(){for(var e;e=c.shift();){var t=e.deferred,n="fulfilled"===l?"resolve":"reject",i=e[n];"function"==typeof i?a(i,s,t):t[n](s)}}function n(n){delete d._parentCancel,l="rejected",s=n,c.length&&t(e)}function r(a){function o(e){return function(t){l&&"assumed"!==l||e(t)}}delete d._parentCancel;try{var u=a&&("object"==typeof a||"function"==typeof a)&&a.then;if("function"==typeof u)if(a===d)n(new TypeError);else{l="assumed";var f=a&&a.cancel;if("function"!=typeof f){var p=new i;a=p.promise;try{u(p.resolve,p.reject,p.progress)}catch(h){p.reject(h)}f=a.cancel,u=a.then}s=a,u.call(a,o(r),o(n)),d._parentCancel=f.bind(a)}else l="fulfilled",s=a,c.length&&t(e)}catch(b){o(n)(b)}}function o(){var e=d._parentCancel;if(e)delete d._parentCancel,e();else if(!l){var t=new Error("Cancel");t.name="Cancel",n(t)}}var s,l,c=[],d=this;this.resolve=function(e){return l||r(e),d},this.reject=function(e){return l||n(e),d},this.progress=function(e){return l||c.forEach(function(t){if(t.progress)try{t.progress(e)}catch(n){}}),d.promise},this.cancel=function(){return d._parentCancel?setTimeout(o,0):o(),d},this.then=function(n,a,r){var o=new i;return o._parentCancel=d.promise.cancel,c.push({resolve:n,reject:a,progress:r,deferred:o}),("fulfilled"===l||"rejected"===l)&&t(e),o.promise},this.promise={then:d.then,cancel:d.cancel}}var r=[],o=!1,s=function(){if("undefined"!=typeof process&&"function"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if("function"==typeof MutationObserver){var n=document.createElement("div"),a=new MutationObserver(e);return a.observe(n,{attributes:!0}),function(){n.setAttribute("class","_tick")}}return function(){setTimeout(e,0)}}();return i.all=function(e,t){function n(e,t){s||(o[e]=t,0===--r&&l.resolve(o))}function a(e,a){if(!s){if(t)try{return void n(e,t(a))}catch(i){a=i}l.reject(a)}}var r=e.length,o=[],s=!1,l=new i;return l.then(void 0,function(){s=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===r?l.resolve(o):e.forEach(function(e,t){e.then(n.bind(void 0,t),a.bind(void 0,t))}),l.promise},i.when=function(e,t,n,a){var r,o;return e&&"function"==typeof e.then?r=e:(o=new i,o.resolve(e),r=o.promise),r.then(t,n,a)},i}),function(e,t){"function"==typeof define&&define.amd?define("orion/plugin",["orion/Deferred"],t):"object"==typeof exports?module.exports=t(require("orion/Deferred")):(e.orion=e.orion||{},e.orion.PluginProvider=t(e.orion.Deferred))}(this,function(e){function t(e,t){this.__objectId=e,this.__methods=t}function n(n){function a(e){w&&("undefined"==typeof ArrayBuffer&&(e=JSON.stringify(e)),w===self?w.postMessage(e):w.postMessage(e,"*"))}function i(){var e=[];return Object.keys(y).forEach(function(t){var n=y[t];e.push({serviceId:t,names:n.names,methods:n.methods,properties:n.properties})}),{headers:u||{},services:e}}function r(e,t){if(t&&t instanceof XMLHttpRequest){var n,a;try{n=t.status,a=t.statusText}catch(i){n=0,a=""}return{status:n||0,statusText:a}}return t}function o(e){var t=e?JSON.parse(JSON.stringify(e,r)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function s(n){if(!w)return(new e).reject(new Error("plugin not connected"));n.id=String(p++);var a=new e;g[n.id]=a,a.then(null,function(e){f&&e instanceof Error&&"Cancel"===e.name&&x({requestId:n.id,method:"cancel",params:e.message?[e.message]:[]})});var i=Object.prototype.toString;return n.params.forEach(function(e,r){if("[object Object]"===i.call(e)&&!(e instanceof t)){var o,s;for(o in e)"[object Function]"===i.call(e[o])&&(s=s||[],s.push(o));if(s){var l=h++;m[l]=e;var c=function(){delete m[l]};a.then(c,c),n.params[r]=new t(l,s)}}}),x(n),a.promise}function l(e,t){e||0===e?x({id:e,result:null,error:t}):console.log(t)}function c(e,t,n,a){a.forEach(function(e,t){if(e&&"undefined"!=typeof e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return s({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)})}}),a[t]=n}});var i="undefined"==typeof e?null:{id:e,result:null,error:null};try{var r=n.apply(t,a);if(!i)return;r&&"function"==typeof r.then?(v[e]=r,r.then(function(t){delete v[e],i.result=t,x(i)},function(t){v[e]&&(delete v[e],i.error=o(t),x(i))},function(){x({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)})})):(i.result=r,x(i))}catch(l){i&&(i.error=o(l),x(i))}}function d(e){if(e.source===w||"undefined"==typeof window){var t="string"!=typeof e.data?e.data:JSON.parse(e.data);try{if(t.method){var n=t.method,a=t.params||[];if("serviceId"in t){var i=y[t.serviceId];i||l(t.id,"service not found"),i=i.implementation,n in i?c(t.id,i,i[n],a):l(t.id,"method not found")}else if("objectId"in t){var r=m[t.objectId];r||l(t.id,"object not found"),!n in r?c(t.id,r,r[n],a):l(t.id,"method not found")}else if("requestId"in t){var o=v[t.requestId];o&&"cancel"===n&&o.cancel&&o.cancel.apply(o,a)}else{if(!("responseId"in t))throw new Error("Bad method: "+t.method);var s=g[t.responseId];s&&"progress"===n&&s.progress&&s.progress.apply(s,a)}}else{var d=g[String(t.id)];delete g[String(t.id)],t.error?d.reject(t.error):d.resolve(t.result)}}catch(u){console.log("Plugin._messageHandler "+u)}}}var u=n,f=!1,p=0,h=0,b=0,v={},g={},m={},y={},w=null;"undefined"==typeof window?w=self:window!==window.parent?w=window.parent:null!==window.opener&&(w=window.opener);var x=a;a({method:"loading"}),this.updateHeaders=function(e){if(f)throw new Error("Cannot update headers. Plugin Provider is connected");u=e},this.registerService=function(e,t,n){if(f)throw new Error("Cannot register service. Plugin Provider is connected");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var a=null,i=[];for(a in t)"function"==typeof t[a]&&i.push(a);y[b++]={names:e,methods:i,implementation:t,properties:n||{},listeners:{}}},this.registerServiceProvider=this.registerService,this.connect=function(e,t){if(f)return void(e&&e());if(!w)return void(t&&t("No valid plugin target"));addEventListener("message",d,!1);var n={method:"plugin",params:[i()]};a(n),f=!0,e&&e()},this.disconnect=function(){f&&(removeEventListener("message",d),w=null,f=!1)}}return n}),this.JSON||(this.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,a,i,r,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,n=0;r>n;n+=1)o[n]=str(n,l)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(r=rep.length,n=0;r>n;n+=1)a=rep[n],"string"==typeof a&&(i=str(a,l),i&&o.push(quote(a)+(gap?": ":":")+i));else for(a in l)Object.hasOwnProperty.call(l,a)&&(i=str(a,l),i&&o.push(quote(a)+(gap?": ":":")+i));return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var a;if(gap="",indent="","number"==typeof n)for(a=0;n>a;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,a,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.hasOwnProperty.call(i,n)&&(a=walk(i,n),void 0!==a?i[n]=a:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var JSLINT=function(){function e(){}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e,n){var a;for(a in n)t(n,a)&&(e[a]=n[a])}function a(){Xt.safe||(Xt.rhino&&n(Gt,kn),Xt.devel&&n(Gt,gn),Xt.browser&&n(Gt,hn),Xt.node&&n(Gt,xn),Xt.windows&&n(Gt,An),Xt.widget&&n(Gt,jn))}function i(e,t,n){throw{name:"JSLintError",line:t,character:n,message:e+" ("+Math.floor(t/Rt.length*100)+"% scanned)."}}function r(e,t,n,a,r,o){var s,l,c;return t=t||Wt,"(end)"===t.id&&(t=rn),l=t.line||0,s=t.from||0,c={id:"(error)",raw:e,evidence:Rt[l-1]||"",line:l,character:s,a:n,b:a,c:r,d:o},c.reason=e.supplant(c),JSLINT.errors.push(c),Xt.passfail&&i("Stopping. ",l,s),sn+=1,sn>=Xt.maxerr&&i("Too many errors.",l,s),c}function o(e,t,n,a,i,o,s){return r(e,{line:t,from:n},a,i,o,s)}function s(e,t,n,a,o,s){var l=r(e,t,n,a,o,s);i("Stopping, unable to continue.",l.line,l.character)}function l(e,t,n,a,i,r,o){return s(e,{line:t,from:n},a,i,r,o)}function c(e,n){Xt.safe&&Ct["(global)"]&&"boolean"!=typeof Gt[e]?r("ADsafe global: "+e+".",rn):"hasOwnProperty"===e&&r("'hasOwnProperty' is a really bad name."),t(Ct,e)&&!Ct["(global)"]&&r(Ct[e]===!0?"'{a}' was used before it was defined.":"'{a}' is already defined.",Wt,e),Ct[e]=n,Ct["(global)"]?(Ft[e]=Ct,t(zt,e)&&(r("'{a}' was used before it was defined.",Wt,e),delete zt[e])):Kt[e]=Ct}function d(){var e,t,n,i,o,l=Wt.value;switch(l){case"*/":s("Unbegun comment.");break;case"/*members":case"/*member":l="/*members",$t||($t={}),t=$t;break;case"/*jslint":Xt.safe&&r("ADsafe restriction."),t=Xt,n=pn;break;case"/*global":Xt.safe&&r("ADsafe restriction."),t=Gt}i=Zn.token();e:for(;;){for(;;){if("special"===i.type&&"*/"===i.value)break e;if("(endline)"!==i.id&&","!==i.id)break;i=Zn.token()}"(string)"!==i.type&&"(identifier)"!==i.type&&"/*members"!==l&&s("Bad option.",i),o=Zn.token(),":"===o.id?(o=Zn.token(),t===$t&&s("Expected '{a}' and instead saw '{b}'.",i,"*/",":"),"indent"===i.value&&"/*jslint"===l?(e=+o.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&s("Expected a small integer and instead saw '{a}'.",o,o.value),t.white=!0,t.indent=e):"maxerr"===i.value&&"/*jslint"===l?(e=+o.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&s("Expected a small integer and instead saw '{a}'.",o,o.value),t.maxerr=e):"maxlen"===i.value&&"/*jslint"===l?(e=+o.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&s("Expected a small integer and instead saw '{a}'.",o,o.value),t.maxlen=e):"true"===o.value?t[i.value]=!0:"false"===o.value?t[i.value]=!1:s("Bad option value.",o),i=Zn.token()):("/*jslint"===l&&s("Missing option value.",i),t[i.value]=!1,i=o)}n&&a()}function u(e){for(var t,n=e||0,a=0;n>=a;)t=Zt[a],t||(t=Zt[a]=Zn.token()),a+=1;return t}function f(e,t){switch(rn.id){case"(number)":"."===Wt.id&&r("A dot following a number can be confused with a decimal point.",rn);break;case"-":("-"===Wt.id||"--"===Wt.id)&&r("Confusing minusses.");break;case"+":("+"===Wt.id||"++"===Wt.id)&&r("Confusing plusses.")}for(("(string)"===rn.type||rn.identifier)&&(Dt=rn.value),e&&Wt.id!==e&&(t?"(end)"===Wt.id?r("Unmatched '{a}'.",t,t.id):r("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",Wt,e,t.id,t.line,Wt.value):("(identifier)"!==Wt.type||Wt.value!==e)&&r("Expected '{a}' and instead saw '{b}'.",Wt,e,Wt.value)),Qt=rn,rn=Wt;;){if(Wt=Zt.shift()||Zn.token(),"(end)"===Wt.id||"(error)"===Wt.id)return;if("special"===Wt.type)d();else if("(endline)"!==Wt.id)break}}function p(e,t){var n;if("(end)"===Wt.id&&s("Unexpected early end of program.",rn),f(),Xt.safe&&"boolean"==typeof Gt[rn.value]&&"("!==Wt.id&&"."!==Wt.id&&r("ADsafe violation.",rn),t&&(Dt="anonymous",Ct["(verb)"]=rn.value),t===!0&&rn.fud)n=rn.fud();else{if(rn.nud)n=rn.nud();else{if("(number)"===Wt.type&&"."===rn.id)return r("A leading decimal point can be confused with a dot: '.{a}'.",rn,Wt.value),f(),rn;s("Expected an identifier and instead saw '{a}'.",rn,rn.id)}for(;e<Wt.lbp;)f(),rn.led?n=rn.led(n):s("Expected an operator and instead saw '{a}'.",rn,rn.id)}return n}function h(e,t){e=e||rn,t=t||Wt,(Xt.white||"styleproperty"===ln||"style"===ln)&&e.character!==t.from&&e.line===t.line&&r("Unexpected space after '{a}'.",t,e.value)}function b(e,t){e=e||rn,t=t||Wt,Xt.white&&!e.comment&&e.line===t.line&&h(e,t)}function v(e,t){Xt.white&&(e=e||rn,t=t||Wt,e.line===t.line&&e.character===t.from&&r("Missing space after '{a}'.",Wt,e.value))}function g(e,t){e=e||rn,t=t||Wt,Xt.laxbreak||e.line===t.line?Xt.white&&(e=e||rn,t=t||Wt,e.character===t.from&&r("Missing space after '{a}'.",Wt,e.value)):r("Bad line breaking before '{a}'.",t,t.id)}function m(e){var t;Xt.white&&"(end)"!==Wt.id&&(t=Jt+(e||0),Wt.from!==t&&r("Expected '{a}' to have an indentation at {b} instead at {c}.",Wt,Wt.value,t,Wt.from))}function y(e){e=e||rn,e.line!==Wt.line&&r("Line breaking error '{a}'.",e,e.value)}function w(){rn.line!==Wt.line?Xt.laxbreak||r("Bad line breaking before '{a}'.",rn,Wt.id):rn.character!==Wt.from&&Xt.white&&r("Unexpected space after '{a}'.",Wt,rn.value),f(","),v(rn,Wt)}function x(e,t){var n=Un[e];return n&&"object"==typeof n||(Un[e]=n={id:e,lbp:t,value:e}),n}function k(e){return x(e,0)}function A(e,t){var n=k(e);return n.identifier=n.reserved=!0,n.fud=t,n}function E(e,t){var n=A(e,t);return n.block=!0,n}function S(e){var t=e.id.charAt(0);return(t>="a"&&"z">=t||t>="A"&&"Z">=t)&&(e.identifier=e.reserved=!0),e}function U(e,t){var n=x(e,150);return S(n),n.nud="function"==typeof t?t:function(){return this.right=p(150),this.arity="unary",("++"===this.id||"--"===this.id)&&(Xt.plusplus?r("Unexpected use of '{a}'.",this,this.id):this.right.identifier&&!this.right.reserved||"."===this.right.id||"["===this.right.id||r("Bad operand.",this)),this},n}function j(e,t){var n=k(e);return n.type=e,n.nud=t,n}function D(e,t){var n=j(e,t);return n.identifier=n.reserved=!0,n}function O(e){return D(e,function(){return("this"===this.id||"arguments"===this.id||"eval"===this.id)&&(nn&&Ct["(global)"]?r("Strict violation.",this):Xt.safe&&r("ADsafe violation.",this)),this})}function _(e,t,n,a){var i=x(e,n);return S(i),i.led=function(e){return a||(g(Qt,rn),v(rn,Wt)),"function"==typeof t?t(e,this):(this.left=e,this.right=p(n),this)},i}function M(e,t){var n=x(e,100);return n.led=function(e){g(Qt,rn),v(rn,Wt);var n=p(100);return e&&"NaN"===e.id||n&&"NaN"===n.id?r("Use the isNaN function to compare with NaN.",this):t&&t.apply(this,[e,n]),"!"===e.id&&r("Confusing use of '{a}'.",e,"!"),"!"===n.id&&r("Confusing use of '{a}'.",e,"!"),this.left=e,this.right=n,this},n}function T(e){return e&&("(number)"===e.type&&0===+e.value||"(string)"===e.type&&" "===e.value||"true"===e.type||"false"===e.type||"undefined"===e.type||"null"===e.type)}function N(e){return x(e,20).exps=!0,_(e,function(e,t){var n;if(t.left=e,Gt[e.value]===!1&&Kt[e.value]["(global)"]===!0&&r("Read only.",e),Xt.safe){n=e;do"boolean"==typeof Gt[n.value]&&r("ADsafe violation.",n),n=n.left;while(n)}if(e){if("."===e.id||"["===e.id)return e.left&&"arguments"!==e.left.value||r("Bad assignment.",t),t.right=p(19),t;if(e.identifier&&!e.reserved)return"exception"===Ct[e.value]&&r("Do not assign to the exception parameter.",e),t.right=p(19),t;e===Un["function"]&&r("Expected an identifier in an assignment and instead saw a function invocation.",rn)}s("Bad assignment.",t)},20)}function I(e,t,n){var a=x(e,n);return S(a),a.led="function"==typeof t?t:function(e){return Xt.bitwise&&r("Unexpected use of '{a}'.",this,this.id),this.left=e,this.right=p(n),this},a}function C(e){return x(e,20).exps=!0,_(e,function(e,t){return Xt.bitwise&&r("Unexpected use of '{a}'.",t,t.id),v(Qt,rn),v(rn,Wt),e?"."===e.id||"["===e.id||e.identifier&&!e.reserved?(p(19),t):(e===Un["function"]&&r("Expected an identifier in an assignment, and instead saw a function invocation.",rn),t):void s("Bad assignment.",t)},20)}function L(e){var t=x(e,150);return t.led=function(e){return Xt.plusplus?r("Unexpected use of '{a}'.",this,this.id):e.identifier&&!e.reserved||"."===e.id||"["===e.id||r("Bad operand.",this),this.left=e,this},t}function F(){return Wt.identifier?(f(),Xt.safe&&fn[rn.value]?r("ADsafe violation: '{a}'.",rn,rn.value):rn.reserved&&!Xt.es5&&r("Expected an identifier and instead saw '{a}' (a reserved word).",rn,rn.id),rn.value):void 0}function q(){var e=F();return e?e:void("function"===rn.id&&"("===Wt.id?r("Missing name in function statement."):s("Expected an identifier and instead saw '{a}'.",Wt,Wt.value))}function z(e){var t,n=0;if(";"===Wt.id&&!Vt)for(;;){if(t=u(n),t.reach)return;if("(endline)"!==t.id){if("function"===t.id){r("Inner functions should be listed at the top of the outer function.",t);break}r("Unreachable '{a}' after '{b}'.",t,t.value,e);break}n+=1}}function B(e){var t,n=Jt,a=Kt,i=Wt;return";"===i.id?(r("Unnecessary semicolon.",i),void f(";")):(i.identifier&&!i.reserved&&":"===u().id&&(f(),f(":"),Kt=Object.create(a),c(i.value,"label"),Wt.labelled||r("Label '{a}' on {b} statement.",Wt,i.value,Wt.value),Fn.test(i.value+":")&&r("Label '{a}' looks like a javascript url.",i,i.value),Wt.label=i.value,i=Wt),e||m(),t=p(0,!0),i.block||(t&&t.exps?"("===t.id&&"new"===t.left.id&&r("Do not use 'new' for side effects."):r("Expected an assignment or function call and instead saw an expression.",rn),";"!==Wt.id?o("Missing semicolon.",rn.line,rn.from+rn.value.length):(h(rn,Wt),f(";"),v(rn,Wt))),Jt=n,Kt=a,t)}function J(){return"use strict"===Wt.value?(f(),f(";"),nn=!0,!0):!1}function P(e){var t,n,a=[];if(e&&!J()&&Xt.strict&&r('Missing "use strict" statement.',Wt),Xt.adsafe)switch(e){case"script":Ut||("ADSAFE"!==Wt.value||"."!==u(0).id||"id"!==u(1).value&&"go"!==u(1).value)&&s("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",Wt),"ADSAFE"===Wt.value&&"."===u(0).id&&"id"===u(1).value&&(Ut&&s("ADsafe violation.",Wt),f("ADSAFE"),f("."),f("id"),f("("),Wt.value!==St&&s("ADsafe violation: id does not match.",Wt),f("(string)"),f(")"),f(";"),Ut=!0);break;case"lib":if("ADSAFE"===Wt.value)return f("ADSAFE"),f("."),f("lib"),f("("),f("(string)"),w(),t=p(0),"function"!==t.id&&s("The second argument to lib must be a function.",t),n=t.funct["(params)"],n=n&&n.join(", "),n&&"lib"!==n&&s("Expected '{a}' and instead saw '{b}'.",t,"(lib)","("+n+")"),f(")"),f(";"),a;s("ADsafe lib violation.")}for(;!Wt.reach&&"(end)"!==Wt.id;)";"===Wt.id?(r("Unnecessary semicolon."),f(";")):a.push(B());return a}function R(e){var t,n,a=Bt,i=Jt,o=Kt;if(Bt=e,Kt=Object.create(Kt),v(rn,Wt),n=Wt,"{"===Wt.id){if(f("{"),"}"!==Wt.id||rn.line!==Wt.line){for(Jt+=Xt.indent;!e&&Wt.from>Jt;)Jt+=Xt.indent;e||J(),t=P(),Jt-=Xt.indent,m()}f("}",n),Jt=i}else r("Expected '{a}' and instead saw '{b}'.",Wt,"{",Wt.value),Vt=!0,t=[B()],Vt=!1;return Ct["(verb)"]=null,Kt=o,Bt=a,t}function Z(){return this}function H(e){$t&&"boolean"!=typeof $t[e]&&r("Unexpected /*member '{a}'.",rn,e),"number"==typeof Ht[e]?Ht[e]+=1:Ht[e]=1}function $(e){var t=e.value,n=e.line,a=zt[t];"function"==typeof a&&(a=!1),a?a[a.length-1]!==n&&a.push(n):(a=[n],zt[t]=a)}function W(){return Wt.identifier?(f(),!0):void 0}function V(){return"-"===Wt.id&&(f("-"),h(),y()),"(number)"===Wt.type?(f("(number)"),!0):void 0}function X(){return"(string)"===Wt.type?(f(),!0):void 0}function G(){var e,t,n;if(Wt.identifier){if(n=Wt.value,"rgb"===n||"rgba"===n){for(f(),f("("),e=0;3>e;e+=1)e&&f(","),t=Wt.value,"(number)"!==Wt.type||0>t?(r("Expected a positive number and instead saw '{a}'",Wt,t),f()):(f(),"%"===Wt.id?(f("%"),t>100&&r("Expected a percentage and instead saw '{a}'",rn,t)):t>255&&r("Expected a small number and instead saw '{a}'",rn,t));return"rgba"===n&&(f(","),t=+Wt.value,("(number)"!==Wt.type||0>t||t>1)&&r("Expected a number between 0 and 1 and instead saw '{a}'",Wt,t),f(),"%"===Wt.id&&(r("Unexpected '%'."),f("%"))),f(")"),!0}if(bn[Wt.value]===!0)return f(),!0}else if("(color)"===Wt.type)return f(),!0;return!1}function Y(){return"-"===Wt.id&&(f("-"),h(),y()),"(number)"===Wt.type?(f(),"(string)"!==Wt.type&&vn[Wt.value]===!0?(h(),f()):0!==+rn.value&&r("Expected a linear unit and instead saw '{a}'.",Wt,Wt.value),!0):!1}function Q(){return"-"===Wt.id&&(f("-"),h()),"(number)"===Wt.type?(f(),"(string)"!==Wt.type&&vn[Wt.value]===!0&&(h(),f()),!0):!1}function K(){if(!Wt.identifier)return Y();switch(Wt.value){case"thin":case"medium":case"thick":return f(),!0}}function et(){return Wt.identifier?"auto"===Wt.value?(f(),!0):void 0:Y()}function tt(){return Wt.identifier&&"attr"===Wt.value?(f(),f("("),Wt.identifier||r("Expected a name and instead saw '{a}'.",Wt,Wt.value),f(),f(")"),!0):!1}function nt(){for(;";"!==Wt.id;){if(W()||X()||r("Expected a name and instead saw '{a}'.",Wt,Wt.value),","!==Wt.id)return!0;w()}}function at(){return Wt.identifier&&"counter"===Wt.value?(f(),f("("),!Wt.identifier,f(),","===Wt.id&&(w(),"(string)"!==Wt.type&&r("Expected a string and instead saw '{a}'.",Wt,Wt.value),f()),f(")"),!0):Wt.identifier&&"counters"===Wt.value?(f(),f("("),Wt.identifier||r("Expected a name and instead saw '{a}'.",Wt,Wt.value),f(),","===Wt.id&&(w(),"(string)"!==Wt.type&&r("Expected a string and instead saw '{a}'.",Wt,Wt.value),f()),","===Wt.id&&(w(),"(string)"!==Wt.type&&r("Expected a string and instead saw '{a}'.",Wt,Wt.value),f()),f(")"),!0):!1}function it(){var e;if(Wt.identifier&&"rect"===Wt.value){for(f(),f("("),e=0;4>e;e+=1)if(!Y()){r("Expected a number and instead saw '{a}'.",Wt,Wt.value);break}return f(")"),!0}return!1}function rt(){var e,t;return Wt.identifier&&"url"===Wt.value?(Wt=Zn.range("(",")"),t=Wt.value,e=t.charAt(0),('"'===e||"'"===e)&&(t.slice(-1)!==e?r("Bad url string."):(t=t.slice(1,-1),t.indexOf(e)>=0&&r("Bad url string."))),t||r("Missing url."),f(),Xt.safe&&qn.test(t)&&s("ADsafe URL violation."),on.push(t),!0):!1}function ot(){for(var e;"*"===Wt.id||"#"===Wt.id||"_"===Wt.value;)Xt.css||r("Unexpected '{a}'.",Wt,Wt.value),f();return"-"===Wt.id?(Xt.css||r("Unexpected '{a}'.",Wt,Wt.value),f("-"),Wt.identifier||r("Expected a non-standard style attribute and instead saw '{a}'.",Wt,Wt.value),f(),Mt):(Wt.identifier?t(_t,Wt.value)?e=_t[Wt.value]:(e=Mt,Xt.css||r("Unrecognized style attribute '{a}'.",Wt,Wt.value)):r("Excepted a style attribute, and instead saw '{a}'.",Wt,Wt.value),f(),e)}function st(e){var t,n,a,i,r,o=0,s=0;switch(typeof e){case"function":return e();case"string":return Wt.identifier&&Wt.value===e?(f(),!0):!1}for(;;){if(o>=e.length)return!1;if(r=e[o],o+=1,r===!0)break;for("number"==typeof r?(t=r,r=e[o],o+=1):t=1,a=!1;t>0&&st(r);)a=!0,t-=1;if(a)return!0}for(s=o,n=[];;){for(i=!1,o=s;o<e.length;o+=1)if(!n[o]&&st(_t[e[o]])){a=!0,i=!0,n[o]=!0;break}if(!i)return a}}function lt(){if("(number)"===Wt.id)return f(),void("n"===Wt.value&&Wt.identifier&&(h(),f(),"+"===Wt.id&&(h(),f("+"),h(),f("(number)"))));switch(Wt.value){case"odd":case"even":if(Wt.identifier)return void f()}r("Unexpected token '{a}'.",Wt,Wt.value)}function ct(){for(var e;;){if("}"===Wt.id||"(end)"===Wt.id||cn&&Wt.id===cn)return;for(;";"===Wt.id;)r("Misplaced ';'."),f(";");e=ot(),f(":"),Wt.identifier&&"inherit"===Wt.value?f():st(e)||(r("Unexpected token '{a}'.",Wt,Wt.value),f()),"!"===Wt.id&&(f("!"),h(),Wt.identifier&&"important"===Wt.value?f():r("Expected '{a}' and instead saw '{b}'.",Wt,"important",Wt.value)),"}"===Wt.id||Wt.id===cn?r("Missing '{a}'.",Wt,";"):f(";")}}function dt(){if(Wt.identifier)t(wn,Wt.value)||r("Expected a tagName, and instead saw {a}.",Wt,Wt.value),f();else switch(Wt.id){case">":case"+":f(),dt();break;case":":switch(f(":"),Wt.value){case"active":case"after":case"before":case"checked":case"disabled":case"empty":case"enabled":case"first-child":case"first-letter":case"first-line":case"first-of-type":case"focus":case"hover":case"last-of-type":case"link":case"only-of-type":case"root":case"target":case"visited":f();break;case"lang":f(),f("("),Wt.identifier||r("Expected a lang code, and instead saw :{a}.",Wt,Wt.value),f(")");break;case"nth-child":case"nth-last-child":case"nth-last-of-type":case"nth-of-type":f(),f("("),lt(),f(")");break;case"not":f(),f("("),":"===Wt.id&&"not"===u(0).value&&r("Nested not."),dt(),f(")");break;default:r("Expected a pseudo, and instead saw :{a}.",Wt,Wt.value)}break;case"#":f("#"),Wt.identifier||r("Expected an id, and instead saw #{a}.",Wt,Wt.value),f();break;case"*":f("*");break;case".":f("."),Wt.identifier||r("Expected a class, and instead saw #.{a}.",Wt,Wt.value),f();break;case"[":f("["),Wt.identifier||r("Expected an attribute, and instead saw [{a}].",Wt,Wt.value),f(),("="===Wt.id||"~="===Wt.value||"$="===Wt.value||"|="===Wt.value||"*="===Wt.id||"^="===Wt.id)&&(f(),"(string)"!==Wt.type&&r("Expected a string, and instead saw {a}.",Wt,Wt.value),f()),f("]");break;default:s("Expected a CSS selector, and instead saw {a}.",Wt,Wt.value)}}function ut(){var e;if("{"===Wt.id)r("Expected a style pattern, and instead saw '{a}'.",Wt,Wt.id);else if("@"===Wt.id){if(f("@"),e=Wt.value,Wt.identifier&&dn[e]===!0)return f(),e;r("Expected an at-rule, and instead saw @{a}.",Wt,e)}for(;;){if(dt(),"</"===Wt.id||"{"===Wt.id||"(end)"===Wt.id)return"";","===Wt.id&&w()}}function ft(){for(var e;"@"===Wt.id&&(e=u(),e.identifier&&"import"===e.value);)f("@"),f(),rt()||(r("Expected '{a}' and instead saw '{b}'.",Wt,"url",Wt.value),f()),f(";");for(;"</"!==Wt.id&&"(end)"!==Wt.id;)ut(),ln="styleproperty",";"===Wt.id?f(";"):(f("{"),ct(),ln="style",f("}"))}function pt(e){"html"===e||Xt.fragment||("div"===e&&Xt.adsafe?s("ADSAFE: Use the fragment option."):s("Expected '{a}' and instead saw '{b}'.",rn,"html",e)),Xt.adsafe&&("html"===e&&s("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",rn),Xt.fragment?"div"!==e&&s("ADsafe violation: Wrap the widget in a div.",rn):s("Use the fragment option.",rn)),Xt.browser=!0,a()}function ht(e,t,n){var a,i;"id"===t?(a="string"==typeof n?n.toUpperCase():"",qt[a]===!0&&r("Duplicate id='{a}'.",Wt,n),/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(n)?Xt.adsafe&&(St?n.slice(0,St.length)!==St?r("ADsafe violation: An id must have a '{a}' prefix",Wt,St):/^[A-Z]+_[A-Z]+$/.test(n)||r("ADSAFE violation: bad id."):(St=n,/^[A-Z]+_$/.test(n)||r("ADSAFE violation: bad id."))):r("Bad id: '{a}'.",Wt,n),i=n.search(Pn),i>=0&&r("Unexpected character '{a}' in {b}.",rn,n.charAt(i),t),qt[a]=!0):"class"===t||"type"===t||"name"===t?(i=n.search(Jn),i>=0&&r("Unexpected character '{a}' in {b}.",rn,n.charAt(i),t),qt[a]=!0):"href"===t||"background"===t||"content"===t||"data"===t||t.indexOf("src")>=0||t.indexOf("url")>=0?(Xt.safe&&qn.test(n)&&s("ADsafe URL violation."),on.push(n)):"for"===t?Xt.adsafe&&(St?n.slice(0,St.length)!==St?r("ADsafe violation: An id must have a '{a}' prefix",Wt,St):/^[A-Z]+_[A-Z]+$/.test(n)||r("ADSAFE violation: bad id."):r("ADSAFE violation: bad id.")):"name"===t&&Xt.adsafe&&n.indexOf("_")>=0&&r("ADsafe name violation.")}function bt(e,t){var n,a,i=wn[e];if(en=!1,i||s("Unrecognized tag '<{a}>'.",Wt,e===e.toLowerCase()?e:e+" (capitalization error)"),tn.length>0)if("html"===e&&s("Too many <html> tags.",rn),a=i.parent)a.indexOf(" "+tn[tn.length-1].name+" ")<0&&s("A '<{a}>' must be within '<{b}>'.",rn,e,a);else if(!Xt.adsafe&&!Xt.fragment){n=tn.length;do 0>=n&&s("A '<{a}>' must be within '<{b}>'.",rn,e,"body"),n-=1;while("body"!==tn[n].name)}switch(e){case"div":Xt.adsafe&&1===tn.length&&!St&&r("ADSAFE violation: missing ID_.");break;case"script":ln="script",f(">"),Jt=Wt.from,t.lang&&r("lang is deprecated.",rn),Xt.adsafe&&1!==tn.length&&r("ADsafe script placement violation.",rn),t.src?(!Xt.adsafe||Ut&&Ot[t.src]||r("ADsafe unapproved script source.",rn),t.type&&r("type is unnecessary.",rn)):(jt&&s("ADsafe script violation.",rn),P("script")),ln="html",f("</"),Wt.identifier||"script"===Wt.value||r("Expected '{a}' and instead saw '{b}'.",Wt,"script",Wt.value),f(),ln="outer";break;case"style":ln="style",f(">"),ft(),ln="html",f("</"),Wt.identifier||"style"===Wt.value||r("Expected '{a}' and instead saw '{b}'.",Wt,"style",Wt.value),f(),ln="outer";break;case"input":switch(t.type){case"radio":case"checkbox":case"button":case"reset":case"submit":break;case"text":case"password":case"file":case"hidden":case"image":Xt.adsafe&&"off"!==t.autocomplete&&r("ADsafe autocomplete violation.");break;default:r("Bad input type.")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"noembed":case"noframes":case"object":case"param":Xt.adsafe&&r("ADsafe violation: Disallowed tag: "+e)}}function vt(e){return"</"+e+">"}function gt(){var e,n,a,i,o,l,c,d,u=Xt.white;for(ln="html",cn="",tn=null;;){switch(Wt.value){case"<":for(ln="html",f("<"),n={},l=Wt,l.identifier||r("Bad identifier {a}.",l,l.value),i=l.value,Xt.cap&&(i=i.toLowerCase()),l.name=i,f(),tn||(tn=[],pt(i)),c=wn[i],"object"!=typeof c&&s("Unrecognized tag '<{a}>'.",l,i),a=c.empty,l.type=i;;){if("/"===Wt.id){f("/"),">"!==Wt.id&&r("Expected '{a}' and instead saw '{b}'.",Wt,">",Wt.value);break}if(Wt.id&&">"===Wt.id.substr(0,1))break;Wt.identifier||(("(end)"===Wt.id||"(error)"===Wt.id)&&s("Missing '>'.",Wt),r("Bad identifier.")),Xt.white=!0,v(rn,Wt),e=Wt.value,Xt.white=u,f(),Xt.cap||e===e.toLowerCase()||r("Attribute '{a}' not all lower case.",Wt,e),e=e.toLowerCase(),cn="",t(n,e)&&r("Attribute '{a}' repeated.",Wt,e),"on"===e.slice(0,2)?(Xt.on||r("Avoid HTML event handlers."),ln="scriptstring",f("="),o=Wt.id,'"'!==o&&"'"!==o&&s("Missing quote."),cn=o,d=Xt.white,Xt.white=!1,f(o),P("on"),Xt.white=d,Wt.id!==o&&s("Missing close quote on script attribute."),ln="html",cn="",f(o),c=!1):"style"===e?(ln="scriptstring",f("="),o=Wt.id,'"'!==o&&"'"!==o&&s("Missing quote."),ln="styleproperty",cn=o,f(o),ct(),ln="html",cn="",f(o),c=!1):"="===Wt.id?(f("="),c=Wt.value,Wt.identifier||'"'===Wt.id||"'"===Wt.id||"(string)"===Wt.type||"(number)"===Wt.type||"(color)"===Wt.type||r("Expected an attribute value and instead saw '{a}'.",rn,e),f()):c=!0,n[e]=c,ht(i,e,c)}bt(i,n),a||tn.push(l),ln="outer",f(">");break;case"</":ln="html",f("</"),Wt.identifier||r("Bad identifier."),i=Wt.value,Xt.cap&&(i=i.toLowerCase()),f(),tn||s("Unexpected '{a}'.",Wt,vt(i)),l=tn.pop(),l||s("Unexpected '{a}'.",Wt,vt(i)),l.name!==i&&s("Expected '{a}' and instead saw '{b}'.",Wt,vt(l.name),vt(i)),">"!==Wt.id&&s("Missing '{a}'.",Wt,">"),ln="outer",f(">");break;case"<!":for(Xt.safe&&r("ADsafe HTML violation."),ln="html";f(),">"!==Wt.id&&"(end)"!==Wt.id;)Wt.value.indexOf("--")>=0&&r("Unexpected --."),Wt.value.indexOf("<")>=0&&r("Unexpected <."),Wt.value.indexOf(">")>=0&&r("Unexpected >.");ln="outer",f(">");
break;case"(end)":return;default:"(end)"===Wt.id?s("Missing '{a}'.",Wt,"</"+tn[tn.length-1].value+">"):f()}if(tn&&0===tn.length&&(Xt.adsafe||!Xt.fragment||"(end)"===Wt.id))break}"(end)"!==Wt.id&&s("Unexpected material after the end.")}function mt(){var e=F(!0);return e||("(string)"===Wt.id?(e=Wt.value,f()):"(number)"===Wt.id&&(e=Wt.value.toString(),f())),e}function yt(){var e,t=Wt,n=[];if(f("("),b(),")"===Wt.id)return f(")"),void b(Qt,rn);for(;;){if(e=q(),n.push(e),c(e,"parameter"),","!==Wt.id)return f(")",t),b(Qt,rn),n;w()}}function wt(e){var t,n=Kt;return Kt=Object.create(n),Ct={"(name)":e||'"'+Dt+'"',"(line)":Wt.line,"(context)":Ct,"(breakage)":0,"(loopage)":0,"(scope)":Kt},t=Ct,rn.funct=Ct,Lt.push(Ct),e&&c(e,"function"),Ct["(params)"]=yt(),R(!1),Kt=n,Ct["(last)"]=rn.line,Ct=Ct["(context)"],t}function xt(e){var t,n,a;for(Ct["(onevar)"]&&Xt.onevar?r("Too many var statements."):Ct["(global)"]||(Ct["(onevar)"]=!0),this.first=[];(v(rn,Wt),t=q(),Ct["(global)"]&&Gt[t]===!1&&r("Redefinition of '{a}'.",rn,t),c(t,"unused"),!e)&&(n=rn,this.first.push(rn),"="===Wt.id&&(v(rn,Wt),f("="),v(rn,Wt),"undefined"===Wt.id&&r("It is not necessary to initialize '{a}' to 'undefined'.",rn,t),"="===u(0).id&&Wt.identifier&&s("Variable {a} was not declared correctly.",Wt,Wt.value),a=p(0),n.first=a),","===Wt.id);)w();return this}function kt(){function e(){var e={},t=Wt;if(f("{"),"}"!==Wt.id)for(;;){if("(end)"===Wt.id)s("Missing '}' to match '{' from line {a}.",Wt,t.line);else{if("}"===Wt.id){r("Unexpected comma.",rn);break}","===Wt.id?s("Unexpected comma.",Wt):"(string)"!==Wt.id&&r("Expected a string and instead saw {a}.",Wt,Wt.value)}if(e[Wt.value]===!0?r("Duplicate key '{a}'.",Wt,Wt.value):"__proto__"===Wt.value?r("Stupid key '{a}'.",Wt,Wt.value):e[Wt.value]=!0,f(),f(":"),kt(),","!==Wt.id)break;f(",")}f("}")}function t(){var e=Wt;if(f("["),"]"!==Wt.id)for(;;){if("(end)"===Wt.id)s("Missing ']' to match '[' from line {a}.",Wt,e.line);else{if("]"===Wt.id){r("Unexpected comma.",rn);break}","===Wt.id&&s("Unexpected comma.",Wt)}if(kt(),","!==Wt.id)break;f(",")}f("]")}switch(Wt.id){case"{":e();break;case"[":t();break;case"true":case"false":case"null":case"(number)":case"(string)":f();break;case"-":f("-"),rn.character!==Wt.from&&r("Unexpected space after '-'.",rn),h(rn,Wt),f("(number)");break;default:s("Expected a JSON value.",Wt)}}function At(e){return"[object Array]"===Object.prototype.toString.apply(e)}function Et(e){var n,a=[];for(n in e)t(e,n)&&a.push(n);return a}var St,Ut,jt,Dt,Ot,_t,Mt,Tt,Nt,It,Ct,Lt,Ft,qt,zt,Bt,Jt,Pt,Rt,Zt,Ht,$t,Wt,Vt,Xt,Gt,Yt,Qt,Kt,en,tn,nn,an,rn,on,sn,ln,cn,dn={media:!0,"font-face":!0,page:!0},un={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},fn={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},pn={adsafe:!0,bitwise:!0,browser:!0,cap:!0,css:!0,debug:!0,devel:!0,eqeqeq:!0,es5:!0,evil:!0,forin:!0,fragment:!0,immed:!0,laxbreak:!0,newcap:!0,node:!0,nomen:!0,on:!0,onevar:!0,passfail:!0,plusplus:!0,regexp:!0,rhino:!0,undef:!0,safe:!0,windows:!0,strict:!0,sub:!0,white:!0,widget:!0},hn={addEventListener:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,defaultStatus:!1,document:!1,event:!1,focus:!1,frames:!1,getComputedStyle:!1,history:!1,Image:!1,length:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,setInterval:!1,setTimeout:!1,status:!1,top:!1,window:!1,XMLHttpRequest:!1},bn={aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgreen:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0},vn={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},gn={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},mn={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},yn=["closure","exception","global","label","outer","unused","var"],wn={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},html:{parent:"*"},hr:{empty:!0},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},xn={Buffer:!1,clearInterval:!1,clearTimeout:!1,console:!1,exports:!1,global:!1,module:!1,process:!1,require:!1,setInterval:!1,setTimeout:!1,__filename:!1,__dirname:!1},kn={defineClass:!1,deserialize:!1,gc:!1,help:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},An={ActiveXObject:!1,CScript:!1,Debug:!1,Enumerator:!1,System:!1,VBArray:!1,WScript:!1},En={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},Sn={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,PI:!0,SQRT1_2:!0,SQRT2:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,POSITIVE_INFINITY:!0},Un={},jn={alert:!0,animator:!0,appleScript:!0,beep:!0,bytesToUIString:!0,Canvas:!0,chooseColor:!0,chooseFile:!0,chooseFolder:!0,closeWidget:!0,COM:!0,convertPathToHFS:!0,convertPathToPlatform:!0,CustomAnimation:!0,escape:!0,FadeAnimation:!0,filesystem:!0,Flash:!0,focusWidget:!0,form:!0,FormField:!0,Frame:!0,HotKey:!0,Image:!0,include:!0,isApplicationRunning:!0,iTunes:!0,konfabulatorVersion:!0,log:!0,md5:!0,MenuItem:!0,MoveAnimation:!0,openURL:!0,play:!0,Point:!0,popupMenu:!0,preferenceGroups:!0,preferences:!0,print:!0,prompt:!0,random:!0,Rectangle:!0,reloadWidget:!0,ResizeAnimation:!0,resolvePath:!0,resumeUpdates:!0,RotateAnimation:!0,runCommand:!0,runCommandInBg:!0,saveAs:!0,savePreferences:!0,screen:!0,ScrollBar:!0,showWidgetPreferences:!0,sleep:!0,speak:!0,Style:!0,suppressUpdates:!0,system:!0,tellWidget:!0,Text:!0,TextArea:!0,Timer:!0,unescape:!0,updateNow:!0,URL:!0,Web:!0,widget:!0,Window:!0,XMLDOM:!0,XMLHttpRequest:!0,yahooCheckLogin:!0,yahooLogin:!0,yahooLogout:!0},Dn=/@cc|<\/?|script|\]*s\]|<\s*!|&lt/i,On=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,_n=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jslint|members?|global)?|=|\/)?|\*[\/=]?|\+[+=]?|-[\-=]?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,Mn=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-]*|[0-9]+|--)/,Tn=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Nn=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,In=/[>&]|<[\/!]?|--/,Cn=/\*\/|\/\*/,Ln=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,Fn=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,qn=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,zn=/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,Bn=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,Jn=/[^a-zA-Z0-9+\-_\/ ]/,Pn=/[\[\]\/\\"'*<>.&:(){}+=#]/,Rn={outer:Mn,html:Mn,style:zn,styleproperty:Bn};"function"!=typeof Object.create&&(Object.create=function(t){return e.prototype=t,new e}),String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},String.prototype.isAlpha=function(){return this>="a"&&"z￿">=this||this>="A"&&"Z￿">=this},String.prototype.isDigit=function(){return this>="0"&&"9">=this},String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var a=e[n];return"string"==typeof a||"number"==typeof a?a:t})},String.prototype.name=function(){return Ln.test(this)?this:Tn.test(this)?'"'+this.replace(Nn,function(e){var t=mn[e];return t?t:"\\u"+("0000"+e.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'};var Zn=function(){function e(){var e;return r>=Rt.length?!1:(a=1,s=Rt[r],r+=1,e=s.search(/ \t/),e>=0&&o("Mixed spaces and tabs.",r,e+1),s=s.replace(/\t/g,an),e=s.search(On),e>=0&&o("Unsafe character.",r,e),Xt.maxlen&&Xt.maxlen<s.length&&o("Line too long.",r,s.length),!0)}function n(e,n){var s,c;return c="(color)"===e?{type:e}:"(punctuator)"===e||"(identifier)"===e&&t(Un,n)?Un[n]||Un["(error)"]:Un[e],c=Object.create(c),("(string)"===e||"(range)"===e)&&Fn.test(n)&&o("Script URL.",r,i),"(identifier)"===e&&(c.identifier=!0,"__iterator__"===n||"__proto__"===n?l("Reserved name '{a}'.",r,i,n):!Xt.nomen||"_"!==n.charAt(0)&&"_"!==n.charAt(n.length-1)||o("Unexpected {a} in '{b}'.",r,i,"dangling '_'",n)),c.value=n,c.line=r,c.character=a,c.from=i,s=c.id,"(endline)"!==s&&(Yt=s&&("(,=:[!&|?{};".indexOf(s.charAt(s.length-1))>=0||"return"===s)),c}var a,i,r,s;return{init:function(t){Rt="string"==typeof t?t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):t,r=0,e(),i=1},range:function(e,t){var c,d="";for(i=a,s.charAt(0)!==e&&l("Expected '{a}' and instead saw '{b}'.",r,a,e,s.charAt(0));;){switch(s=s.slice(1),a+=1,c=s.charAt(0)){case"":l("Missing '{a}'.",r,a,c);break;case t:return s=s.slice(1),a+=1,n("(range)",d);case cn:case"\\":o("Unexpected '{a}'.",r,a,c)}d+=c}},token:function(){function t(e){var t,n=e.exec(s);return n?(m=n[0].length,t=n[1],u=t.charAt(0),s=s.substr(m),i=a+m-t.length,a+=m,t):void 0}function c(t){function c(e){var t=parseInt(s.substr(u+1,e),16);u+=e,t>=32&&126>=t&&34!==t&&92!==t&&39!==t&&o("Unnecessary escapement.",r,a),a+=e,d=String.fromCharCode(t)}var d,u,f="";if(Pt&&'"'!==t&&o("Strings must use doublequote.",r,a),cn===t||"scriptstring"===ln&&!cn)return n("(punctuator)",t);for(u=0;;){for(;u>=s.length;)u=0,"html"===ln&&e()||l("Unclosed string.",r,i);if(d=s.charAt(u),d===t)return a+=1,s=s.substr(u+1),n("(string)",f,t);if(" ">d){if("\n"===d||"\r"===d)break;o("Control character in string: {a}.",r,a+u,s.slice(0,u))}else if(d===cn)o("Bad HTML string",r,a+u);else if("<"===d)Xt.safe&&"html"===ln?o("ADsafe string violation.",r,a+u):"/"===s.charAt(u+1)&&(ln||Xt.safe)?o("Expected '<\\/' and instead saw '</'.",r,a):"!"===s.charAt(u+1)&&(ln||Xt.safe)&&o("Unexpected '<!' in a string.",r,a);else if("\\"===d)if("html"===ln)Xt.safe&&o("ADsafe string violation.",r,a+u);else if("styleproperty"===ln)u+=1,a+=1,d=s.charAt(u),d!==t&&o("Escapement in style string.",r,a+u);else switch(u+=1,a+=1,d=s.charAt(u)){case cn:o("Bad HTML string",r,a+u);break;case"\\":case"'":case'"':case"/":break;case"b":d="\b";break;case"f":d="\f";break;case"n":d="\n";break;case"r":d="\r";break;case"t":d="	";break;case"u":c(4);break;case"v":d="";break;case"x":Pt&&o("Avoid \\x-.",r,a),c(2);break;default:o("Bad escapement.",r,a)}f+=d,a+=1,u+=1}}for(var d,u,f,p,h,b,v,g,m,y,w,x;;){if(!s)return n(e()?"(endline)":"(end)","");for(;"outer"===ln&&(g=s.search(In),0!==g);){if(g>0){a+=1,s=s.slice(g);break}if(!e())return n("(end)","")}if(x=t(Rn[ln]||_n)){if(u.isAlpha()||"_"===u||"$"===u)return n("(identifier)",x);if(u.isDigit())return"style"===ln||isFinite(Number(x))||o("Bad number '{a}'.",r,a,x),"style"!==ln&&"styleproperty"!==ln&&s.substr(0,1).isAlpha()&&o("Missing space after '{a}'.",r,a,x),"0"===u&&(h=x.substr(1,1),h.isDigit()?"."!==rn.id&&"styleproperty"!==ln&&o("Don't use extra leading zeros '{a}'.",r,a,x):!Pt||"x"!==h&&"X"!==h||o("Avoid 0x-. '{a}'.",r,a,x)),"."===x.substr(x.length-1)&&o("A trailing decimal point can be confused with a dot '{a}'.",r,a,x),n("(number)",x);switch(x){case'"':case"'":return c(x);case"//":en||ln&&"script"!==ln?o("Unexpected comment.",r,a):"script"===ln&&/<\s*\//i.test(s)?o("Unexpected </ in comment.",r,a):(Xt.safe||"script"===ln)&&Dn.test(s)&&o("Dangerous comment.",r,a),s="",rn.comment=!0;break;case"/*":for((en||ln&&"script"!==ln&&"style"!==ln&&"styleproperty"!==ln)&&o("Unexpected comment.",r,a),Xt.safe&&Dn.test(s)&&o("ADsafe comment violation.",r,a);g=s.search(Cn),!(g>=0);)e()?Xt.safe&&Dn.test(s)&&o("ADsafe comment violation.",r,a):l("Unclosed comment.",r,a);a+=g+2,"/"===s.substr(g,1)&&l("Nested comment.",r,a),s=s.substr(g+2),rn.comment=!0;break;case"/*members":case"/*member":case"/*jslint":case"/*global":case"*/":return{value:x,type:"special",line:r,character:a,from:i};case"":break;case"/":if("/="===rn.id&&l("A regular expression literal can be confused with '/='.",r,i),Yt){for(b=0,p=0,m=0;;){switch(d=!0,u=s.charAt(m),m+=1,u){case"":return void l("Unclosed regular expression.",r,i);case"/":for(b>0&&o("Unescaped '{a}'.",r,i+m,"/"),u=s.substr(0,m-1),w={g:!0,i:!0,m:!0};w[s.charAt(m)]===!0;)w[s.charAt(m)]=!1,m+=1;return a+=m,s=s.substr(m),w=s.charAt(0),("/"===w||"*"===w)&&l("Confusing regular expression.",r,i),n("(regexp)",u);case"\\":u=s.charAt(m)," ">u?o("Unexpected control character in regular expression.",r,i+m):"<"===u&&o("Unexpected escaped character '{a}' in regular expression.",r,i+m,u),m+=1;break;case"(":if(b+=1,d=!1,"?"===s.charAt(m))switch(m+=1,s.charAt(m)){case":":case"=":case"!":m+=1;break;default:o("Expected '{a}' and instead saw '{b}'.",r,i+m,":",s.charAt(m))}else p+=1;break;case"|":d=!1;break;case")":0===b?o("Unescaped '{a}'.",r,i+m,")"):b-=1;break;case" ":for(w=1;" "===s.charAt(m);)m+=1,w+=1;w>1&&o("Spaces are hard to count. Use {{a}}.",r,i+m,w);break;case"[":u=s.charAt(m),"^"===u&&(m+=1,Xt.regexp&&o("Insecure '{a}'.",r,i+m,u)),w=!1,"]"===u&&(o("Empty class.",r,i+m-1),w=!0);e:do switch(u=s.charAt(m),m+=1,u){case"[":case"^":o("Unescaped '{a}'.",r,i+m,u),w=!0;break;case"-":w?w=!1:(o("Unescaped '{a}'.",r,i+m,"-"),w=!0);break;case"]":w||o("Unescaped '{a}'.",r,i+m-1,"-");break e;case"\\":u=s.charAt(m)," ">u?o("Unexpected control character in regular expression.",r,i+m):"<"===u&&o("Unexpected escaped character '{a}' in regular expression.",r,i+m,u),m+=1,w=!0;break;case"/":o("Unescaped '{a}'.",r,i+m-1,"/"),w=!0;break;case"<":"script"===ln&&(u=s.charAt(m),("!"===u||"/"===u)&&o("HTML confusion in regular expression '<{a}'.",r,i+m,u)),w=!0;break;default:w=!0}while(u);break;case".":Xt.regexp&&o("Insecure '{a}'.",r,i+m,u);break;case"]":case"?":case"{":case"}":case"+":case"*":o("Unescaped '{a}'.",r,i+m,u);break;case"<":"script"===ln&&(u=s.charAt(m),("!"===u||"/"===u)&&o("HTML confusion in regular expression '<{a}'.",r,i+m,u))}if(d)switch(s.charAt(m)){case"?":case"+":case"*":m+=1,"?"===s.charAt(m)&&(m+=1);break;case"{":for(m+=1,u=s.charAt(m),("0">u||u>"9")&&o("Expected a number and instead saw '{a}'.",r,i+m,u),m+=1,y=+u;u=s.charAt(m),!("0">u||u>"9");)m+=1,y=+u+10*y;if(v=y,","===u&&(m+=1,v=1/0,u=s.charAt(m),u>="0"&&"9">=u))for(m+=1,v=+u;u=s.charAt(m),!("0">u||u>"9");)m+=1,v=+u+10*v;"}"!==s.charAt(m)?o("Expected '{a}' and instead saw '{b}'.",r,i+m,"}",u):m+=1,"?"===s.charAt(m)&&(m+=1),y>v&&o("'{a}' should not be greater than '{b}'.",r,i+m,y,v)}}return u=s.substr(0,m-1),a+=m,s=s.substr(m),n("(regexp)",u)}return n("(punctuator)",x);case"<!--":for(m=r,u=a;g=s.indexOf("--"),!(g>=0);)g=s.indexOf("<!"),g>=0&&l("Nested HTML comment.",r,a+g),e()||l("Unclosed HTML comment.",m,u);m=s.indexOf("<!"),m>=0&&g>m&&l("Nested HTML comment.",r,a+m),a+=g,">"!==s[g+2]&&l("Expected -->.",r,a),a+=3,s=s.slice(g+3);break;case"#":if("html"===ln||"styleproperty"===ln){for(;u=s.charAt(0),!(("0">u||u>"9")&&("a">u||u>"f")&&("A">u||u>"F"));)a+=1,s=s.substr(1),x+=u;return 4!==x.length&&7!==x.length&&o("Bad hex color '{a}'.",r,i+m,x),n("(color)",x)}return n("(punctuator)",x);default:if("outer"===ln&&"&"===u){for(a+=1,s=s.substr(1);u=s.charAt(0),a+=1,s=s.substr(1),";"!==u;)u>="0"&&"9">=u||u>="a"&&"z">=u||"#"===u||l("Bad entity",r,i+m,a);break}return n("(punctuator)",x)}}else{for(x="",u="";s&&"!">s;)s=s.substr(1);if(s){if("html"===ln)return f=s.charAt(0),s=s.substr(1),n("(error)",f);l("Unexpected '{a}'.",r,a,s.substr(0,1))}}}}}}();Mt=[rt,function(){for(;;)if(Wt.identifier)switch(Wt.value.toLowerCase()){case"url":rt();break;case"expression":r("Unexpected expression '{a}'.",Wt,Wt.value),f();break;default:f()}else{if(";"===Wt.id||"!"===Wt.id||"(end)"===Wt.id||"}"===Wt.id)return!0;f()}}],Tt=["none","hidden","dotted","dashed","solid","double","ridge","inset","outset"],Nt=["auto","always","avoid","left","right"],It=["auto","hidden","scroll","visible"],_t={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",G],"background-image":["none",rt],"background-position":[2,[Y,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":G,"border-bottom-style":Tt,"border-bottom-width":K,"border-collapse":["collapse","separate"],"border-color":["transparent",4,G],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":G,"border-left-style":Tt,"border-left-width":K,"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":G,"border-right-style":Tt,"border-right-width":K,"border-spacing":[2,Y],"border-style":[4,Tt],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":G,"border-top-style":Tt,"border-top-width":K,"border-width":[4,K],bottom:[Y,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[it,"auto"],color:G,content:["open-quote","close-quote","no-open-quote","no-close-quote",X,rt,at,tt],"counter-increment":[W,"none"],"counter-reset":[W,"none"],cursor:[rt,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":nt,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",Y],"font-size-adjust":["none",V],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",V],height:[Y,"auto"],left:[Y,"auto"],"letter-spacing":["normal",Y],"line-height":["normal",Q],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",rt],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,et],"margin-bottom":et,"margin-left":et,"margin-right":et,"margin-top":et,"marker-offset":[Y,"auto"],"max-height":[Y,"none"],"max-width":[Y,"none"],"min-height":Y,"min-width":Y,opacity:V,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",G],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":K,overflow:It,"overflow-x":It,"overflow-y":It,padding:[4,Y],"padding-bottom":Y,"padding-left":Y,"padding-right":Y,"padding-top":Y,"page-break-after":Nt,"page-break-before":Nt,position:["absolute","fixed","relative","static"],quotes:[8,X],right:[Y,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":Y,"text-shadow":["none",4,[G,Y]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[Y,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",Y],visibility:["visible","hidden","collapse"],"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[Y,"auto"],"word-spacing":["normal",Y],"word-wrap":["break-word","normal"],"z-index":["auto",V]},j("(number)",Z),j("(string)",Z),Un["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var e,t=this.value,n=Kt[t];if("function"==typeof n?n=void 0:"boolean"==typeof n&&(e=Ct,Ct=Lt[0],c(t,"var"),n=Ct,Ct=e),Ct===n)switch(Ct[t]){case"unused":Ct[t]="var";break;case"label":r("'{a}' is a statement label.",rn,t)}else if(Ct["(global)"])Xt.undef&&"boolean"!==Gt[t]&&r("'{a}' is not defined.",rn,t),$(rn);else switch(Ct[t]){case"closure":case"function":case"var":case"unused":r("'{a}' used out of scope.",rn,t);break;case"label":r("'{a}' is a statement label.",rn,t);break;case"outer":case"global":break;default:if(n===!0)Ct[t]=!0;else if(null===n)r("'{a}' is not allowed.",rn,t),$(rn);else if("object"!=typeof n)Xt.undef?r("'{a}' is not defined.",rn,t):Ct[t]=!0,$(rn);else switch(n[t]){case"function":case"var":case"unused":n[t]="closure",Ct[t]=n["(global)"]?"global":"outer";break;case"closure":case"parameter":Ct[t]=n["(global)"]?"global":"outer";break;case"label":r("'{a}' is a statement label.",rn,t)}}return this},led:function(){s("Expected an operator and instead saw '{a}'.",Wt,Wt.value)}},j("(regexp)",function(){return this}),k("(endline)"),k("(begin)"),k("(end)").reach=!0,k("</").reach=!0,k("<!"),k("<!--"),k("-->"),k("(error)").reach=!0,k("}").reach=!0,k(")"),k("]"),k('"').reach=!0,k("'").reach=!0,k(";"),k(":").reach=!0,k(","),k("#"),k("@"),D("else"),D("case").reach=!0,D("catch"),D("default").reach=!0,D("finally"),O("arguments"),O("eval"),O("false"),O("Infinity"),O("NaN"),O("null"),O("this"),O("true"),O("undefined"),N("=","assign",20),N("+=","assignadd",20),N("-=","assignsub",20),N("*=","assignmult",20),N("/=","assigndiv",20).nud=function(){s("A regular expression literal can be confused with '/='.")},N("%=","assignmod",20),C("&=","assignbitand",20),C("|=","assignbitor",20),C("^=","assignbitxor",20),C("<<=","assignshiftleft",20),C(">>=","assignshiftright",20),C(">>>=","assignshiftrightunsigned",20),_("?",function(e,t){return t.left=e,t.right=p(10),f(":"),t["else"]=p(10),t},30),_("||","or",40),_("&&","and",50),I("|","bitor",70),I("^","bitxor",80),I("&","bitand",90),M("==",function(e,t){return Xt.eqeqeq?r("Expected '{a}' and instead saw '{b}'.",this,"===","=="):T(e)?r("Use '{a}' to compare with '{b}'.",this,"===",e.value):T(t)&&r("Use '{a}' to compare with '{b}'.",this,"===",t.value),this}),M("==="),M("!=",function(e,t){return Xt.eqeqeq?r("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):T(e)?r("Use '{a}' to compare with '{b}'.",this,"!==",e.value):T(t)&&r("Use '{a}' to compare with '{b}'.",this,"!==",t.value),this}),M("!=="),M("<"),M(">"),M("<="),M(">="),I("<<","shiftleft",120),I(">>","shiftright",120),I(">>>","shiftrightunsigned",120),_("in","in",120),_("instanceof","instanceof",120),_("+",function(e,t){var n=p(130);return e&&n&&"(string)"===e.id&&"(string)"===n.id?(e.value+=n.value,e.character=n.character,Fn.test(e.value)&&r("JavaScript URL.",e),e):(t.left=e,t.right=n,t)},130),U("+","num"),_("-","sub",130),U("-","neg"),_("*","mult",140),_("/","div",140),_("%","mod",140),L("++","postinc"),U("++","preinc"),Un["++"].exps=!0,L("--","postdec"),U("--","predec"),Un["--"].exps=!0,U("delete",function(){var e=p(0);return(!e||"."!==e.id&&"["!==e.id)&&r("Expected '{a}' and instead saw '{b}'.",Wt,".",Wt.value),this.first=e,this}).exps=!0,U("~",function(){return Xt.bitwise&&r("Unexpected '{a}'.",this,"~"),p(150),this}),U("!",function(){return this.right=p(150),this.arity="unary",un[this.right.id]===!0&&r("Confusing use of '{a}'.",this,"!"),this}),U("typeof","typeof"),U("new",function(){var e,t=p(155);if(t&&"function"!==t.id)if(t.identifier)switch(t["new"]=!0,t.value){case"Object":r("Use the object literal notation {}.",rn);break;case"Array":return"("!==Wt.id?r("Use the array literal notation [].",rn):(f("("),")"===Wt.id?r("Use the array literal notation [].",rn):(e=p(0),t.dimension=e,("(number)"===e.id&&/[.+\-Ee]/.test(e.value)||"-"===e.id&&!e.right||"(string)"===e.id||"["===e.id||"{"===e.id||"true"===e.id||"false"===e.id||"null"===e.id||"undefined"===e.id||"Infinity"===e.id)&&r("Use the array literal notation [].",rn),")"!==Wt.id&&s("Use the array literal notation [].",rn)),f(")")),this.first=t,this;case"Number":case"String":case"Boolean":case"Math":case"JSON":r("Do not use {a} as a constructor.",rn,t.value);break;case"Function":Xt.evil||r("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:"function"!==t.id&&(e=t.value.substr(0,1),Xt.newcap&&("A">e||e>"Z")&&r("A constructor name should start with an uppercase letter.",rn))}else"."!==t.id&&"["!==t.id&&"("!==t.id&&r("Bad constructor.",rn);else r("Weird construction. Delete 'new'.",this);return h(rn,Wt),"("!==Wt.id&&r("Missing '()' invoking a constructor."),this.first=t,this}),Un["new"].exps=!0,_(".",function(e,t){h(Qt,rn);var n=q();if("string"==typeof n&&H(n),t.left=e,t.right=n,Xt.evil||!e||"document"!==e.value||"write"!==n&&"writeln"!==n?Xt.adsafe&&e&&"ADSAFE"===e.value&&("id"===n||"lib"===n?r("ADsafe violation.",t):"go"===n&&("script"!==ln?r("ADsafe violation.",t):(jt||"("!==Wt.id||"(string)"!==u(0).id||u(0).value!==St||","!==u(1).id)&&s("ADsafe violation: go.",t),jt=!0,Ut=!1)):r("document.write can be a form of eval.",e),Xt.evil||"eval"!==n&&"execScript"!==n){if(Xt.safe)for(;fn[n]===!0&&r("ADsafe restricted word '{a}'.",rn,n),"boolean"==typeof Gt[e.value]&&"("!==Wt.id;){if(Sn[n]===!0){"."===Wt.id&&r("ADsafe violation.",t);break}if("."!==Wt.id){r("ADsafe violation.",t);break}f("."),rn.left=t,rn.right=n,t=rn,n=q(),"string"==typeof n&&H(n)}}else r("eval is evil.");return t},160,!0),_("(",function(e,t){h(Qt,rn),b();var n=0,a=[];if(e&&("(identifier)"===e.type?e.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&"Number"!==e.value&&"String"!==e.value&&"Boolean"!==e.value&&"Date"!==e.value&&("Math"===e.value?r("Math is not a function.",e):Xt.newcap&&r("Missing 'new' prefix when invoking a constructor.",e)):"."===e.id&&Xt.safe&&"Math"===e.left.value&&"random"===e.right&&r("ADsafe violation.",e)),")"!==Wt.id)for(;a[a.length]=p(10),n+=1,","===Wt.id;)w();return f(")"),Xt.immed&&"function"===e.id&&")"!==Wt.id&&r("Wrap the entire immediate function invocation in parens.",t),b(Qt,rn),"object"==typeof e&&("parseInt"===e.value&&1===n&&r("Missing radix parameter.",e),Xt.evil||("eval"===e.value||"Function"===e.value||"execScript"===e.value?r("eval is evil.",e):!a[0]||"(string)"!==a[0].id||"setTimeout"!==e.value&&"setInterval"!==e.value||r("Implied eval is evil. Pass a function instead of a string.",e)),e.identifier||"."===e.id||"["===e.id||"("===e.id||"&&"===e.id||"||"===e.id||"?"===e.id||r("Bad invocation.",e)),t.left=e,t},155,!0).exps=!0,U("(",function(){b();var e=p(0);return f(")",this),b(Qt,rn),Xt.immed&&"function"===e.id&&("("===Wt.id?r("Move the invocation into the parens that contain the function.",Wt):r("Do not wrap function literals in parens unless they are to be immediately invoked.",this)),e}),_("[",function(e,t){b();var n,a=p(0);return a&&"(string)"===a.type?(Xt.safe&&fn[a.value]===!0?r("ADsafe restricted word '{a}'.",t,a.value):Xt.evil||"eval"!==a.value&&"execScript"!==a.value?!Xt.safe||"_"!==a.value.charAt(0)&&"-"!==a.value.charAt(0)||r("ADsafe restricted subscript '{a}'.",t,a.value):r("eval is evil.",t),H(a.value),!Xt.sub&&Ln.test(a.value)&&(n=Un[a.value],n&&n.reserved||r("['{a}'] is better written in dot notation.",a,a.value))):(!a||"(number)"!==a.type||a.value<0)&&Xt.safe&&r("ADsafe subscripting."),f("]",t),b(Qt,rn),t.left=e,t.right=a,t},160,!0),U("[",function(){var e=rn.line!==Wt.line;for(this.first=[],e&&(Jt+=Xt.indent,Wt.from===Jt+Xt.indent&&(Jt+=Xt.indent));"(end)"!==Wt.id;){for(;","===Wt.id;)r("Extra comma."),f(",");if("]"===Wt.id)break;if(e&&rn.line!==Wt.line&&m(),this.first.push(p(10)),","!==Wt.id)break;if(w(),"]"===Wt.id){r("Extra comma.",rn);break}}return e&&(Jt-=Xt.indent,m()),f("]",this),this},160),function(e){e.nud=function(){var e,t,n,a,i,o,l={};for(e=rn.line!==Wt.line,e&&(Jt+=Xt.indent,Wt.from===Jt+Xt.indent&&(Jt+=Xt.indent));"}"!==Wt.id;){if(e&&m(),"get"===Wt.value&&":"!==u().id)f("get"),Xt.es5||s("get/set are ES5 features."),n=mt(),n||s("Missing property name."),o=Wt,h(rn,Wt),t=wt(n),Ct["(loopage)"]&&r("Don't make functions within a loop.",o),i=t["(params)"],i&&r("Unexpected parameter '{a}' in get {b} function.",o,i[0],n),h(rn,Wt),f(","),m(),f("set"),a=mt(),n!==a&&s("Expected {a} and instead saw {b}.",rn,n,a),o=Wt,h(rn,Wt),t=wt(n),i=t["(params)"],i&&1===i.length&&"value"===i[0]||r("Expected (value) in set {a} function.",o,n);
else{if(n=mt(),"string"!=typeof n)break;f(":"),v(rn,Wt),p(10)}if(l[n]===!0&&r("Duplicate member '{a}'.",Wt,n),l[n]=!0,H(n),","!==Wt.id)break;w(),","===Wt.id?r("Extra comma.",rn):"}"===Wt.id&&r("Extra comma.",rn)}return e&&(Jt-=Xt.indent,m()),f("}",this),this},e.fud=function(){s("Expected to see a statement and instead saw a block.",rn)}}(k("{")),A("var",xt).exps=!0,E("function",function(){Bt&&r("Function statements cannot be placed in blocks. Use a function expression or move the statement to the top of the outer function.",rn);var e=q();return h(rn,Wt),c(e,"unused"),wt(e),"("===Wt.id&&Wt.line===rn.line&&s("Function statements are not invocable. Wrap the whole function invocation in parens."),this}),U("function",function(){var e=F();return e?h(rn,Wt):v(rn,Wt),wt(e),Ct["(loopage)"]&&r("Don't make functions within a loop."),this}),E("if",function(){var e=Wt;return f("("),v(this,e),b(),p(20),"="===Wt.id&&(r("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),b(Qt,rn),R(!0),"else"===Wt.id&&(v(rn,Wt),f("else"),"if"===Wt.id||"switch"===Wt.id?B(!0):R(!0)),this}),E("try",function(){var e,t,n;return Xt.adsafe&&r("ADsafe try violation.",this),R(!1),"catch"===Wt.id&&(f("catch"),v(rn,Wt),f("("),n=Kt,Kt=Object.create(n),t=Wt.value,"(identifier)"!==Wt.type?r("Expected an identifier and instead saw '{a}'.",Wt,t):c(t,"exception"),f(),f(")"),R(!1),e=!0,Kt=n),"finally"===Wt.id?(f("finally"),void R(!1)):(e||s("Expected '{a}' and instead saw '{b}'.",Wt,"catch",Wt.value),this)}),E("while",function(){var e=Wt;return Ct["(breakage)"]+=1,Ct["(loopage)"]+=1,f("("),v(this,e),b(),p(20),"="===Wt.id&&(r("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),b(Qt,rn),R(!0),Ct["(breakage)"]-=1,Ct["(loopage)"]-=1,this}).labelled=!0,D("with"),E("switch",function(){var e=Wt,t=!1;for(Ct["(breakage)"]+=1,f("("),v(this,e),b(),this.condition=p(20),f(")",e),b(Qt,rn),v(rn,Wt),e=Wt,f("{"),v(rn,Wt),Jt+=Xt.indent,this.cases=[];;)switch(Wt.id){case"case":switch(Ct["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:r("Expected a 'break' statement before 'case'.",rn)}m(-Xt.indent),f("case"),this.cases.push(p(20)),t=!0,f(":"),Ct["(verb)"]="case";break;case"default":switch(Ct["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:r("Expected a 'break' statement before 'default'.",rn)}m(-Xt.indent),f("default"),t=!0,f(":");break;case"}":return Jt-=Xt.indent,m(),f("}",e),(1===this.cases.length||"true"===this.condition.id||"false"===this.condition.id)&&r("This 'switch' should be an 'if'.",this),Ct["(breakage)"]-=1,void(Ct["(verb)"]=void 0);case"(end)":return void s("Missing '{a}'.",Wt,"}");default:if(t)switch(rn.id){case",":return void s("Each value should have its own case label.");case":":P();break;default:s("Missing ':' on a case clause.",rn)}else s("Expected '{a}' and instead saw '{b}'.",Wt,"case",Wt.value)}}).labelled=!0,A("debugger",function(){return Xt.debug||r("All 'debugger' statements should be removed."),this}).exps=!0,function(){var e=A("do",function(){Ct["(breakage)"]+=1,Ct["(loopage)"]+=1,this.first=R(!0),f("while");var e=Wt;return v(rn,e),f("("),b(),p(20),"="===Wt.id&&(r("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),b(Qt,rn),Ct["(breakage)"]-=1,Ct["(loopage)"]-=1,this});e.labelled=!0,e.exps=!0}(),E("for",function(){var e,t=Xt.forin,n=Wt;if(Ct["(breakage)"]+=1,Ct["(loopage)"]+=1,f("("),v(this,n),b(),"in"===u("var"===Wt.id?1:0).id){if("var"===Wt.id)f("var"),xt(!0);else{switch(Ct[Wt.value]){case"unused":Ct[Wt.value]="var";break;case"var":break;default:r("Bad for in variable '{a}'.",Wt,Wt.value)}f()}return f("in"),p(20),f(")",n),e=R(!0),!t&&(e.length>1||"object"!=typeof e[0]||"if"!==e[0].value)&&r("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this),Ct["(breakage)"]-=1,Ct["(loopage)"]-=1,this}if(";"!==Wt.id)if("var"===Wt.id)f("var"),xt();else for(;p(0,"for"),","===Wt.id;)w();if(y(rn),f(";"),";"!==Wt.id&&(p(20),"="===Wt.id&&(r("Expected a conditional expression and instead saw an assignment."),f("="),p(20))),y(rn),f(";"),";"===Wt.id&&s("Expected '{a}' and instead saw '{b}'.",Wt,")",";"),")"!==Wt.id)for(;p(0,"for"),","===Wt.id;)w();return f(")",n),b(Qt,rn),R(!0),Ct["(breakage)"]-=1,Ct["(loopage)"]-=1,this}).labelled=!0,A("break",function(){var e=Wt.value;return 0===Ct["(breakage)"]&&r("Unexpected '{a}'.",Wt,this.value),y(this),";"!==Wt.id&&rn.line===Wt.line&&("label"!==Ct[e]?r("'{a}' is not a statement label.",Wt,e):Kt[e]!==Ct&&r("'{a}' is out of scope.",Wt,e),this.first=Wt,f()),z("break"),this}).exps=!0,A("continue",function(){var e=Wt.value;return 0===Ct["(breakage)"]&&r("Unexpected '{a}'.",Wt,this.value),y(this),";"!==Wt.id?rn.line===Wt.line&&("label"!==Ct[e]?r("'{a}' is not a statement label.",Wt,e):Kt[e]!==Ct&&r("'{a}' is out of scope.",Wt,e),this.first=Wt,f()):Ct["(loopage)"]||r("Unexpected '{a}'.",Wt,this.value),z("continue"),this}).exps=!0,A("return",function(){return y(this),"(regexp)"===Wt.id&&r("Wrap the /regexp/ literal in parens to disambiguate the slash operator."),";"===Wt.id||Wt.reach||(v(rn,Wt),this.first=p(20)),z("return"),this}).exps=!0,A("throw",function(){return y(this),v(rn,Wt),this.first=p(20),z("throw"),this}).exps=!0,D("void"),D("class"),D("const"),D("enum"),D("export"),D("extends"),D("import"),D("super"),D("let"),D("yield"),D("implements"),D("interface"),D("package"),D("private"),D("protected"),D("public"),D("static");var Hn=function(e,t){var n,i;if(JSLINT.errors=[],Gt=Object.create(En),t){if(n=t.predef,n instanceof Array)for(i=0;i<n.length;i+=1)Gt[n[i]]=!0;t.adsafe&&(t.safe=!0),t.safe&&(t.browser=!1,t.css=!1,t.debug=!1,t.devel=!1,t.eqeqeq=!0,t.evil=!1,t.forin=!1,t.nomen=!0,t.on=!1,t.rhino=!1,t.safe=!0,t.windows=!1,t.strict=!0,t.sub=!1,t.undef=!0,t.widget=!1,Gt.Date=null,Gt.eval=null,Gt.Function=null,Gt.Object=null,Gt.ADSAFE=!1,Gt.lib=!1),Xt=t}else Xt={};if(Xt.indent=Xt.indent||4,Xt.maxerr=Xt.maxerr||50,St="",Ut=!1,jt=!1,Ot={},Xt.approved)for(i=0;i<Xt.approved.length;i+=1)Ot[Xt.approved[i]]=Xt.approved[i];else Ot.test="test";for(an="",i=0;i<Xt.indent;i+=1)an+=" ";Jt=1,Ft=Object.create(Gt),Kt=Ft,Ct={"(global)":!0,"(name)":"(global)","(scope)":Kt,"(breakage)":0,"(loopage)":0},Lt=[Ct],qt={},on=[],en=!1,ln=!1,tn=null,Ht={},$t=null,zt={},Bt=!1,Zt=[],Pt=!1,sn=0,Zn.init(e),Yt=!0,nn=!1,Qt=rn=Wt=Un["(begin)"],a();try{if(f(),"<"===Wt.value.charAt(0))gt(),Xt.adsafe&&!jt&&r("ADsafe violation: Missing ADSAFE.go.",this);else switch(Wt.id){case"{":case"[":Xt.laxbreak=!0,Pt=!0,kt();break;case"@":case"*":case"#":case".":case":":ln="style",f(),"@"===rn.id&&Wt.identifier&&"charset"===Wt.value&&1===rn.line&&1===rn.from||s('A css file should begin with @charset "UTF-8";'),f(),"(string)"!==Wt.type&&"UTF-8"!==Wt.value&&s('A css file should begin with @charset "UTF-8";'),f(),f(";"),ft();break;default:Xt.adsafe&&Xt.fragment&&s("Expected '{a}' and instead saw '{b}'.",Wt,"<div>",Wt.value),P("lib")}f("(end)")}catch(o){o&&JSLINT.errors.push({reason:o.message,line:o.line||Wt.line,character:o.character||Wt.from},null)}return 0===JSLINT.errors.length};return Hn.data=function(){var e,n,a,i,r,o,s,l={functions:[]},c=[],d=[],u=[];Hn.errors.length&&(l.errors=Hn.errors),Pt&&(l.json=!0);for(o in zt)t(zt,o)&&c.push({name:o,line:zt[o]});for(c.length>0&&(l.implieds=c),on.length>0&&(l.urls=on),n=Et(Kt),n.length>0&&(l.globals=n),i=1;i<Lt.length;i+=1){for(a=Lt[i],e={},r=0;r<yn.length;r+=1)e[yn[r]]=[];for(o in a)t(a,o)&&"("!==o.charAt(0)&&(s=a[o],At(e[s])&&(e[s].push(o),"unused"===s&&u.push({name:o,line:a["(line)"],"function":a["(name)"]})));for(r=0;r<yn.length;r+=1)0===e[yn[r]].length&&delete e[yn[r]];e.name=a["(name)"],e.param=a["(params)"],e.line=a["(line)"],e.last=a["(last)"],l.functions.push(e)}u.length>0&&(l.unused=u),d=[];for(o in Ht)if("number"==typeof Ht[o]){l.member=Ht;break}return l},Hn.report=function(e){function t(e,t){var n,a,i;if(t){for(h.push("<div><i>"+e+"</i> "),t=t.sort(),a=0;a<t.length;a+=1)t[a]!==i&&(i=t[a],h.push((n?", ":"")+i),n=!0);h.push("</div>")}}var n,a,i,r,o,s,l,c,d,u=Hn.data(),f=[],p="",h=[];if(u.errors||u.implieds||u.unused){if(i=!0,h.push("<div id=errors><i>Error:</i>"),u.errors)for(o=0;o<u.errors.length;o+=1)n=u.errors[o],n&&(a=n.evidence||"",h.push("<p>Problem"+(isFinite(n.line)?" at line "+n.line+" character "+n.character:"")+": "+n.reason.entityify()+"</p><p class=evidence>"+(a&&(a.length>80?a.slice(0,77)+"...":a).entityify())+"</p>"));if(u.implieds){for(d=[],o=0;o<u.implieds.length;o+=1)d[o]="<code>"+u.implieds[o].name+"</code>&nbsp;<i>"+u.implieds[o].line+"</i>";h.push("<p><i>Implied global:</i> "+d.join(", ")+"</p>")}if(u.unused){for(d=[],o=0;o<u.unused.length;o+=1)d[o]="<code><u>"+u.unused[o].name+"</u></code>&nbsp;<i>"+u.unused[o].line+"</i> <code>"+u.unused[o]["function"]+"</code>";h.push("<p><i>Unused variable:</i> "+d.join(", ")+"</p>")}u.json&&h.push("<p>JSON: bad.</p>"),h.push("</div>")}if(!e){for(h.push("<br><div id=functions>"),u.urls&&t("URLs<br>",u.urls,"<br>"),h.push("style"===ln?"<p>CSS.</p>":u.json&&!i?"<p>JSON: good.</p>":u.globals?"<div><i>Global</i> "+u.globals.sort().join(", ")+"</div>":"<div><i>No new global variables introduced.</i></div>"),o=0;o<u.functions.length;o+=1)r=u.functions[o],h.push("<br><div class=function><i>"+r.line+"-"+r.last+"</i> "+(r.name||"")+"("+(r.param?r.param.join(", "):"")+")</div>"),t("<big><b>Unused</b></big>",r.unused),t("Closure",r.closure),t("Variable",r["var"]),t("Exception",r.exception),t("Outer",r.outer),t("Global",r.global),t("Label",r.label);if(u.member){if(f=Et(u.member),f.length){for(f=f.sort(),p="<br><pre id=members>/*members ",l=10,o=0;o<f.length;o+=1)s=f[o],c=s.name(),l+c.length>72&&(h.push(p+"<br>"),p="    ",l=1),l+=c.length+2,1===u.member[s]&&(c="<i>"+c+"</i>"),o<f.length-1&&(c+=", "),p+=c;h.push(p+"<br>*/</pre>")}h.push("</div>")}}return h.join("")},Hn.jslint=Hn,Hn.edition="2010-04-06",Hn}();define("orion/jslintworker",function(){}),define("orion/objects",[],function(){function e(e){for(var t=Object.prototype.hasOwnProperty,n=1,a=arguments.length;a>n;n++){var i=arguments[n];for(var r in i)t.call(i,r)&&(e[r]=i[r])}return e}return{clone:function(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Object.create(Object.getPrototypeOf(t));return e(n,t),n},mixin:e,toArray:function(e){return Array.isArray(e)?e:[e]}}}),define("plugins/jslintPlugin",["orion/plugin","orion/jslintworker","orion/objects"],function(e,t,n){function a(e){return JSLINT(e,s),JSLINT.data()}function i(e){var t=[["Expected '{'","Statement body should be inside '{ }' braces."],"Missing semicolon","Extra comma","Missing property name","Unmatched "," and instead saw"," is not defined","Unclosed string","Stopping, unable to continue"],n=e.description;if(-1===n.indexOf("Dangerous comment")){for(var a=0;a<t.length;a++){var i=t[a],r="string"==typeof i?i:i[0],o="string"==typeof i?null:i[1];-1!==n.indexOf(r)&&o&&(e.description=o)}return e}return null}function r(e,t){var n,r=a(t),o=[];if(r.errors){var s=r.errors;for(n=0;n<s.length;n++){var l=s[n];if(l){var c=l.character-1,d=c+1;if(l.evidence){var u=l.evidence.substring(c).search(/.\b/);u>-1&&(d+=u)}l.description=l.reason,l.start=l.character,l.end=d,l=i(l),l&&o.push(l)}}}if(r.functions){var f,p=r.functions;for(n=0;n<p.length;n++){var h=p[n],b=h.unused;if(b&&0!==b.length){f||(f=t.split(/\r?\n/));for(var v='"'===h.name[0],g=v?h.name.substring(1,h.name.length-1):h.name,m=f[h.line-1],y=0;y<b.length;y++){var w=m.indexOf(g),x=v?m.indexOf("function",w):m.lastIndexOf("function",w);-1!==x&&o.push({reason:"Function declares unused variable '"+b[y]+"'.",line:h.line,character:x+1,end:x+"function".length,severity:"warning"})}}}}return{problems:o}}var o={bitwise:!1,eqeqeq:!0,es5:!0,immed:!0,indent:1,maxerr:300,newcap:!0,nomen:!1,onevar:!1,plusplus:!1,regexp:!0,strict:!1,undef:!0,white:!1},s=o,l={updated:function(e){if(e&&"string"==typeof e.options){var t=e.options;if(!/^\s*$/.test(t)){var a={},i=!1;t.split(/,/).forEach(function(e){var t=/\s*(\w+)\s*:\s*(\w+)\s*/.exec(e);if(null===t)console.log("JSLint ignoring bad option: "+e);else{var n=t[1],r=t[2];a[n]=r,i=!0}}),s={},n.mixin(s,o,a),i&&console.log("JSLint using user-provided options: {"+Object.keys(a).map(function(e){return e+":"+a[e]}).join(",")+"}")}}},computeProblems:function(e,t){return e.getText().then(r.bind(null,t))}},c={name:"Orion JSLint Service",version:"1.0",description:"This plugin provides JSLint functionality for validating JSON."},d=new e(c);d.registerService(["orion.edit.validator"],l,{contentType:["application/json"]}),d.connect()});