!function(e,t){"function"==typeof define&&define.amd?define("orion/Deferred",t):"object"==typeof exports?module.exports=t():(e.orion=e.orion||{},e.orion.Deferred=t())}(this,function(){function e(){for(var e;e=o.shift();)e();s=!1}function t(e){o.push(e),s||(s=!0,a())}function n(e){return function(t){e(t)}}function r(e,t,r){try{var i=e(t),o=i&&("object"==typeof i||"function"==typeof i)&&i.then;if("function"==typeof o)if(i===r.promise)r.reject(new TypeError);else{var s=i.cancel;"function"==typeof s?r._parentCancel=s.bind(i):delete r._parentCancel,o.call(i,n(r.resolve),n(r.reject),n(r.progress))}else r.resolve(i)}catch(a){r.reject(a)}}function i(){function e(){for(var e;e=c.shift();){var t=e.deferred,n="fulfilled"===l?"resolve":"reject",i=e[n];"function"==typeof i?r(i,a,t):t[n](a)}}function n(n){delete u._parentCancel,l="rejected",a=n,c.length&&t(e)}function o(r){function s(e){return function(t){l&&"assumed"!==l||e(t)}}delete u._parentCancel;try{var p=r&&("object"==typeof r||"function"==typeof r)&&r.then;if("function"==typeof p)if(r===u)n(new TypeError);else{l="assumed";var d=r&&r.cancel;if("function"!=typeof d){var h=new i;r=h.promise;try{p(h.resolve,h.reject,h.progress)}catch(f){h.reject(f)}d=r.cancel,p=r.then}a=r,p.call(r,s(o),s(n)),u._parentCancel=d.bind(r)}else l="fulfilled",a=r,c.length&&t(e)}catch(m){s(n)(m)}}function s(){var e=u._parentCancel;if(e)delete u._parentCancel,e();else if(!l){var t=new Error("Cancel");t.name="Cancel",n(t)}}var a,l,c=[],u=this;this.resolve=function(e){return l||o(e),u},this.reject=function(e){return l||n(e),u},this.progress=function(e){return l||c.forEach(function(t){if(t.progress)try{t.progress(e)}catch(n){}}),u.promise},this.cancel=function(){return u._parentCancel?setTimeout(s,0):s(),u},this.then=function(n,r,o){var s=new i;return s._parentCancel=u.promise.cancel,c.push({resolve:n,reject:r,progress:o,deferred:s}),("fulfilled"===l||"rejected"===l)&&t(e),s.promise},this.promise={then:u.then,cancel:u.cancel}}var o=[],s=!1,a=function(){if("undefined"!=typeof process&&"function"==typeof process.nextTick){var t=process.nextTick;return function(){t(e)}}if("function"==typeof MutationObserver){var n=document.createElement("div"),r=new MutationObserver(e);return r.observe(n,{attributes:!0}),function(){n.setAttribute("class","_tick")}}return function(){setTimeout(e,0)}}();return i.all=function(e,t){function n(e,t){a||(s[e]=t,0===--o&&l.resolve(s))}function r(e,r){if(!a){if(t)try{return void n(e,t(r))}catch(i){r=i}l.reject(r)}}var o=e.length,s=[],a=!1,l=new i;return l.then(void 0,function(){a=!0,e.forEach(function(e){e.cancel&&e.cancel()})}),0===o?l.resolve(s):e.forEach(function(e,t){e.then(n.bind(void 0,t),r.bind(void 0,t))}),l.promise},i.when=function(e,t,n,r){var o,s;return e&&"function"==typeof e.then?o=e:(s=new i,s.resolve(e),o=s.promise),o.then(t,n,r)},i}),function(e,t){"function"==typeof define&&define.amd?define("orion/plugin",["orion/Deferred"],t):"object"==typeof exports?module.exports=t(require("orion/Deferred")):(e.orion=e.orion||{},e.orion.PluginProvider=t(e.orion.Deferred))}(this,function(e){function t(e,t){this.__objectId=e,this.__methods=t}function n(n){function r(e){_&&("undefined"==typeof ArrayBuffer&&(e=JSON.stringify(e)),_===self?_.postMessage(e):_.postMessage(e,"*"))}function i(){var e=[];return Object.keys(y).forEach(function(t){var n=y[t];e.push({serviceId:t,names:n.names,methods:n.methods,properties:n.properties})}),{headers:p||{},services:e}}function o(e,t){if(t&&t instanceof XMLHttpRequest){var n,r;try{n=t.status,r=t.statusText}catch(i){n=0,r=""}return{status:n||0,statusText:r}}return t}function s(e){var t=e?JSON.parse(JSON.stringify(e,o)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function a(n){if(!_)return(new e).reject(new Error("plugin not connected"));n.id=String(h++);var r=new e;v[n.id]=r,r.then(null,function(e){d&&e instanceof Error&&"Cancel"===e.name&&w({requestId:n.id,method:"cancel",params:e.message?[e.message]:[]})});var i=Object.prototype.toString;return n.params.forEach(function(e,o){if("[object Object]"===i.call(e)&&!(e instanceof t)){var s,a;for(s in e)"[object Function]"===i.call(e[s])&&(a=a||[],a.push(s));if(a){var l=f++;b[l]=e;var c=function(){delete b[l]};r.then(c,c),n.params[o]=new t(l,a)}}}),w(n),r.promise}function l(e,t){e||0===e?w({id:e,result:null,error:t}):console.log(t)}function c(e,t,n,r){r.forEach(function(e,t){if(e&&"undefined"!=typeof e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return a({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)})}}),r[t]=n}});var i="undefined"==typeof e?null:{id:e,result:null,error:null};try{var o=n.apply(t,r);if(!i)return;o&&"function"==typeof o.then?(g[e]=o,o.then(function(t){delete g[e],i.result=t,w(i)},function(t){g[e]&&(delete g[e],i.error=s(t),w(i))},function(){w({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)})})):(i.result=o,w(i))}catch(l){i&&(i.error=s(l),w(i))}}function u(e){if(e.source===_||"undefined"==typeof window){var t="string"!=typeof e.data?e.data:JSON.parse(e.data);try{if(t.method){var n=t.method,r=t.params||[];if("serviceId"in t){var i=y[t.serviceId];i||l(t.id,"service not found"),i=i.implementation,n in i?c(t.id,i,i[n],r):l(t.id,"method not found")}else if("objectId"in t){var o=b[t.objectId];o||l(t.id,"object not found"),!n in o?c(t.id,o,o[n],r):l(t.id,"method not found")}else if("requestId"in t){var s=g[t.requestId];s&&"cancel"===n&&s.cancel&&s.cancel.apply(s,r)}else{if(!("responseId"in t))throw new Error("Bad method: "+t.method);var a=v[t.responseId];a&&"progress"===n&&a.progress&&a.progress.apply(a,r)}}else{var u=v[String(t.id)];delete v[String(t.id)],t.error?u.reject(t.error):u.resolve(t.result)}}catch(p){console.log("Plugin._messageHandler "+p)}}}var p=n,d=!1,h=0,f=0,m=0,g={},v={},b={},y={},_=null;"undefined"==typeof window?_=self:window!==window.parent?_=window.parent:null!==window.opener&&(_=window.opener);var w=r;r({method:"loading"}),this.updateHeaders=function(e){if(d)throw new Error("Cannot update headers. Plugin Provider is connected");p=e},this.registerService=function(e,t,n){if(d)throw new Error("Cannot register service. Plugin Provider is connected");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var r=null,i=[];for(r in t)"function"==typeof t[r]&&i.push(r);y[m++]={names:e,methods:i,implementation:t,properties:n||{},listeners:{}}},this.registerServiceProvider=this.registerService,this.connect=function(e,t){if(d)return void(e&&e());if(!_)return void(t&&t("No valid plugin target"));addEventListener("message",u,!1);var n={method:"plugin",params:[i()]};r(n),d=!0,e&&e()},this.disconnect=function(){d&&(removeEventListener("message",u),_=null,d=!1)}}return n}),define("orion/EventTarget",[],function(){function e(){this._namedListeners={}}return e.prototype={dispatchEvent:function(e){if(!e.type)throw new Error("unspecified type");var t=this._namedListeners[e.type];return t&&t.forEach(function(t){try{"function"==typeof t?t(e):t.handleEvent(e)}catch(n){"undefined"!=typeof console&&console.log(n)}}),!e.defaultPrevented},addEventListener:function(e,t){("function"==typeof t||t.handleEvent)&&(this._namedListeners[e]=this._namedListeners[e]||[],this._namedListeners[e].push(t))},removeEventListener:function(e,t){var n=this._namedListeners[e];if(n)for(var r=0;r<n.length;r++)if(n[r]===t){1===n.length?delete this._namedListeners[e]:n.splice(r,1);break}}},e.prototype.constructor=e,e.attach=function(t){var n=new e;t.dispatchEvent=n.dispatchEvent.bind(n),t.addEventListener=n.addEventListener.bind(n),t.removeEventListener=n.removeEventListener.bind(n)},e}),define("orion/serviceregistry",["orion/Deferred","orion/EventTarget"],function(e,t){function n(e,t,n){this._properties=n||{},this._properties["service.id"]=e,this._properties.objectClass=t,this._properties["service.names"]=t}function r(e,t,n){this._serviceId=e,this._serviceReference=t,this._internalRegistry=n}function i(t,n){function r(r){return function(){var i;try{if(!n())throw new Error("Service was unregistered");var o=t[r].apply(t,Array.prototype.slice.call(arguments));if(o&&"function"==typeof o.then)return o;i=new e,i.resolve(o)}catch(s){i=new e,i.reject(s)}return i.promise}}var i;for(i in t)"function"==typeof t[i]&&(this[i]=r(i))}function o(e,t){this.type=e,this.serviceReference=t}function s(){this._entries=[],this._namedReferences={},this._serviceEventTarget=new t;var e=this;this._internalRegistry={isRegistered:function(t){return e._entries[t]?!0:!1},unregisterService:function(t){var n=e._entries[t];if(!n)throw new Error("Service has already been unregistered: "+t);var r=n.reference;e._serviceEventTarget.dispatchEvent(new o("unregistering",r)),e._entries[t]=null;var i=r.getProperty("objectClass");i.forEach(function(t){for(var n=e._namedReferences[t],i=0;i<n.length;i++)if(n[i]===r){1===n.length?delete e._namedReferences[t]:n.splice(i,1);break}})},modifyService:function(t){var n=e._entries[t];if(!n)throw new Error("Service not found while trying to send modified event: "+t);var r=n.reference;e._serviceEventTarget.dispatchEvent(new o("modified",r))}}}return n.prototype={getPropertyKeys:function(){var e,t=[];for(e in this._properties)this._properties.hasOwnProperty(e)&&t.push(e);return t},getProperty:function(e){return this._properties[e]}},n.prototype.constructor=n,r.prototype={unregister:function(){this._internalRegistry.unregisterService(this._serviceId)},getReference:function(){if(!this._internalRegistry.isRegistered(this._serviceId))throw new Error("Service has already been unregistered: "+this._serviceId);return this._serviceReference},setProperties:function(e){var t=this._serviceReference._properties;this._serviceReference._properties=e||{},e["service.id"]=this._serviceId,e.objectClass=t.objectClass,e["service.names"]=t["service.names"],this._internalRegistry.modifyService(this._serviceId)}},r.prototype.constructor=r,s.prototype={getService:function(e){var t;if("string"==typeof e){var n=this._namedReferences[e];n&&n.some(function(e){return t=this._entries[e.getProperty("service.id")].service,!!t},this)}else{var r=this._entries[e.getProperty("service.id")];r&&(t=r.service)}return t||null},getServiceReferences:function(e){if(e)return this._namedReferences[e]?this._namedReferences[e]:[];var t=[];return this._entries.forEach(function(e){e&&t.push(e.reference)}),t},registerService:function(e,t,s){if("undefined"==typeof t||null===t)throw new Error("invalid service");"string"==typeof e?e=[e]:Array.isArray(e)||(e=[]);var a=this._entries.length,l=new n(a,e,s),c=this._namedReferences;e.forEach(function(e){c[e]=c[e]||[],c[e].push(l)});var u=new i(t,this._internalRegistry.isRegistered.bind(null,a));this._entries.push({reference:l,service:u});var p=this._internalRegistry;return this._serviceEventTarget.dispatchEvent(new o("registered",l)),new r(a,l,p)},addEventListener:function(e,t){this._serviceEventTarget.addEventListener(e,t)},removeEventListener:function(e,t){this._serviceEventTarget.removeEventListener(e,t)}},s.prototype.constructor=s,{ServiceRegistry:s}}),define("orion/xsrfUtils",[],function(){function e(){var e,t,n,i=document.cookie.split(";");for(e=0;e<i.length;e++)if(t=i[e].substr(0,i[e].indexOf("=")).trim(),n=i[e].substr(i[e].indexOf("=")+1).trim(),t==r)return n}function t(t){var n=e();n&&(t[r]=n)}function n(t){var n=e();n&&t.setRequestHeader(r,n)}var r="x-csrf-token";return{XSRF_TOKEN:r,getCSRFToken:e,setNonceHeader:t,addCSRFNonce:n}}),function(){function e(e){if("string"!=typeof e)throw new TypeError}function t(e){return e?e.split("&"):[]}function n(e){return 0===e.length?"":e.join("&")}function r(e){var t=/([^=]*)(?:=?)(.*)/.exec(e),n=t[1]?decodeURIComponent(t[1]):"",r=t[2]?decodeURIComponent(t[2]):"";return[n,r]}function i(e){var t=encodeURIComponent(e[0]);return e[1]&&(t+="="+encodeURIComponent(e[1])),t}function o(e,n){var i="",o=[],s=0;return{next:function(){if(i!==e.query&&(i=e.query,o=t(i)),s<o.length){var a=r(o[s++]);switch(n){case"keys":return a[0];case"values":return a[1];case"keys+values":return[a[0],a[1]];default:throw new TypeError}}throw P}}}function s(e){Object.defineProperty(this,"_url",{get:function(){return e._url}})}function a(e,t){if(!e.scheme&&t&&(e.scheme=t.scheme,!e.host&&t.host&&(e.userinfo=t.userinfo,e.host=t.host,e.port=t.port,e.pathRelative=!0)),e.pathRelative)if(e.path){if("/"!==e.path[0]){var n=/^(.*\/)[^\/]*$/.exec(t.path)[1]||"/";e.path=n+e.path}}else e.path=t.path}function l(e){return e.toLowerCase()}function c(e){return e?/[1-9]\d*$/.exec(e)[0]:""}function u(e){var t=[];return e.split("/").forEach(function(e){".."===e?t.pop():"."!==e&&t.push(e)}),t.join("/")}function p(e){e.scheme&&(e.scheme=l(e.scheme)),e.port&&(e.port=c(e.port)),e.host&&e.path&&(e.path=u(e.path))}function d(e){return e.replace(/\s/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function h(e,t){if("string"!=typeof e)throw new TypeError;e=d(e);var n=b.exec(e);if(!n)return null;var r={};if(r.scheme=n[1]||"",r.scheme&&!w.test(r.scheme))return null;var i=n[2];if(i){var o=y.exec(i);if(r.userinfo=o[1],r.host=o[2],r.port=o[3],r.port&&!k.test(r.port))return null}return r.path=n[3],r.query=n[4],r.fragment=n[5],a(r,t),p(r),r}function f(e){var t=e.scheme?e.scheme+":":"";return e.host&&(t+="//",e.userinfo&&(t+=e.userinfo+"@"),t+=e.host,e.port&&(t+=":"+e.port)),t+=e.path,e.query&&(t+="?"+e.query),e.fragment&&(t+="#"+e.fragment),t}function m(e,t){var n;if(t){if(t=t.href||t,n=h(t),!n||!n.scheme)throw new SyntaxError;Object.defineProperty(this,"_baseURL",{value:n})}var r=h(e,n);if(!r)throw new SyntaxError;Object.defineProperty(this,"_input",{value:e,writable:!0}),Object.defineProperty(this,"_url",{value:r,writable:!0});var i=new s(this);Object.defineProperty(this,"query",{get:function(){return this._url?i:null},enumerable:!0})}try{var g;if("function"==typeof window.URL&&0!==window.URL.length&&"http:"===(g=new window.URL("http://www.w3.org?q")).protocol&&g.query)return}catch(v){}var b=/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?$/,y=/^(?:(.*)@)?(\[[^\]]*\]|[^:]*)(?::(.*))?$/,_=/^\S*$/,w=/^([a-zA-Z](?:[a-zA-Z0-9+-.])*)$/,k=/^\d*$/,T=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)$/,x=/^(\[[^\]\/?#\s]*\]|[^:\/?#\s]*)(?::(\d*))?$/,S=/^([^?#\s]*)$/,E=/^([^\s]*)$/,C=_,L=/([^:]*):?(.*)/,P="undefined"!=typeof StopIteration?StopIteration:new Error("Stop Iteration"),R={"ftp:":"21","gopher:":"70","http:":"80","https:":"443","ws:":"80","wss:":"443"};Object.defineProperties(s.prototype,{get:{value:function(n){e(n);var i,o=t(this._url.query);return o.some(function(e){var t=r(e);return t[0]===n?(i=t[1],!0):void 0}),i},enumerable:!0},set:{value:function(o,s){e(o),e(s);var a=t(this._url.query),l=a.some(function(e,t){var n=r(e);return n[0]===o?(n[1]=s,a[t]=i(n),!0):void 0});l||a.push(i([o,s])),this._url.query=n(a)},enumerable:!0},has:{value:function(n){e(n);var i=t(this._url.query);return i.some(function(e){var t=r(e);return t[0]===n?!0:void 0})},enumerable:!0},"delete":{value:function(i){e(i);var o=t(this._url.query),s=o.filter(function(e){var t=r(e);return t[0]!==i});return s.length!==o.length?(this._url.query=n(s),!0):!1},enumerable:!0},clear:{value:function(){this._url.query=""},enumerable:!0},forEach:{value:function(e,t){if("function"!=typeof e)throw new TypeError;var n=o(this._url,"keys+values");try{for(;;){var r=n.next();e.call(t,r[1],r[0],this)}}catch(i){if(i!==P)throw i}},enumerable:!0},keys:{value:function(){return o(this._url,"keys")},enumerable:!0},values:{value:function(){return o(this._url,"values")},enumerable:!0},items:{value:function(){return o(this._url,"keys+values")}},size:{get:function(){return t(this._url.query).length},enumerable:!0},getAll:{value:function(n){e(n);var i=[],o=t(this._url.query);return o.forEach(function(e){var t=r(e);t[0]===n&&i.push(t[1])}),i},enumerable:!0},append:{value:function(r,o){e(r),e(o);var s=t(this._url.query);s.push(i([r,o])),this._url.query=n(s)},enumerable:!0}}),Object.defineProperties(m.prototype,{href:{get:function(){return this._url?f(this._url):this._input},set:function(t){e(t),this._input=t,this._url=h(this._input,this._baseURL)},enumerable:!0},origin:{get:function(){return this._url&&this._url.host?this.protocol+"//"+this.host:""},enumerable:!0},protocol:{get:function(){return this._url?this._url.scheme+":":":"},set:function(t){if(e(t),this._url){var n=":"===t.slice(-1)?t.substring(0,t.length-1):t;(""===n||w.test(n))&&(this._url.scheme=l(n))}},enumerable:!0},_userinfo:{get:function(){return this._url?this._url.userinfo:""},set:function(t){e(t),this._url&&(this._url.userinfo=t)}},username:{get:function(){if(!this._url)return"";var e=L.exec(this._userinfo),t=decodeURIComponent(e[1]||"");return t},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),r=[encodeURIComponent(t||"")];n[2]&&r.push(n[2]),this._userinfo=r.join(":")}},enumerable:!0},password:{get:function(){if(!this._url)return"";var e=L.exec(this._userinfo),t=decodeURIComponent(e[2]||"");return t},set:function(t){if(e(t),this._url){var n=L.exec(this._userinfo),r=[n[1]||""];t&&r.push(encodeURIComponent(t)),this._userinfo=r.join(":")}},enumerable:!0},host:{get:function(){var e="";return this._url&&this._url.host&&(e+=this._url.host,this._url.port&&(e+=":"+this._url.port)),e},set:function(t){if(e(t),this._url){var n=x.exec(t);n&&(this._url.host=n[1],this._url.port=c(n[2]))}},enumerable:!0},hostname:{get:function(){return this._url?this._url.host:""},set:function(t){if(e(t),this._url){var n=T.exec(t);n&&(this._url.host=t)}},enumerable:!0},port:{get:function(){var e=this._url?this._url.port||"":"";return e&&e===R[this.protocol]&&(e=""),e},set:function(t){if(e(t),this._url){var n=k.exec(t);n&&(this._url.port=c(t))}},enumerable:!0},pathname:{get:function(){return this._url?this._url.path:""},set:function(t){if(e(t),this._url){var n=S.exec(t);n&&(this._url.host&&t&&"/"!==t[0]&&(t="/"+t),this._url.path=t?u(t):"")}},enumerable:!0},search:{get:function(){return this._url&&this._url.query?"?"+this._url.query:""},set:function(t){if(e(t),this._url){t&&"?"===t[0]&&(t=t.substring(1));var n=E.exec(t);n&&(this._url.query=t)}},enumerable:!0},hash:{get:function(){return this._url&&this._url.fragment?"#"+this._url.fragment:""},set:function(t){if(e(t),this._url){t&&"#"===t[0]&&(t=t.substring(1));var n=C.exec(t);n&&(this._url.fragment=t)}},enumerable:!0}});var O=window.URL||window.webkitURL;O&&O.createObjectURL&&(Object.defineProperty(m,"createObjectURL",{value:O.createObjectURL.bind(O),enumerable:!1}),Object.defineProperty(m,"revokeObjectURL",{value:O.revokeObjectURL.bind(O),enumerable:!1})),window.URL=m}(),define("orion/URL-shim",function(){}),define("orion/xhr",["orion/Deferred","orion/xsrfUtils","orion/URL-shim"],function(e,t){function n(e,t,n,r){var i,o="undefined"!=typeof n.response?n.response:n.responseText,s="string"==typeof o?o:null;try{i=n.status}catch(a){i=0}var l={args:t,response:o,responseText:s,status:i,url:e,xhr:n};return"undefined"!=typeof r&&(l.error=r),l}function r(e){return new URL(location.href).origin===new URL(e,location.href).origin}function i(i,o,s){s=s||{};var a=arguments.length>3&&arguments[3]?arguments[3]:new XMLHttpRequest,l=new e,c=s.headers||{};r(o)&&t.setNonceHeader(c);var u,p=s.log||!1;"undefined"==typeof c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest"),"undefined"==typeof s.data||"POST"!==i&&"PUT"!==i||(u=s.data);var d=!1,h=!1;l.promise.then(void 0,function(e){d=!0,!h&&e instanceof Error&&"Cancel"===e.name&&a.abort()}),a.onabort=function(){if(h=!0,!d){var e=new Error("Cancel");e.name="Cancel",l.reject(e)}},a.onload=function(){var e=n(o,s,a);200<=a.status&&a.status<400?l.resolve(e):(l.reject(e),p&&"undefined"!=typeof console&&console.log(new Error(a.statusText)))},a.onerror=function(){var e=n(o,s,a);l.reject(e),p&&"undefined"!=typeof console&&console.log(new Error(a.statusText))},a.onprogress=function(e){e.xhr=a,l.progress(e)};try{if(a.open(i,o,!0),"string"==typeof s.responseType&&(a.responseType=s.responseType),"number"==typeof s.timeout)if("number"==typeof a.timeout)a.timeout=s.timeout,a.addEventListener("timeout",function(){l.reject(n(o,s,a,"Timeout exceeded"))});else{var f=setTimeout(function(){l.reject(n(o,s,a,"Timeout exceeded"))},s.timeout);l.promise.then(clearTimeout.bind(null,f),clearTimeout.bind(null,f))}Object.keys(c).forEach(function(e){a.setRequestHeader(e,c[e])}),a.send(u||null)}catch(m){l.reject(n(o,s,a,m))}return l.promise}return i}),define("orion/metrics",["orion/Deferred"],function(){function e(e,t,n,r){window[i]?window[i]("send","event",e,t,n,r):o&&o.push({command:"send",arg0:"event",arg1:e,arg2:t,arg3:n,arg4:r})}function t(e,t){window.performance&&window.performance.getEntriesByName&&window.performance.mark&&!window.performance.getEntriesByName(e).length&&(window.performance.mark(e),n("page",e,window.performance.now(),t))}function n(e,t,n,r){window[i]?window[i]("send","timing",e,t,Math.round(n),r):o&&o.push({command:"send",arg0:"timing",arg1:e,arg2:t,arg3:Math.round(n),arg4:r})}function r(e,t){window[i]?window[i]("set",e,t):o&&o.push({command:"set",arg0:e,arg1:t})}var i="OrionGA",o=[],s=function(e,t){var n=e.shift();return n?void(n.init?n.init().then(function(e){return e.tid?(function(e,t,n,r,i,o,s){e.GoogleAnalyticsObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,o=t.createElement(n),s=t.getElementsByTagName(n)[0],o.async=1,o.src=r,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js",i),t=t||{},e.siteSpeedSampleRate&&(t.siteSpeedSampleRate=e.siteSpeedSampleRate),window[i]("create",e.tid,t),window[i]("send","pageview"),o.forEach(function(e){window[i](e.command,e.arg0,e.arg1,e.arg2,e.arg3,e.arg4)}),void(o=null)):void(o=null)},function(){s(e,t)}):s(e,t)):void(o=null)},a=function(e,t){var n=e.getServiceReferences("orion.analytics.google"),r=[];n.forEach(function(t){r.push(e.getService(t))}),s(r,t)};return{init:s,initFromRegistry:a,logEvent:e,logPageLoadTiming:t,logTiming:n,setDimension:r}}),define("orion/preferences",["require","orion/Deferred","orion/xhr","orion/metrics"],function(e,t,n){function r(e,t,n){this._name=e,this._providers=t,this._changeCallback=n,this._flushPending=!1,this._cached=null,this._stores=[],this._pendingDeletes=[],this._dirty=[]}function i(e,t){return{get:function(n,r){if(0===t)return null;var i=localStorage.getItem(e+n);if(null===i)return null;var o=JSON.parse(i);return r||-1===t||o._expires&&o._expires>(new Date).getTime()?(delete o._expires,o):null},set:function(n,r){if(0!==t)if(-1!==t&&(r._expires=(new Date).getTime()+1e3*t),0===Object.keys(r).length)localStorage.removeItem(e+n);else{var i=JSON.stringify(r);localStorage.setItem(e+n,i),delete r._expires}},remove:function(t){localStorage.removeItem(e+t)}}}function o(e){this._currentPromises={},this._cache=new i("/orion/preferences/user",3600),this._service=null,this.available=function(){if(!this._service){var t=e.getServiceReferences("orion.core.preference.provider");t.length>0&&(this._service=e.getService(t[0]))}return!!this._service}}function s(e){this._location=e,this._currentPromise=null,this._cache=new i("/orion/preferences/default",3600)}function a(){this._cache=new i("/orion/preferences/local",-1)}function l(t,n){this._userProvider=new o(t),this._localProvider=new a,this._changeListeners=[],n=n||"defaults.pref",-1===n.indexOf("://")&&(n=e.toUrl(n)),this._defaultsProvider=new s(n),this._serviceRegistration=t.registerService("orion.core.preference",this)}return r.prototype={_flush:function(){for(var e=[],n=0;n<this._stores.length;++n){var r=this._stores[n];if(-1!==this._dirty.indexOf(r)&&e.push(this._providers[n].put(this._name,r)),this._pendingDeletes[n]&&this._pendingDeletes[n].length>0){for(var i=0;i<this._pendingDeletes[n].length;i++)e.push(this._providers[n].remove(this._name,this._pendingDeletes[n][i]));delete this._pendingDeletes[n]}}return this._dirty=[],t.all(e)},_scheduleFlush:function(e){e&&-1===this._dirty.indexOf(e)&&this._dirty.push(e),this._flushPending||(this._flushPending=!0,window.setTimeout(function(){this._flushPending&&(this._flushPending=!1,this._flush())}.bind(this),0))},_getCached:function(){if(!this._cached){this._cached={};for(var e=0;e<this._stores.length;++e){var t=this._stores[e];for(var n in t)t.hasOwnProperty(n)&&"undefined"==typeof this._cached[n]&&(this._cached[n]=t[n])}}return this._cached},keys:function(){return Object.keys(this._getCached())},get:function(e){var t=this._getCached();return t[e]},put:function(e,t){if(0!==this._stores.length){var n=this._stores[0];n[e]!==t&&(this.valueChanged(e,t),n[e]=t,this._cached=null,this._scheduleFlush(n))}},remove:function(e){for(var t=0;t<this._stores.length;++t){var n=this._stores[t];if(n.hasOwnProperty(e))return delete n[e],this._pendingDeletes[t]||(this._pendingDeletes[t]=[]),this._pendingDeletes[t].push(e),this._cached=null,this._scheduleFlush(),!0}return!1},clear:function(){for(var e=0;e<this._stores.length;++e)this._stores[e]={},this._scheduleFlush(this._stores[e]);this._cached=null},sync:function(e){if(this._flushPending)return this._flushPending=!1,this._flush();for(var n=this,r=[],i=0;i<this._providers.length;++i)r.push(this._providers[i].get(this._name,e).then(function(e){return function(t){n._stores[e]=t}}(i)));return t.all(r).then(function(){n._cached=null,n._getCached()})},flush:function(){this._flush()},valueChanged:function(e,t){var n=this._name+"/"+e;if("string"==typeof t)this._changeCallback(n,t);else{var r=this._stores[0];for(var i in t)if("pid"!==i&&(!r[e]||r[e][i]!==t[i])){var o=String(t[i]);this._changeCallback(n+"/"+i,o)}}}},o.prototype={get:function(e,n){if(this._currentPromises[e])return this._currentPromises[e];var r=new t,i=null;if(n?this._cache.remove(e):i=this._cache.get(e),null!==i)r.resolve(i);else{this._currentPromises[e]=r;var o=this;this._service.get(e).then(function(t){o._cache.set(e,t),delete o._currentPromises[e],r.resolve(t)},function(t){if(404===t.status){var n={};o._cache.set(e,n),delete o._currentPromises[e],r.resolve(n)}else delete o._currentPromises[e],r.resolve(o._cache.get(e,!0)||{})})}return r},put:function(e,t){return this._cache.set(e,t),this._service.put(e,t)},remove:function(e,t){var n=this._cache.get(e);return delete n[t],this._cache.set(e,n),this._service.remove(e,t)}},s.prototype={get:function(e,r){if(this._currentPromise)return this._currentPromise;var i=new t,o=null;if(r?this._cache.remove(e):o=this._cache.get(e),null!==o)i.resolve(o);else{this._currentPromise=i;var s=this;n("GET",this._location,{headers:{"Orion-Version":"1"},timeout:15e3}).then(function(t){var n=JSON.parse(t.response);s._cache.set(e,n[e]||{}),s._currentPromise=null,i.resolve(n[e]||{})},function(t){if(401===t.xhr.status||404===t.xhr.status)s._cache.set(e,{}),s._currentPromise=null,i.resolve({});else{s._currentPromise=null;var n=s._cache.get(e,!0);i.resolve(null!==n?n[e]||{}:{})}})}return i},put:function(){var e=new t;return e.resolve(),e},remove:function(e,t){var n=this._cache.get(e);delete n[t],this.put(e,n)}},a.prototype={get:function(e){var n=new t,r=this._cache.get(e);return n.resolve(null!==r?r:{}),n},put:function(e,n){var r=new t;return this._cache.set(e,n),r.resolve(),r},remove:function(e,t){var n=this._cache.get(e);delete n[t],this.put(e,n)}},l.DEFAULT_SCOPE=1,l.LOCAL_SCOPE=2,l.USER_SCOPE=4,l.prototype={listenForChangedSettings:function(e,t,n){return(!t||"number"!=typeof t||t>7||1>t)&&(n=t,t=l.DEFAULT_SCOPE|l.LOCAL_SCOPE|l.USER_SCOPE),window.addEventListener("storage",n,!1),0!==(l.USER_SCOPE&t)?"/orion/preferences/user"+e:0!==(l.LOCAL_SCOPE&t)?"/orion/preferences/local"+e:"/orion/preferences/default"+e},addChangeListener:function(e){"function"==typeof e&&this._changeListeners.push(e)},getPreferences:function(e,t){(!t||"number"!=typeof t||t>7||1>t)&&(t=l.DEFAULT_SCOPE|l.LOCAL_SCOPE|l.USER_SCOPE);var n=[];l.USER_SCOPE&t&&this._userProvider.available()&&n.push(this._userProvider),l.LOCAL_SCOPE&t&&n.push(this._localProvider),l.DEFAULT_SCOPE&t&&n.push(this._defaultsProvider);var i=new r(e,n,this._prefChangeListener.bind(this)),o=i.sync().then(function(){return i});return o},getSetting:function(e,t,n){for(var r,i=0;i<e.length;i++)if(e[i].label===t)for(var o=0;o<e[i].data.length;o++)if(e[i].data[o].label===n){r=e[i].data[o].value;break}return r},removeChangeListener:function(e){if("function"==typeof e)for(var t=0;t<this._changeListeners.length;t++)if(this._changeListeners[t]===e)return void this._changeListeners.splice(t,1)},_prefChangeListener:function(e,t){this._changeListeners.forEach(function(n){n(e,t)})}},{PreferencesService:l}}),define("orion/pluginregistry",["orion/Deferred","orion/EventTarget","orion/URL-shim"],function(e,t){function n(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(var i=0,o=n.length;o>i;i++){var s=n[i];if(s!==r[i])return!1;var a=e[s],l=t[s];if(a!==l&&JSON.stringify(a)!==JSON.stringify(l))return!1}return!0}function r(e){if(-1===e.indexOf("://"))try{return new URL(e,location.href).href}catch(t){}return e}function i(e){function t(){return n=n||Object.keys(e)}var n=null,r={key:function(e){return t()[e]},getItem:function(t){return e[t]},setItem:function(t,r){e[t]=r,n=null},removeItem:function(t){delete e[t],n=null},clear:function(){t().forEach(function(t){delete e[t]}.bind(this)),n=null}};return Object.defineProperty(r,"length",{get:function(){return t().length}}),r}function o(e,t){if(t&&t instanceof XMLHttpRequest){var n,r;try{n=t.status,r=t.statusText}catch(i){n=0,r=""}return{status:n||0,statusText:r}}return t}function s(e){var t=e?JSON.parse(JSON.stringify(e,o)):e;return e instanceof Error&&(t.__isError=!0,t.message=t.message||e.message,t.name=t.name||e.name),t}function a(e,t){this.type=e,this.plugin=t}function l(e,t){this.__objectId=e,this.__methods=t}function c(r,i,o){function c(e){w&&o.postMessage(e,w)}function u(t){if(!w)return(new e).reject(new Error("plugin not connected"));t.id=String(O++);var n=new e;j[t.id]=n,n.then(null,function(e){"active"===P&&e instanceof Error&&"Cancel"===e.name&&c({requestId:t.id,method:"cancel",params:e.message?[e.message]:[]})});var r=Object.prototype.toString;return t.params.forEach(function(e,i){if("[object Object]"===r.call(e)&&!(e instanceof l)){var o,s;for(o in e)"[object Function]"===r.call(e[o])&&(s=s||[],s.push(o));if(s){var a=A++;I[a]=e;var c=function(){delete I[a]};n.then(c,c),t.params[i]=new l(a,s)}}}),o.postMessage(t,w),n.promise}function p(e,t){e||0===e?c({id:e,result:null,error:t}):console.log(t)}function d(e,t,n,r){r.forEach(function(e,t){if(e&&"undefined"!=typeof e.__objectId){var n={};e.__methods.forEach(function(t){n[t]=function(){return u({objectId:e.__objectId,method:t,params:Array.prototype.slice.call(arguments)})}}),r[t]=n}});var i="undefined"==typeof e?null:{id:e,result:null,error:null};try{var o=n.apply(t,r);if(!i)return;o&&"function"==typeof o.then?(N[e]=o,o.then(function(t){delete N[e],i.result=t,c(i)},function(t){N[e]&&(delete N[e],i.error=s(t),c(i))},function(){c({responseId:e,method:"progress",params:Array.prototype.slice.call(arguments)})})):(i.result=o,c(i))}catch(a){i&&(i.error=s(a),c(i))}}function h(e){try{if(e.method){var t=e.method,n=e.params||[];if("serviceId"in e){var r=M[e.serviceId];r||p(e.id,"service not found"),t in r?d(e.id,r,r[t],n):p(e.id,"method not found")}else if("objectId"in e){var i=I[e.objectId];i||p(e.id,"object not found"),t in i?d(e.id,i,i[t],n):p(e.id,"method not found")}else if("requestId"in e){var s=N[e.requestId];s&&"cancel"===t&&s.cancel&&s.cancel.apply(s,n)}else if("responseId"in e){var a=j[e.responseId];a&&"progress"===t&&a.progress&&a.progress.apply(a,n)}else if("loading"===e.method)w.loading();else if("plugin"===e.method){w.connected();var l=e.params[0];T({headers:l.headers,services:l.services}).then(function(){_&&_.resolve(b)})}else{if("timeout"!==e.method)throw new Error("Bad method: "+e.method);_&&_.reject(e.error)}}else{var c=j[String(e.id)];if(delete j[String(e.id)],e.error){var u=o.handleServiceError(b,e.error);c.reject(u)}else c.resolve(e.result)}}catch(h){console.log("Plugin._messageHandler "+h)
}}function f(e){var n={};if(e.methods&&(e.methods.forEach(function(t){n[t]=function(){var n={serviceId:e.serviceId,method:t,params:Array.prototype.slice.call(arguments)};return"active"===P?u(n):b.start({"transient":!0}).then(function(){return u(n)})}}),n.addEventListener&&n.removeEventListener)){var r=new t,i=A++;I[i]={handleEvent:r.dispatchEvent.bind(r)};var o=new l(i,["handleEvent"]),s=n.addEventListener;n.addEventListener=function(e,t){r._namedListeners[e]||s(e,o),r.addEventListener(e,t)};var a=n.removeEventListener;n.removeEventListener=function(e,t){r.removeEventListener(e,t),r._namedListeners[e]||a(e,o)}}return n}function m(e){var t=JSON.parse(JSON.stringify(e.properties));t.__plugin__=r;var n=e.names||e.type||[];return Array.isArray(n)||(n=[n]),t.objectClass=n,t}function g(e){var t=f(e),n=m(e),r=o.registerService(e.names||e.type,t,n);R[e.serviceId]={registration:r,proxy:t}}function v(){o.persist(r,{created:x,headers:S,services:E,autostart:C,lastModified:L})}var b=this;i=i||{};var y,_,w,k,T,x=i.created||(new Date).getTime(),S=i.headers||{},E=i.services||[],C=i.autostart,L=i.lastModified||0,P="installed",R={},O=0,A=0,N={},j={},I={},M={};this._default=!1,this._persist=v,this._resolve=function(){P="resolved",o.dispatchEvent(new a("resolved",b))},this._getAutostart=function(){return C},this._getCreated=function(){return x},this.getLocation=function(){return r},this.getHeaders=function(){return JSON.parse(JSON.stringify(S))},this.getName=function(){var e=this.getHeaders();return e?e.name||"":null},this.getVersion=function(){var e=this.getHeaders();return e?e.version||"0.0.0":null},this.getLastModified=function(){return L},this.getServiceReferences=function(){var e=[];return Object.keys(R).forEach(function(t){e.push(R[t].registration.getReference())}),e},this.setParent=function(t){return k!==t?(k=t,b.stop({"transient":!0}).then(function(){return"started"===C?b.start({"transient":!0}):"lazy"===C?b.start({lazy:!0,"transient":!0}):void 0})):(new e).resolve()},this.getState=function(){return P},this.getProblemLoading=function(){return b._problemLoading?!0:!1},this.start=function(t){if("uninstalled"===P)return(new e).reject(new Error("Plugin is uninstalled"));if(y)return y.promise.then(this.start.bind(this,t));if("active"===P)return(new e).resolve();if(!t||!t.transient){var n=t&&t.lazy?"lazy":"started";n!==C&&(C=n,v())}var i=o.getState();if("starting"!==i&&"active"!==i)return t.transient?(new e).reject(new Error("start transient error")):(new e).resolve();if("installed"===P)try{this._resolve()}catch(s){return(new e).reject(s)}if("resolved"===P&&E.forEach(function(e){g(e)}),t&&t.lazy)return"starting"!==P&&(P="starting",o.dispatchEvent(new a("lazy activation",b))),(new e).resolve();var l=new e;return y=l,P="starting",b._problemLoading=null,o.dispatchEvent(new a("starting",b)),_=new e,w=o.connect(r,h,k),_.then(function(){_=null,P="active",o.dispatchEvent(new a("started",b)),y=null,l.resolve()},function(){_=null,P="stopping",o.dispatchEvent(new a("stopping",b)),Object.keys(R).forEach(function(e){R[e].registration.unregister(),delete R[e]}),o.disconnect(w),w=null,P="resolved",y=null,o.dispatchEvent(new a("stopped",b)),b._problemLoading=!0,l.reject(new Error("Failed to load plugin: "+r)),b._default&&(L=0,v())}),l.promise},this.stop=function(t){if("uninstalled"===P)return(new e).reject(new Error("Plugin is uninstalled"));if(y)return y.promise.then(this.stop.bind(this,t));if(t&&t.transient||"stopped"!==C&&(C="stopped",v()),"active"!==P&&"starting"!==P)return(new e).resolve();var n=new e;return y=n,P="stopping",o.dispatchEvent(new a("stopping",b)),Object.keys(R).forEach(function(e){R[e].registration.unregister(),delete R[e]}),w&&(o.disconnect(w),w=null),P="resolved",y=null,o.dispatchEvent(new a("stopped",b)),n.resolve(),n.promise},T=function(t){if(b.problemLoading=null,"uninstalled"===P)return(new e).reject(new Error("Plugin is uninstalled"));if(!t)return 0===L&&(L=(new Date).getTime(),v()),o.loadManifest(r).then(T,function(){b._problemLoading=!0,b._default&&(L=0,v()),console.log("Failed to load plugin: "+r)});var i=S,s=E,l=C;if(S=t.headers||{},E=t.services||[],C=t.autostart||C,t.lastModified?L=t.lastModified:(L=(new Date).getTime(),v()),n(S,i)&&n(E,s)&&C===l)return(new e).resolve();if("active"===P||"starting"===P){var c=[];Object.keys(E).forEach(function(e){var t=E[e];c.push(e);var r=R[e];if(r){if(n(t.methods,Object.keys(r.proxy))){var i=m(t),o=r.registration.getReference(),s={};return o.getPropertyKeys().forEach(function(e){s[e]=o.getProperty(e)}),void(n(i,s)||r.registration.setProperties(i))}r.registration.unregister(),delete R[e]}g(t)}),Object.keys(R).forEach(function(e){-1===c.indexOf(e)&&(R[e].registration.unregister(),delete R[e])})}return"active"===P&&(o.disconnect(w),_=new e,w=o.connect(r,h,k),_.then(function(){_=null},function(){_=null,P="stopping",o.dispatchEvent(new a("stopping"),b),Object.keys(R).forEach(function(e){R[e].registration.unregister(),delete R[e]}),o.disconnect(w),w=null,P="resolved",o.dispatchEvent(new a("stopped",b))})),(new e).resolve()},this.update=function(e){return T(e).then(function(){o.dispatchEvent(new a("updated",b))})},this.uninstall=function(){return"uninstalled"===P?(new e).reject(new Error("Plugin is uninstalled")):"active"===P||"starting"===P||"stopping"===P?this.stop().then(this.uninstall.bind(this),this.uninstall.bind(this)):(o.removePlugin(this),P="uninstalled",o.dispatchEvent(new a("uninstalled",b)),(new e).resolve())}}function u(n,o){function s(e){var t=e.source;f.some(function(n){if(t===n.target){try{var r;if("undefined"==typeof n.useStructuredClone){var i="string"!=typeof e.data;r=i?e.data:JSON.parse(e.data),n.useStructuredClone=i}else r=n.useStructuredClone?e.data:JSON.parse(e.data);n.handler(r)}catch(o){}return!0}})}o=o||{};var l=o.storage||localStorage;l.getItem||(l=i(l));var u,d="installed",h=[],f=[],m=new t,g={},v={registerService:n.registerService.bind(n),connect:function(e,t,n,r){function i(e){var n=new Error(e);n.name="timeout",t({method:"timeout",error:n})}var o={handler:t,url:e},s=setTimeout(i.bind(null,"Load timeout for: "+e),r||15e3),a=document.createElement("iframe");return a.name=e+"_"+(new Date).getTime(),a.src=e,a.onload=function(){clearTimeout(s),s=setTimeout(i.bind(null,"Plugin handshake timeout for: "+e),5e3)},a.sandbox="allow-scripts allow-same-origin allow-forms",a.style.width=a.style.height="100%",a.frameBorder=0,(n||u).appendChild(a),o.target=a.contentWindow,o.connected=function(){clearTimeout(s)},o.loading=function(){clearTimeout(s),s=setTimeout(i.bind(null,"Plugin handshake timeout for: "+e),6e4)},o.close=function(){if(clearTimeout(s),a){var e=a.parentNode;e&&e.removeChild(a),a=null}},f.push(o),o},disconnect:function(e){for(var t=0;t<f.length;t++)if(e===f[t]){f.splice(t,1);try{e.close()}catch(n){}break}},removePlugin:function(e){for(var t=0;t<h.length;t++)if(e===h[t]){h.splice(t,1);break}l.removeItem("plugin."+e.getLocation())},persist:function(e,t){l.setItem("plugin."+e,JSON.stringify(t))},postMessage:function(e,t){t.target.postMessage(t.useStructuredClone?e:JSON.stringify(e),t.url)},dispatchEvent:function(e){try{m.dispatchEvent(e)}catch(t){console&&console.log("PluginRegistry.dispatchEvent "+t)}},loadManifest:function(t){var n=new e,r=v.connect(t,function(e){if(r&&e.method)if("manifest"===e.method||"plugin"===e.method){var t=e.params[0];v.disconnect(r),r=null,n.resolve(t)}else"timeout"===e.method&&(v.disconnect(r),r=null,n.reject(e.error))});return n.promise},getState:function(){return d},handleServiceError:function(e,t){if(t&&401===t.status){var n=e.getHeaders(),r=e.getName()||e.getLocation(),i=document.createElement("span");if(i.appendChild(document.createTextNode("Authentication required for: "+r+".")),n.login){i.appendChild(document.createTextNode(" "));var o=document.createElement("a");o.target="_blank",o.textContent="Login",o.href=n.login,p.test(o.href)?(i.appendChild(o),i.appendChild(document.createTextNode(" and re-try the request."))):console.log("Illegal Login URL: "+n.login)}var s=new XMLSerializer;return{Severity:"Error",HTML:!0,Message:s.serializeToString(i)}}if(t.__isError){var a=t;t=new Error(a.message),Object.keys(a).forEach(function(e){t[e]=a[e]}),delete t.__isError}return t}};this.getLocation=function(){return"System"},this.getHeaders=function(){return{}},this.getName=function(){return"System"},this.getVersion=function(){return"0.0.0"},this.getLastModified=function(){return 0},this.getState=v.getState,this.init=function(){if("starting"!==d&&"active"!==d&&"stopping"!==d){addEventListener("message",s,!1);for(var e=[],t=0,n=l.length;n>t;t++)e.push(l.key(t));e.forEach(function(e){if(0===e.indexOf("plugin.")){var t=e.substring("plugin.".length),n=JSON.parse(l.getItem(e));n.created&&h.push(new c(t,n,v))}}),h.sort(function(e,t){return e._getCreated()<t._getCreated()?-1:1}),o.parent?u=o.parent:(u=document.createElement("div"),o.visible||(u.style.display="none",u.style.visibility="hidden"),document.body.appendChild(u)),o.plugins&&Object.keys(o.plugins).forEach(function(e){e=r(e);var t=this.getPlugin(e);if(t)t._default=!0;else{var n=o.plugins[e];"object"!=typeof n&&(n={}),n.autostart=n.autostart||o.defaultAutostart||"lazy",t=new c(e,n,v),t._default=!0,h.push(t)}}.bind(this)),d="starting"}},this.start=function(){if("starting"!==d&&this.init(),"starting"!==d)return(new e).reject("Cannot start framework. Framework is already "+d+".");var t=[],n=(new Date).getTime();return h.forEach(function(e){var r=e._getAutostart();return 0===e.getLastModified()?void t.push(e.update().then(function(){return"started"===r?e.start({"transient":!0}):"lazy"===r?e.start({lazy:!0,"transient":!0}):void e._resolve()})):void("started"===r?t.push(e.start({"transient":!0})):"lazy"===r?(t.push(e.start({lazy:!0,"transient":!0})),n>e.getLastModified()+864e5&&e.update()):e._resolve())}),e.all(t,function(e){console.log("PluginRegistry.stop "+e)}).then(function(){d="active"})},this.stop=function(){if("starting"!==d&&"active"!==d)return(new e).reject("Cannot stop registry. Registry is already "+d+".");d="stopping";var t=[];return h.forEach(function(e){t.push(e.stop({"transient":!0}))}),e.all(t,function(e){console.log("PluginRegistry.stop "+e)}).then(function(){if(!o.parent){var e=u.parentNode;e&&e.removeChild(u)}u=null,removeEventListener("message",s),d="resolved"})},this.update=function(){this.stop().then(this.start.bind(this))},this.uninstall=function(){return(new e).reject("Cannot uninstall registry")},this.installPlugin=function(t,n){t=r(t);var i=this.getPlugin(t);if(i)return(new e).resolve(i);if(g[t])return g[t];if(n)return i=new c(t,n,v),h.push(i),i._persist(),v.dispatchEvent(new a("installed",i)),(new e).resolve(i);var o=v.loadManifest(t).then(function(e){return i=new c(t,e,v),h.push(i),i._persist(),delete g[t],v.dispatchEvent(new a("installed",i)),i},function(e){throw delete g[t],e});return g[t]=o,o},this.getPlugins=function(){return h.slice()},this.getPlugin=function(e){var t=null;return e=r(e),h.some(function(n){return e===n.getLocation()?(t=n,!0):void 0}),t},this.addEventListener=m.addEventListener.bind(m),this.removeEventListener=m.removeEventListener.bind(m),this.resolvePlugins=function(){var e=!0;return h.forEach(function(t){e=e&&t._resolve()}),e}}var p=new RegExp("^http[s]?","i");return{Plugin:c,PluginRegistry:u}}),define("orion/objects",[],function(){function e(e){for(var t=Object.prototype.hasOwnProperty,n=1,r=arguments.length;r>n;n++){var i=arguments[n];for(var o in i)t.call(i,o)&&(e[o]=i[o])}return e}return{clone:function(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var n=Object.create(Object.getPrototypeOf(t));return e(n,t),n},mixin:e,toArray:function(e){return Array.isArray(e)?e:[e]}}}),define("orion/serviceTracker",[],function(){function e(e,r){function i(e){var t=e.getProperty("service.id"),n=this.addingService(e);n&&(c[t]=e,u[t]=n)}function o(e){var t=e.getProperty("service.id"),n=u[t];delete c[t],delete u[t],this.removedService(e,n)}function s(e){return-1!==e.getProperty("objectClass").indexOf(r)}this.serviceRegistry=e;var a,l,c={},u={},p=t;this.close=function(){if(p!==n)throw"Already closed";p=t,e.removeEventListener("registered",a),e.removeEventListener("unregistering",l),a=null,l=null;var r=this;this.getServiceReferences().forEach(function(e){o.call(r,e)}),"function"==typeof this.onClose&&this.onClose()},this.getServiceReferences=function(){var e=Object.keys(c);return e.length?e.map(function(e){return c[e]}):null},this.open=function(){if(p!==t)throw"Already open";p=n;var c=this;a=function(e){return s(e.serviceReference)&&(i.call(c,e.serviceReference),"function"==typeof c.onServiceAdded)?c.onServiceAdded(e.serviceReference,c.serviceRegistry.getService(e.serviceReference)):void 0},l=function(e){s(e.serviceReference)&&o.call(c,e.serviceReference)},e.addEventListener("registered",a),e.addEventListener("unregistering",l),e.getServiceReferences(r).forEach(function(t){return i.call(c,t),"function"==typeof c.onServiceAdded?c.onServiceAdded(t,e.getService(t)):void 0}),"function"==typeof this.onOpen&&this.onOpen()}}var t=0,n=1;return e.prototype={addingService:function(e){return this.serviceRegistry.getService(e)},onOpen:null,onClose:null,onServiceAdded:null,removedService:function(){}},e}),define("orion/config",["orion/Deferred","orion/objects","orion/preferences","orion/serviceTracker"],function(e,t,n,r){var i,o,s,a,l,c=n.PreferencesService,u=c.DEFAULT_SCOPE,p="pid",d="orion.cm.managedservice",h="/cm/configurations";return i=function(t,n,i){function o(e,t,n){u[e]||(u[e]=[]),h[e]||(h[e]=[]),u[e].push(t),h[e].push(n)}function s(e,t,n){var r=u[e],i=h[e];r.length>1?r.splice(r.indexOf(t),1):delete u[e],i.length>1?i.splice(i.indexOf(n),1):delete h[e]}function a(e){return u[e]||[]}function l(e){return h[e]||[]}function c(e,t,r){t.forEach(function(i,o){try{var s=e[o].getProperty("__plugin__"),a=s&&n.getPlugin(s);(!s||a&&"active"===a.getState())&&t[o].updated(r)}catch(l){"undefined"!=typeof console&&console.log(l)}})}r.call(this,t,d);var u={},h={},f=function(n){var r=[];return n.plugin.getServiceReferences().forEach(function(e){if(-1!==e.getProperty("objectClass").indexOf(d)){var n=e.getProperty(p),o=t.getService(e);if(n&&o){var s=i._find(n),a=s&&s.getProperties();r.push(o.updated(a))}}}),e.all(r)};this.addingService=function(e){var n=e.getProperty(p),r=t.getService(e);return n&&r?(o(n,e,r),r):null},this.onServiceAdded=function(e,t){var n=e.getProperty(p),r=i._find(n);c([e],[t],r&&r.getProperties())},this.onOpen=function(){n.addEventListener("started",f)},this.onClose=function(){n.removeEventListener("started",f)},this.notifyUpdated=function(e){var t=e.getPid();c(a(t),l(t),e.getProperties())},this.notifyDeleted=function(e){var t=e.getPid();c(a(t),l(t),null)},this.removedService=function(e,t){var n=e.getProperty(p);s(n,e,t)}},o=function(){function e(e,t,n){this.store=new s(this,n),this.configAdmin=new a(this,this.store),this.tracker=new i(e,t,this.store)}return e.prototype={getConfigurationAdmin:function(){var e=this;return this.configAdmin._init().then(function(t){return e.tracker.open(),t})},notifyDeleted:function(e){this.tracker.notifyDeleted(e)},notifyUpdated:function(e){this.tracker.notifyUpdated(e)}},e}(),a=function(){function e(e,t){this.factory=e,this.store=t}return e.prototype={_prefName:h,_init:function(){var e=this;return this.store._init().then(function(){return e})},getConfiguration:function(e){return this.store.get(e)},getDefaultConfiguration:function(e){return this.store._find(e,u)},listConfigurations:function(){return this.store.list()}},e}(),s=function(){function t(t,n){this.factory=t,this.prefsService=n,this.configs=this.defaultConfigs=null,this.pref=null;var r=this;this.initPromise=e.all([this.prefsService.getPreferences(h,u),this.prefsService.getPreferences(h)]).then(function(e){var t=e[0];r.pref=e[1],r.defaultConfigs=r._toConfigs(t,!0),r.configs=r._toConfigs(r.pref,!1,t)})}return t.prototype={_toConfigs:function(e,t,n){var r=Object.create(null),i=this;return e.keys().forEach(function(o){if(!r[o]){var s=e.get(o),a=n&&n.get(o);"object"==typeof s&&null!==s&&Object.keys(s).length>0&&(s[p]=o,r[o]=new l(i.factory,i,s,t,a))}}),r},_init:function(){return this.initPromise},_find:function(e,t){return t===c.DEFAULT_SCOPE?this.defaultConfigs[e]||null:this.configs[e]||null},get:function(e){var t=this._find(e),n=this._find(e,u);if(!t){var r=n&&n.getProperties(!0);t=new l(this.factory,this,e,!1,r),this.configs[e]=t}return t},list:function(){var e=this,t=[];return this.pref.keys().forEach(function(n){var r=e._find(n);r&&null!==r.getProperties()&&t.push(r)}),t},remove:function(e){this.pref.remove(e),delete this.configs[e]},save:function(e,t){var n=t.getProperties(!0)||{},r=this._find(e,u);if(r){var i=r.getProperties(!0);Object.keys(i).forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)&&n[e]===i[e]&&delete n[e]})}this.pref.put(e,n)}},t}(),l=function(){function e(e,n){n=t.clone(n),delete n[p],e.properties=n}function n(t,n,r,i,o){if(this.factory=t,this.store=n,this.readOnly=i,null!==r&&"object"==typeof r)this.pid=r[p],e(this,r);else{if("string"!=typeof r)throw new Error("Invalid pid/properties "+r);this.pid=r,this.properties=null}if(o){var s=this;Object.keys(o).forEach(function(e){e===p||Object.prototype.hasOwnProperty.call(s.properties,e)||(s.properties[e]=o[e])})}}return n.prototype={_checkReadOnly:function(){if(this.readOnly)throw new Error("Configuration is read only")},_checkRemoved:function(){if(this.removed)throw new Error("Configuration was removed")},getPid:function(){return this._checkRemoved(),this.pid},getProperties:function(e){this._checkRemoved();var n=null;return this.properties&&(n=t.clone(this.properties),e||(n[p]=this.pid)),n},remove:function(){this._checkReadOnly(),this._checkRemoved(),this.factory.notifyDeleted(this),this.store.remove(this.pid),this.removed=!0},update:function(t){this._checkReadOnly(),this._checkRemoved(),e(this,t),this.store.save(this.pid,this),this.factory.notifyUpdated(this)},toString:function(){return"[ConfigImpl pid: "+this.pid+", properties: "+JSON.stringify(this.properties)+"]"}},n}(),{ConfigurationAdminFactory:o}}),define("orion/bootstrap",["require","orion/Deferred","orion/serviceregistry","orion/preferences","orion/pluginregistry","orion/config"],function(e,t,n,r,i,o){function s(){if(a)return a;a=new t;var s=new n.ServiceRegistry,l=new r.PreferencesService(s);return l.getPreferences("/plugins").then(function(n){var r={plugins:{}};n.keys().forEach(function(t){var i=e.toUrl(t);r.plugins[i]=n[t]});var c=new i.PluginRegistry(s,r);return c.start().then(function(){return s.getServiceReferences("orion.core.preference.provider").length>0?l.getPreferences("/plugins",l.USER_SCOPE).then(function(n){var r=[];return n.keys().forEach(function(t){var n=e.toUrl(t);c.getPlugin(n)||r.push(c.installPlugin(n,{autostart:"lazy"}).then(function(e){return e.update().then(function(){return e.start({lazy:!0})})}))}),t.all(r,function(e){console.log(e)})}):void 0}).then(function(){return new o.ConfigurationAdminFactory(s,c,l).getConfigurationAdmin().then(s.registerService.bind(s,"orion.cm.configadmin"))}).then(function(){var e=s.getService("orion.core.auth");if(e){var t=e.getUser().then(function(t){return t?void localStorage.setItem("lastLogin",(new Date).getTime()):e.getAuthForm(window.location.href).then(function(e){setTimeout(function(){window.location=e},0)})}),n=localStorage.getItem("lastLogin");if(!n||n<(new Date).getTime()-9e5)return t}}).then(function(){var e={serviceRegistry:s,preferences:l,pluginRegistry:c};return a.resolve(e),e})})}var a;return{startup:s}}),define("javascript/lru",["orion/objects"],function(e){function t(e,t){var n=Object.create(null);return n._p=null,n._n=null,n._v={key:e,value:t},n}function n(e){this._max="undefined"==typeof e?-1:e,this._start=this._end=null,this._size=0,this._cache=Object.create(null)}return e.mixin(n.prototype,{clear:function(){this._cache=Object.create(null),this._start=null,this._end=null,this._size=0},size:function(){return this._size},containsKey:function(e){return"undefined"!=typeof this._cache[e]},put:function(e,n){-1!==this._max&&this._size+1>this._max&&this.remove(this._end._v.key),this.remove(e);var r=t(e,n);this._start?(r=t(e,n),r._n=this._start,this._start._p=r,this._start=r):this._start=this._end=r,this._cache[e]=r,this._size++},get:function(e){if(this._size>0){var t=this._cache[e];if(t&&t._v)return t._v.value}return null},remove:function(e){if(0===this._size)return null;var t=this._cache[e];if(t){var n=t._p;this._end===t&&(this._end=n);var r=t._n;return this._start===t&&(this._start=t._n),n&&(n._n=r),r&&(r._p=n),delete this._cache[e],this._size--,t._v.value}return null},keys:function r(){var r=[];if(this._end)for(var e=this._end;e;)r.push(e._v.key),e=e._p;return r}}),{LRU:n}}),function(){function e(e,t){var n=function(){};n.prototype=t.prototype,e.super_=t,e.prototype=new n,e.prototype.constructor=e}function t(e,t){this._options=t?t:{},this._validateBuilder(e);this._builder=e,this.reset()}function n(e,t){this.reset(),this._options=t?t:{},void 0===this._options.ignoreWhitespace&&(this._options.ignoreWhitespace=!1),void 0===this._options.includeLocation&&(this._options.includeLocation=!1),void 0===this._options.verbose&&(this._options.verbose=!0),void 0===this._options.enforceEmptyTags&&(this._options.enforceEmptyTags=!0),void 0===this._options.caseSensitiveTags&&(this._options.caseSensitiveTags=!1),void 0===this._options.caseSensitiveAttr&&(this._options.caseSensitiveAttr=!1),"function"==typeof e&&(this._callback=e)}function r(e){r.super_.call(this,e,{ignoreWhitespace:!0,verbose:!1,enforceEmptyTags:!1,caseSensitiveTags:!0})}var i;if("undefined"!=typeof module&&"undefined"!=typeof module.exports)i=module.exports;else{if(i={},this.Tautologistics||(this.Tautologistics={}),this.Tautologistics.NodeHtmlParser)return;this.Tautologistics.NodeHtmlParser=i}var o={Text:"text",Tag:"tag",Attr:"attr",CData:"cdata",Doctype:"doctype",Comment:"comment"};if("undefined"!=typeof module&&"undefined"!=typeof module.exports){var s=require("stream");e(t,s),t.prototype.writable=!0,t.prototype.write=function(e){e instanceof Buffer&&(e=e.toString()),this.parseChunk(e)},t.prototype.end=function(e){arguments.length&&this.write(e),this.writable=!1,this.done()},t.prototype.destroy=function(){this.writable=!1}}t.prototype.reset=function(){this._state={mode:o.Text,pos:0,data:null,pendingText:null,pendingWrite:null,lastTag:null,isScript:!1,needData:!1,output:[],done:!1},this._builder.reset()},t.prototype.parseChunk=function(e){for(this._state.needData=!1,this._state.data=null!==this._state.data?this._state.data.substr(this.pos)+e:e;this._state.pos<this._state.data.length&&!this._state.needData;)this._parse(this._state)},t.prototype.parseComplete=function(e){this.reset(),this.parseChunk(e),this.done()},t.prototype.done=function(){this._state.done=!0,this._parse(this._state),this._flushWrite(),this._builder.done()},t.prototype._validateBuilder=function(e){if("object"!=typeof e)throw new Error("Builder is not an object");if("function"!=typeof e.reset)throw new Error("Builder method 'reset' is invalid");if("function"!=typeof e.done)throw new Error("Builder method 'done' is invalid");if("function"!=typeof e.write)throw new Error("Builder method 'write' is invalid");if("function"!=typeof e.error)throw new Error("Builder method 'error' is invalid")},t.prototype._parse=function(){switch(this._state.mode){case o.Text:return this._parseText(this._state);case o.Tag:return this._parseTag(this._state);case o.Attr:return this._parseAttr(this._state);case o.CData:return this._parseCData(this._state);case o.Doctype:return this._parseDoctype(this._state);case o.Comment:return this._parseComment(this._state)}},t.prototype._writePending=function(e){this._state.pendingWrite||(this._state.pendingWrite=[]),this._state.pendingWrite.push(e)},t.prototype._flushWrite=function(){if(this._state.pendingWrite){for(var e=0,t=this._state.pendingWrite.length;t>e;e++){var n=this._state.pendingWrite[e];this._builder.write(n)}this._state.pendingWrite=null}},t.prototype._write=function(e){this._flushWrite(),this._builder.write(e)},t._re_parseText_scriptClose=/<\s*\/\s*script/gi,t.prototype._parseText=function(){var e,n=this._state;n.isScript?(t._re_parseText_scriptClose.lastIndex=n.pos,e=t._re_parseText_scriptClose.exec(n.data),e=e?e.index:-1):e=n.data.indexOf("<",n.pos);var r=-1===e?n.data.substring(n.pos,n.data.length):n.data.substring(n.pos,e);if(0>e&&n.done&&(e=n.data.length),0>e){if(n.isScript)return void(n.needData=!0);n.pendingText||(n.pendingText=[]),n.pendingText.push(n.data.substring(n.pos,n.data.length)),n.pos=n.data.length}else n.pendingText?(n.pendingText.push(n.data.substring(n.pos,e)),r=n.pendingText.join(""),n.pendingText=null):r=n.data.substring(n.pos,e),""!==r&&this._write({type:o.Text,data:r}),n.pos=e+1,n.mode=o.Tag},t.re_parseTag=/\s*(\/?)\s*([^\s>\/]+)(\s*)\??(>?)/g,t.prototype._parseTag=function(){var e=this._state;t.re_parseTag.lastIndex=e.pos;var n=t.re_parseTag.exec(e.data);if(n){if(!n[1]&&"!--"===n[2].substr(0,3))return e.mode=o.Comment,void(e.pos+=3);if(!n[1]&&"![CDATA["===n[2].substr(0,8))return e.mode=o.CData,void(e.pos+=8);if(!n[1]&&"!DOCTYPE"===n[2].substr(0,8))return e.mode=o.Doctype,void(e.pos+=8);if(!e.done&&e.pos+n[0].length===e.data.length)return void(e.needData=!0);var r;">"===n[4]?(e.mode=o.Text,r=n[0].substr(0,n[0].length-1)):(e.mode=o.Attr,r=n[0]),e.pos+=n[0].length;var i={type:o.Tag,name:n[1]+n[2],raw:r};e.mode===o.Attr&&(e.lastTag=i),"script"===i.name.toLowerCase()?e.isScript=!0:"/script"===i.name.toLowerCase()&&(e.isScript=!1),e.mode===o.Attr?this._writePending(i):this._write(i)}else e.needData=!0},t.re_parseAttr_findName=/\s*([^=<>\s'"\/]+)\s*/g,t.prototype._parseAttr_findName=function(){t.re_parseAttr_findName.lastIndex=this._state.pos;var e=t.re_parseAttr_findName.exec(this._state.data);return e?this._state.pos+e[0].length!==t.re_parseAttr_findName.lastIndex?null:{match:e[0],name:e[1]}:null},t.re_parseAttr_findValue=/\s*=\s*(?:'([^']*)'|"([^"]*)"|([^'"\s\/>]+))\s*/g,t.re_parseAttr_findValue_last=/\s*=\s*['"]?(.*)$/g,t.prototype._parseAttr_findValue=function(){var e=this._state;t.re_parseAttr_findValue.lastIndex=e.pos;var n=t.re_parseAttr_findValue.exec(e.data);return n?e.pos+n[0].length!==t.re_parseAttr_findValue.lastIndex?null:{match:n[0],value:n[1]||n[2]||n[3]}:e.done?(t.re_parseAttr_findValue_last.lastIndex=e.pos,n=t.re_parseAttr_findValue_last.exec(e.data),n?{match:n[0],value:""!==n[1]?n[1]:null}:null):null},t.re_parseAttr_splitValue=/\s*=\s*['"]?/g,t.re_parseAttr_selfClose=/(\s*\/\s*)(>?)/g,t.prototype._parseAttr=function(){var e=this._state,n=this._parseAttr_findName(e);if(n&&"?"!==n.name){if(!e.done&&e.pos+n.match.length===e.data.length)return e.needData=!0,null;e.pos+=n.match.length;var r=this._parseAttr_findValue(e);if(r){if(!e.done&&e.pos+r.match.length===e.data.length)return e.needData=!0,void(e.pos-=n.match.length);e.pos+=r.match.length}else{if(t.re_parseAttr_splitValue.lastIndex=e.pos,t.re_parseAttr_splitValue.exec(e.data))return e.needData=!0,void(e.pos-=n.match.length);r={match:"",value:null}}e.lastTag.raw+=n.match+r.match,this._writePending({type:o.Attr,name:n.name,data:r.value})}else{t.re_parseAttr_selfClose.lastIndex=e.pos;var i=t.re_parseAttr_selfClose.exec(e.data);if(i&&i.index===e.pos){if(!e.done&&!i[2]&&e.pos+i[0].length===e.data.length)return void(e.needData=!0);e.lastTag.raw+=i[1],this._write({type:o.Tag,name:"/"+e.lastTag.name,raw:null}),e.pos+=i[1].length}var s=e.data.indexOf(">",e.pos);if(0>s){if(e.done)return e.lastTag.raw+=e.data.substr(e.pos),void(e.pos=e.data.length);e.needData=!0}else e.pos=s+1,e.mode=o.Text}},t.re_parseCData_findEnding=/\]{1,2}$/,t.prototype._parseCData=function(){var e=this._state,n=e.data.indexOf("]]>",e.pos);if(0>n&&e.done&&(n=e.data.length),0>n){t.re_parseCData_findEnding.lastIndex=e.pos;var r=t.re_parseCData_findEnding.exec(e.data);if(r)return void(e.needData=!0);e.pendingText||(e.pendingText=[]),e.pendingText.push(e.data.substr(e.pos,e.data.length)),e.pos=e.data.length,e.needData=!0}else{var i;e.pendingText?(e.pendingText.push(e.data.substring(e.pos,n)),i=e.pendingText.join(""),e.pendingText=null):i=e.data.substring(e.pos,n),this._write({type:o.CData,data:i}),e.mode=o.Text,e.pos=n+3}},t.prototype._parseDoctype=function(){var e=this._state,n=e.data.indexOf(">",e.pos);if(0>n&&e.done&&(n=e.data.length),0>n)t.re_parseCData_findEnding.lastIndex=e.pos,e.pendingText||(e.pendingText=[]),e.pendingText.push(e.data.substr(e.pos,e.data.length)),e.pos=e.data.length,e.needData=!0;else{var r;e.pendingText?(e.pendingText.push(e.data.substring(e.pos,n)),r=e.pendingText.join(""),e.pendingText=null):r=e.data.substring(e.pos,n),this._write({type:o.Doctype,data:r}),e.mode=o.Text,e.pos=n+1}},t.re_parseComment_findEnding=/\-{1,2}$/,t.prototype._parseComment=function(){var e=this._state,n=e.data.indexOf("-->",e.pos);if(0>n&&e.done&&(n=e.data.length),0>n){t.re_parseComment_findEnding.lastIndex=e.pos;var r=t.re_parseComment_findEnding.exec(e.data);if(r)return void(e.needData=!0);e.pendingText||(e.pendingText=[]),e.pendingText.push(e.data.substr(e.pos,e.data.length)),e.pos=e.data.length,e.needData=!0}else{var i;e.pendingText?(e.pendingText.push(e.data.substring(e.pos,n)),i=e.pendingText.join(""),e.pendingText=null):i=e.data.substring(e.pos,n),this._write({type:o.Comment,data:i}),e.mode=o.Text,e.pos=n+3}},n._emptyTags={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1,"?xml":1},n.reWhitespace=/^\s*$/,n.prototype.dom=null,n.prototype.reset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastTag=null,this._tagStack.last=function(){return this.length?this[this.length-1]:null},this._line=1,this._col=1},n.prototype.done=function(){this._done=!0,this.handleCallback(null)},n.prototype.error=function(e){this.handleCallback(e)},n.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},n.prototype.isEmptyTag=function(e){var t=e.name.toLowerCase();return"?"==t.charAt(0)?!0:("/"==t.charAt(0)&&(t=t.substring(1)),this._options.enforceEmptyTags&&!!n._emptyTags[t])},n.prototype._getLocation=function(){return{line:this._line,col:this._col}},n.prototype._updateLocation=function(e){var t=e.type===o.Tag?e.raw:e.data;if(null!==t){var n=t.split("\n");this._line+=n.length-1,n.length>1&&(this._col=1),this._col+=n[n.length-1].length,e.type===o.Tag?this._col+=2:e.type===o.Comment?this._col+=7:e.type===o.CData?this._col+=12:e.type===o.Doctype&&(this._col+=10)}},n.prototype._copyElement=function(e){var t={type:e.type};if(this._options.verbose&&void 0!==e.raw&&(t.raw=e.raw),void 0!==e.name)switch(e.type){case o.Tag:t.name=this._options.caseSensitiveTags?e.name:e.name.toLowerCase();break;case o.Attr:t.name=this._options.caseSensitiveAttr?e.name:e.name.toLowerCase();break;default:t.name=this._options.caseSensitiveTags?e.name:e.name.toLowerCase()}return void 0!==e.data&&(t.data=e.data),e.location&&(t.location={line:e.location.line,col:e.location.col}),t},n.prototype.write=function(e){if(this._done&&this.handleCallback(new Error("Writing to the builder after done() called is not allowed without a reset()")),this._options.includeLocation&&e.type!==o.Attr&&(e.location=this._getLocation(),this._updateLocation(e)),e.type!==o.Text||!this._options.ignoreWhitespace||!n.reWhitespace.test(e.data)){var t,r;if(this._tagStack.last())if(e.type===o.Tag)if("/"==e.name.charAt(0)){var i=this._options.caseSensitiveTags?e.name.substring(1):e.name.substring(1).toLowerCase();if(!this.isEmptyTag(e)){for(var s=this._tagStack.length-1;s>-1&&this._tagStack[s--].name!=i;);if(s>-1||this._tagStack[0].name==i)for(;s<this._tagStack.length-1;)this._tagStack.pop()}}else t=this._tagStack.last(),e.type===o.Attr?(t.attributes||(t.attributes={}),t.attributes[this._options.caseSensitiveAttr?e.name:e.name.toLowerCase()]=e.data):(r=this._copyElement(e),t.children||(t.children=[]),t.children.push(r),this.isEmptyTag(r)||this._tagStack.push(r),e.type===o.Tag&&(this._lastTag=r));
else t=this._tagStack.last(),e.type===o.Attr?(t.attributes||(t.attributes={}),t.attributes[this._options.caseSensitiveAttr?e.name:e.name.toLowerCase()]=e.data):(t.children||(t.children=[]),t.children.push(this._copyElement(e)));else e.type===o.Tag?"/"!=e.name.charAt(0)&&(r=this._copyElement(e),this.dom.push(r),this.isEmptyTag(r)||this._tagStack.push(r),this._lastTag=r):e.type===o.Attr&&this._lastTag?(this._lastTag.attributes||(this._lastTag.attributes={}),this._lastTag.attributes[this._options.caseSensitiveAttr?e.name:e.name.toLowerCase()]=e.data):this.dom.push(this._copyElement(e))}},n.prototype._options=null,n.prototype._callback=null,n.prototype._done=!1,n.prototype._tagStack=null,e(r,n),r.prototype.done=function(){var e,t={},n=a.getElementsByTagName(function(e){return"rss"==e||"feed"==e},this.dom,!1);if(n.length&&(e=n[0]),e){if("rss"==e.name){t.type="rss",e=e.children[0],t.id="";try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(i){}try{t.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(i){}try{t.updated=new Date(a.getElementsByTagName("lastBuildDate",e.children,!1)[0].children[0].data)}catch(i){}try{t.author=a.getElementsByTagName("managingEditor",e.children,!1)[0].children[0].data}catch(i){}t.items=[],a.getElementsByTagName("item",e.children).forEach(function(e){var n={};try{n.id=a.getElementsByTagName("guid",e.children,!1)[0].children[0].data}catch(r){}try{n.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(r){}try{n.link=a.getElementsByTagName("link",e.children,!1)[0].children[0].data}catch(r){}try{n.description=a.getElementsByTagName("description",e.children,!1)[0].children[0].data}catch(r){}try{n.pubDate=new Date(a.getElementsByTagName("pubDate",e.children,!1)[0].children[0].data)}catch(r){}t.items.push(n)})}else{t.type="atom";try{t.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(i){}try{t.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(i){}try{t.link=a.getElementsByTagName("link",e.children,!1)[0].attributes.href}catch(i){}try{t.description=a.getElementsByTagName("subtitle",e.children,!1)[0].children[0].data}catch(i){}try{t.updated=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(i){}try{t.author=a.getElementsByTagName("email",e.children,!0)[0].children[0].data}catch(i){}t.items=[],a.getElementsByTagName("entry",e.children).forEach(function(e){var n={};try{n.id=a.getElementsByTagName("id",e.children,!1)[0].children[0].data}catch(r){}try{n.title=a.getElementsByTagName("title",e.children,!1)[0].children[0].data}catch(r){}try{n.link=a.getElementsByTagName("link",e.children,!1)[0].attributes.href}catch(r){}try{n.description=a.getElementsByTagName("summary",e.children,!1)[0].children[0].data}catch(r){}try{n.pubDate=new Date(a.getElementsByTagName("updated",e.children,!1)[0].children[0].data)}catch(r){}t.items.push(n)})}this.dom=t}r.super_.prototype.done.call(this)};var a={testElement:function(e,t){if(!t)return!1;for(var n in e)if(e.hasOwnProperty(n))if("tag_name"==n){if(t.type!==o.Tag)return!1;if(!e.tag_name(t.name))return!1}else if("tag_type"==n){if(!e.tag_type(t.type))return!1}else if("tag_contains"==n){if(t.type!==o.Text&&t.type!==o.Comment&&t.type!==o.CData)return!1;if(!e.tag_contains(t.data))return!1}else if(!t.attributes||!e[n](t.attributes[n]))return!1;return!0},getElements:function(e,t,n,r){function i(e){return function(t){return t==e}}if(n=void 0===n||null===n||!!n,r=isNaN(parseInt(r))?-1:parseInt(r),!t)return[];var o,s=[];for(var l in e)"function"!=typeof e[l]&&(e[l]=i(e[l]));if(a.testElement(e,t)&&s.push(t),r>=0&&s.length>=r)return s;if(n&&t.children)o=t.children;else{if(!(t instanceof Array))return s;o=t}for(var c=0;c<o.length&&(s=s.concat(a.getElements(e,o[c],n,r)),!(r>=0&&s.length>=r));c++);return s},getElementById:function(e,t,n){var r=a.getElements({id:e},t,n,1);return r.length?r[0]:null},getElementsByTagName:function(e,t,n,r){return a.getElements({tag_name:e},t,n,r)},getElementsByTagType:function(e,t,n,r){return a.getElements({tag_type:e},t,n,r)}};i.Parser=t,i.HtmlBuilder=n,i.RssBuilder=r,i.ElementType=o,i.DomUtils=a}(),define("htmlparser/htmlparser",function(){}),define("webtools/htmlAstManager",["orion/Deferred","orion/objects","javascript/lru","htmlparser/htmlparser"],function(e,t,n){function r(){this.cache=new n.LRU(10)}return t.mixin(r.prototype,{getAST:function(t){var n="function"==typeof t.getFileMetadata?t.getFileMetadata():(new e).resolve({}),r=this;return n.then(function(n){n=n||{};var i=r._getKey(n),o=r.cache.get(i);return o?(new e).resolve(o):t.getText().then(function(e){return o=r.parse(e),r.cache.put(i,o),n.location&&(o.fileLocation=n.location),o})})},_getKey:function(e){return e.location?e.location:"unknown"},parse:function(e){var t,n=new Tautologistics.NodeHtmlParser.HtmlBuilder(function(e,n){e||(t=n)},{ignoreWhitespace:!0,includeLocation:!0,verbose:!1}),r=new Tautologistics.NodeHtmlParser.Parser(n);return r.parseComplete(e),t.source=e,t},onModelChanging:function(e){this.inputChanged?this.inputChanged=null:this.cache.remove(this._getKey(e.file))},onDestroy:function(){},onSaving:function(e){this.cache.remove(this._getKey(e.file))},onInputChanged:function(e){this.inputChanged=e}}),{HtmlAstManager:r}}),define("orion/URITemplate",[],function(){function e(e){this._text=e}function t(e){return e.replace("%25","%")}function n(e,n){if("U"===n)return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()});if("U+R"===n)return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(p,t);if("U+R-,"===n)return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/,/g,"%2C");throw new Error("Unknown allowed character set: "+n)}function r(e,t,r){for(var i=[],o=0;o<e.length;o++)"undefined"!=typeof e[o]&&i.push(n(e[o],t));return i.join(r)}function i(e,t,r,i){for(var o=Object.keys(e),s=[],a=0;a<o.length;a++)"undefined"!=typeof e[o[a]]&&s.push(n(o[a],t)+r+n(e[o[a]],t));return s.join(i)}function o(e){for(var t=[],n=e.split(","),r=0;r<n.length;r++){var i=n[r].match(u);if(null===i)throw new Error("Bad VarSpec: "+e);t.push({name:i[1],explode:!!i[2],prefix:i[3]?parseInt(i[3],10):-1})}return t}function s(e){if(0===e.length)throw new Error("Invalid Expression: 0 length expression");this._operator=c[e[0]],this._operator?e=e.substring(1):this._operator=c.NUL,this._varSpecList=o(e)}function a(t){for(var n=[],r=0,i=t.indexOf("{",r);-1!==i;){n.push(new e(t.substring(r,i)));var o=t.indexOf("}",i+1);if(-1===o)throw new Error("Invalid template: "+t);n.push(new s(t.substring(i+1,o))),r=o+1,i=t.indexOf("{",r)}return n.push(new e(t.substring(r))),n}function l(e){this._templateComponents=a(e)}var c={NUL:{first:"",sep:",",named:!1,ifemp:"",allow:"U"},"+":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R"},".":{first:".",sep:",",named:!1,ifemp:"",allow:"U"},"/":{first:"/",sep:"/",named:!1,ifemp:"",allow:"U"},";":{first:";",sep:";",named:!0,ifemp:"",allow:"U"},"?":{first:"?",sep:"&",named:!0,ifemp:"=",allow:"U"},"&":{first:"&",sep:"&",named:!0,ifemp:"=",allow:"U"},"#":{first:"#",sep:",",named:!1,ifemp:"",allow:"U+R"},",":{first:"",sep:",",named:!1,ifemp:"",allow:"U+R-,"}},u=/^((?:(?:[a-zA-Z0-9_])|(?:%[0-9A-F][0-9A-F]))(?:(?:[a-zA-Z0-9_.])|(?:%[0-9A-F][0-9A-F]))*)(?:(\*)|:([0-9]+))?$/,p=/%25[0-9A-F][0-9A-F]/g;return e.prototype={expand:function(){return encodeURI(this._text)}},s.prototype={expand:function(e){for(var t=[],o=0;o<this._varSpecList.length;o++){var s=this._varSpecList[o],a=s.name,l=e[a],c=typeof l;if("undefined"!==c&&null!==l){var u=0===t.length?this._operator.first:this._operator.sep;if("string"===c)this._operator.named&&(u+=n(a,"U+R"),u+=0===l.length?this._operator.ifemp:"="),-1!==s.prefix&&s.prefix<l.length&&(l=l.substring(0,s.prefix)),u+=n(l,this._operator.allow);else if(Array.isArray(l)){if(0===l.length)continue;if(s.explode)u+=r(l,this._operator.allow,this._operator.sep);else{var p=r(l,this._operator.allow,",");this._operator.named&&(u+=n(a,"U+R"),u+=0===p.length?this._operator.ifemp:"="),u+=p}}else{if("object"!==c)throw new Error("bad param type: "+a+" : "+c);if(0===Object.keys(l).length)continue;if(s.explode)u+=i(l,this._operator.allow,"=",this._operator.sep);else{var d=i(l,this._operator.allow,",",",");this._operator.named&&(u+=n(a,"U+R"),u+=0===d.length?this._operator.ifemp:"="),u+=d}}t.push(u)}}return t.join("")}},l.prototype={expand:function(e){for(var t=[],n=0;n<this._templateComponents.length;n++)t.push(this._templateComponents[n].expand(e));return t.join("")}},l}),define("webtools/htmlHover",["orion/objects","orion/URITemplate"],function(e,t){function n(e,t){this.htmlAstManager=e,this.resolver=t}return e.mixin(n.prototype,{computeHoverInfo:function(e,t){var n=this;return n.htmlAstManager.getAST(e).then(function(r){return r?e.getLineAtOffset(t.offset).then(function(i){return i>-1?e.getLineStart(i).then(function(o){if(o>-1){var s=t.offset-o;return e.getLineStart(i+1).then(function(e){if(e-=3,t.offset<e){var o=n._findNode(r,i+1,s,r[0]);if(o&&"tag"===o.type&&o.attributes){switch(o.name){case"link":case"script":}}}})}}):null}):null})},_findNode:function(e,t,n,r){for(var i=null,o=0;o<e.length;o++){i=e[o];var s=i.location;if(s.line===t){if(!i.children)return i;if(s.col>n)return r}if(i.children){var a=this._findNode(i.children,t,n,i);if(a)return a}}return null},_getFileHover:function(e,t){if(e){var n=this;return n.resolver.getWorkspaceFile(e,t).then(function(t){return t?n._formatFilesHover(e,t):void 0})}return null},_formatFilesHover:function(e,n){if(e){var r="###Open file for '"+e+"'###",i="";if(Array.isArray(n))for(var o=0;o<n.length;o++){var s=n[o];if(s.name&&s.path&&s.contentType){i+="[",s.contentType.icon&&(i+="!["+s.contentType.name+"]("+s.contentType.icon+")");var a=new t("#{,resource,params*}").expand({resource:s.location,params:{}});i+=s.name+"]("+a+") - "+s.path+"\n\n"}}if(""!==i)return{title:r,content:i,type:"markdown"}}return null},_getColorHover:function(e){var t='<html><body style="background-color: '+e+';"></html>';return{type:"html",content:t,width:"50px",height:"25px"}}}),n.prototype.contructor=n,{HTMLHover:n}}),define("orion/fileMap",[],function(){function e(e,t){for(var n=e[0],r=1;r<e.length-t;r++)n+="/",n+=e[r];var i="";for(r=e.length-t;r<e.length;r++)i+="/",i+=e[r];return{candidate:n,trimmed:i}}function t(t){var r=n[t];if(!r)for(var i=t.split("/"),o=0,s=null;!r&&o<i.length;)s=e(i,o),r=n[s.candidate],o++;return r&&(r="bundles/"+r.source,s&&(r+=s.trimmed)),r}var n={androidapp:{source:"org.eclipse.orion.client.ui/web/androidapp"},auth:{source:"org.eclipse.orion.client.ui/web/auth"},browse:{source:"org.eclipse.orion.client.ui/web/browse"},cfui:{source:"org.eclipse.orion.client.cf/web/cfui"},chai:{source:"org.eclipse.orion.client.core/web/chai"},compare:{source:"org.eclipse.orion.client.ui/web/compare"},"compare-tree":{source:"org.eclipse.orion.client.ui/web/compare-tree"},content:{source:"org.eclipse.orion.client.ui/web/content"},css:{source:"org.eclipse.orion.client.ui/web/css"},csslint:{source:"org.eclipse.orion.client.webtools/web/csslint"},doctrine:{source:"org.eclipse.orion.client.javascript/web/doctrine"},edit:{source:"org.eclipse.orion.client.ui/web/edit"},escope:{source:"org.eclipse.orion.client.javascript/web/escope"},eslint:{source:"org.eclipse.orion.client.javascript/web/eslint"},esprima:{source:"org.eclipse.orion.client.javascript/web/esprima"},estraverse:{source:"org.eclipse.orion.client.javascript/web/estraverse"},examplePages:{source:"org.eclipse.orion.client.ui/web/"},"examples/editor":{source:"org.eclipse.orion.client.editor/web/examples"},font:{source:"org.eclipse.orion.client.ui/web/font"},gcli:{source:"org.eclipse.orion.client.ui/web/gcli"},git:{source:"org.eclipse.orion.client.git/web/git"},help:{source:"org.eclipse.orion.client.help/web/help"},helpContent:{source:"org.eclipse.orion.client.help/web/helpContent"},htmlparser:{source:"org.eclipse.orion.client.webtools/web/htmlparser"},images:{source:"org.eclipse.orion.client.ui/web/images"},javascript:{source:"org.eclipse.orion.client.javascript/web/javascript"},jsdiff:{source:"org.eclipse.orion.client.ui/web/jsdiff"},"js-tests/core":{source:"org.eclipse.orion.client.core/web/js-tests/core"},"js-tests/editor":{source:"org.eclipse.orion.client.editor/web/js-tests/editor"},"js-tests/javascript":{source:"org.eclipse.orion.client.javascript/web/js-tests/javascript"},"js-tests/ui":{source:"org.eclipse.orion.client.ui/web/js-tests/ui"},"js-tests/webtools":{source:"org.eclipse.orion.client.webtools/web/js-tests/webtools"},marked:{source:"org.eclipse.orion.client.ui/web/marked"},mixloginstatic:{source:"org.eclipse.orion.client.ui/web/mixloginstatic"},mocha:{source:"org.eclipse.orion.client.core/web/mocha"},operations:{source:"org.eclipse.orion.client.ui/web/operations"},"orion/cfui":{source:"org.eclipse.orion.client.cf/web/orion/cfui"},"orion/Base64.js":{source:"org.eclipse.orion.client.core/web/orion/Base64.js"},"orion/blameAnnotations.js":{source:"org.eclipse.orion.client.core/web/orion/blameAnnotations.js"},"orion/bootstrap.js":{source:"org.eclipse.orion.client.core/web/orion/bootstrap.js"},"orion/config.js":{source:"org.eclipse.orion.client.core/web/orion/config.js"},"orion/contentTypes.js":{source:"org.eclipse.orion.client.core/web/orion/contentTypes.js"},"orion/Deferred.js":{source:"org.eclipse.orion.client.core/web/orion/Deferred.js"},"orion/encoding-shim.js":{source:"org.eclipse.orion.client.core/web/orion/encoding-shim.js"},"orion/EventTarget.js":{source:"org.eclipse.orion.client.core/web/orion/EventTarget.js"},"orion/fileClient.js":{source:"org.eclipse.orion.client.core/web/orion/fileClient.js"},"orion/fileMap.js":{source:"org.eclipse.orion.client.core/web/orion/fileMap.js"},"orion/fileUtils.js":{source:"org.eclipse.orion.client.core/web/orion/fileUtils.js"},"orion/form.js":{source:"org.eclipse.orion.client.core/web/orion/form.js"},"orion/HTMLTemplates-shim.js":{source:"org.eclipse.orion.client.core/web/orion/HTMLTemplates-shim.js"},"orion/i18n.js":{source:"org.eclipse.orion.client.core/web/orion/i18n.js"},"orion/i18nUtil.js":{source:"org.eclipse.orion.client.core/web/orion/i18nUtil.js"},"orion/keyBinding.js":{source:"org.eclipse.orion.client.core/web/orion/keyBinding.js"},"orion/log.js":{source:"org.eclipse.orion.client.core/web/orion/log.js"},"orion/metatype.js":{source:"org.eclipse.orion.client.core/web/orion/metatype.js"},"orion/objects.js":{source:"org.eclipse.orion.client.core/web/orion/objects.js"},"orion/operation.js":{source:"org.eclipse.orion.client.core/web/orion/operation.js"},"orion/operationsClient.js":{source:"org.eclipse.orion.client.core/web/orion/operationsClient.js"},"orion/plugin.js":{source:"org.eclipse.orion.client.core/web/orion/plugin.js"},"orion/pluginregistry.js":{source:"org.eclipse.orion.client.core/web/orion/pluginregistry.js"},"orion/preferences.js":{source:"org.eclipse.orion.client.core/web/orion/preferences.js"},"orion/problems.js":{source:"org.eclipse.orion.client.core/web/orion/problems.js"},"orion/projectClient.js":{source:"org.eclipse.orion.client.core/web/orion/projectClient.js"},"orion/regex.js":{source:"org.eclipse.orion.client.core/web/orion/regex.js"},"orion/serialize.js":{source:"org.eclipse.orion.client.core/web/orion/serialize.js"},"orion/serviceregistry.js":{source:"org.eclipse.orion.client.core/web/orion/serviceregistry.js"},"orion/serviceTracker.js":{source:"org.eclipse.orion.client.core/web/orion/serviceTracker.js"},"orion/Storage.js":{source:"org.eclipse.orion.client.core/web/orion/Storage.js"},"orion/testHelper.js":{source:"org.eclipse.orion.client.core/web/orion/testHelper.js"},"orion/URITemplate.js":{source:"org.eclipse.orion.client.core/web/orion/URITemplate.js"},"orion/url.js":{source:"org.eclipse.orion.client.core/web/orion/url.js"},"orion/URL-shim.js":{source:"org.eclipse.orion.client.core/web/orion/URL-shim.js"},"orion/util.js":{source:"org.eclipse.orion.client.core/web/orion/util.js"},"orion/xhr.js":{source:"org.eclipse.orion.client.core/web/orion/xhr.js"},"orion/editor":{source:"org.eclipse.orion.client.editor/web/orion/editor"},"orion/git":{source:"org.eclipse.orion.client.git/web/orion/git"},"orion/help":{source:"org.eclipse.orion.client.help/web/orion/help"},"orion/banner":{source:"org.eclipse.orion.client.ui/web/orion/banner"},"orion/compare":{source:"org.eclipse.orion.client.ui/web/orion/compare"},"orion/content":{source:"org.eclipse.orion.client.ui/web/orion/content"},"orion/crawler":{source:"org.eclipse.orion.client.ui/web/orion/crawler"},"orion/edit":{source:"org.eclipse.orion.client.ui/web/orion/edit"},"orion/explorers":{source:"org.eclipse.orion.client.ui/web/orion/explorers"},"orion/globalsearch":{source:"org.eclipse.orion.client.ui/web/orion/globalsearch"},"orion/inputCompletion":{source:"org.eclipse.orion.client.ui/web/orion/inputCompletion"},"orion/mixloginstatic":{source:"org.eclipse.orion.client.ui/web/orion/mixloginstatic"},"orion/navigate":{source:"org.eclipse.orion.client.ui/web/orion/navigate"},"orion/nls":{source:"org.eclipse.orion.client.ui/web/orion/nls"},"orion/operations":{source:"org.eclipse.orion.client.ui/web/orion/operations"},"orion/projects":{source:"org.eclipse.orion.client.ui/web/orion/projects"},"orion/search":{source:"org.eclipse.orion.client.ui/web/orion/search"},"orion/searchAndReplace":{source:"org.eclipse.orion.client.ui/web/orion/searchAndReplace"},"orion/settings":{source:"org.eclipse.orion.client.ui/web/orion/settings"},"orion/shell":{source:"org.eclipse.orion.client.ui/web/orion/shell"},"orion/sites":{source:"org.eclipse.orion.client.ui/web/orion/sites"},"orion/ssh":{source:"org.eclipse.orion.client.ui/web/orion/ssh"},"orion/stringexternalizer":{source:"org.eclipse.orion.client.ui/web/orion/stringexternalizer"},"orion/webui":{source:"org.eclipse.orion.client.ui/web/orion/webui"},"orion/widgets":{source:"org.eclipse.orion.client.ui/web/orion/widgets"},"orion/profile":{source:"org.eclipse.orion.client.users/web/orion/profile"},pako:{source:"org.eclipse.orion.client.core/web/pako"},"plugins/helpPlugin.html":{source:"org.eclipse.orion.client.help/web/plugins/helpPlugin.html"},"plugins/helpPlugin.js":{source:"org.eclipse.orion.client.help/web/plugins/helpPlugin.js"},"plugins/contentTemplates":{source:"org.eclipse.orion.client.ui/web/plugins/contentTemplates"},"plugins/filePlugin":{source:"org.eclipse.orion.client.ui/web/plugins/filePlugin"},"plugins/images":{source:"org.eclipse.orion.client.ui/web/plugins/images"},"plugins/languages":{source:"org.eclipse.orion.client.ui/web/plugins/languages"},"plugins/site":{source:"org.eclipse.orion.client.ui/web/plugins/site"},"plugins/asyncUpperPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/asyncUpperPlugin.html"},"plugins/authenticationPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/authenticationPlugin.html"},"plugins/authenticationPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/authenticationPlugin.js"},"plugins/commentPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/commentPlugin.html"},"plugins/delimiterPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/delimiterPlugin.html"},"plugins/delimiterPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/delimiterPlugin.js"},"plugins/fileClientPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/fileClientPlugin.html"},"plugins/fileClientPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/fileClientPlugin.js"},"plugins/GerritFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/GerritFilePlugin.html"},"plugins/GerritFilePlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/GerritFilePlugin.js"},"plugins/gitBlamePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/gitBlamePlugin.html"},"plugins/gitBlamePlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/gitBlamePlugin.js"},"plugins/GitHubFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/GitHubFilePlugin.html"},"plugins/GitHubFilePlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/GitHubFilePlugin.js"},"plugins/metrics/googleAnalyticsPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/metrics/googleAnalyticsPlugin.js"},"plugins/HoverTestPlugin2.html":{source:"org.eclipse.orion.client.ui/web/plugins/HoverTestPlugin2.html"},"plugins/HoverTestPlugin2.js":{source:"org.eclipse.orion.client.ui/web/plugins/HoverTestPlugin2.js"},"plugins/HTML5LocalFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/HTML5LocalFilePlugin.html"},"plugins/jslintPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/jslintPlugin.html"},"plugins/jslintPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/jslintPlugin.js"},"plugins/lowerPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/lowerPlugin.html"},"plugins/nonnlsPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/nonnlsPlugin.html"},"plugins/nonnlsPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/nonnlsPlugin.js"},"plugins/npmPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/npmPlugin.html"},"plugins/npmPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/npmPlugin.js"},"plugins/pageLinksPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/pageLinksPlugin.html"},"plugins/pageLinksPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/pageLinksPlugin.js"},"plugins/preferencesPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/preferencesPlugin.html"},"plugins/preferencesPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/preferencesPlugin.js"},"plugins/sampleCommandsPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleCommandsPlugin.html"},"plugins/sampleFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleFilePlugin.html"},"plugins/sampleSearchProposalPlugin_filtered.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_filtered.html"},"plugins/sampleSearchProposalPlugin_notFiltered.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_notFiltered.html"},"plugins/sampleSearchProposalPlugin_pageLinks.html":{source:"org.eclipse.orion.client.ui/web/plugins/sampleSearchProposalPlugin_pageLinks.html"},"plugins/taskPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/taskPlugin.html"},"plugins/taskPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/taskPlugin.js"},"plugins/toRGBPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/toRGBPlugin.html"},"plugins/unittestPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/unittestPlugin.html"},"plugins/upperPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/upperPlugin.html"},"plugins/webdavFilePlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/webdavFilePlugin.html"},"plugins/webEditingPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/webEditingPlugin.html"},"plugins/webEditingPlugin.js":{source:"org.eclipse.orion.client.ui/web/plugins/webEditingPlugin.js"},"plugins/xhrPlugin.html":{source:"org.eclipse.orion.client.ui/web/plugins/xhrPlugin.html"},profile:{source:"org.eclipse.orion.client.users/web/profile"},requirejs:{source:"org.eclipse.orion.client.core/web/requirejs"},settings:{source:"org.eclipse.orion.client.ui/web/settings"},shell:{source:"org.eclipse.orion.client.ui/web/shell"},sites:{source:"org.eclipse.orion.client.ui/web/sites"},stringexternalizer:{source:"org.eclipse.orion.client.ui/web/stringexternalizer"},webapp:{source:"org.eclipse.orion.client.ui/web/webapp"},webtools:{source:"org.eclipse.orion.client.webtools/web/webtools"}};return{getWSPath:t}}),function(){function e(e,t,n,r,i,o){t[e]&&(n.push(e),(t[e]===!0||1===t[e])&&r.push(i+e+"/"+o))}function t(e,t,n,r,i){var o=r+t+"/"+i;require._fileExists(e.toUrl(o+".js"))&&n.push(o)}function n(e,t,r){var i;for(i in t)!t.hasOwnProperty(i)||e.hasOwnProperty(i)&&!r?"object"==typeof t[i]&&(!e[i]&&t[i]&&(e[i]={}),n(e[i],t[i],r)):e[i]=t[i]}var r=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(i){var o=i.config?i.config():{};return{version:"2.0.4",load:function(i,s,a,l){l=l||{},l.locale&&(o.locale=l.locale);var c,u,p,d=r.exec(i),h=d[1],f=d[4],m=d[5],g=f.split("-"),v=[],b={},y="";if(d[5]?(h=d[1],c=h+m):(c=i,m=d[4],f=o.locale,f||(f=o.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),g=f.split("-")),l.isBuild){for(v.push(c),t(s,"root",v,h,m),u=0;u<g.length;u++)p=g[u],y+=(y?"-":"")+p,t(s,y,v,h,m);if(l.locales){var _,w;for(_=0;_<l.locales.length;_++)for(f=l.locales[_],g=f.split("-"),y="",w=0;w<g.length;w++)p=g[w],y+=(y?"-":"")+p,t(s,y,v,h,m)}s(v,function(){a()})}else s([c],function(t){var r,i=[];for(e("root",t,i,v,h,m),u=0;u<g.length;u++)r=g[u],y+=(y?"-":"")+r,e(y,t,i,v,h,m);s(v,function(){var e,r,o;for(e=i.length-1;e>-1&&i[e];e--)o=i[e],r=t[o],(r===!0||1===r)&&(r=s(h+o+"/"+m)),n(b,r);a(b)})})}}})}(),define("orion/navigate/nls/messages",{root:!0}),define("orion/navigate/nls/root/messages",{Navigator:"Navigator","Strings Xtrnalizr":"Strings Xtrnalizr","Externalize strings":"Externalize strings from JavaScript files in this folder.",NotSupportFileSystem:"${0} is not supported in this file system",SrcNotSupportBinRead:"Source file service does not support binary read",TargetNotSupportBinWrite:"Target file service does not support binary write",NoFileSrv:"No matching file service for location: ${0}","Choose a Folder":"Choose a Folder","Copy of ${0}":"Copy of ${0}",EnterName:"Enter a new name for '${0}'",ChooseFolder:"Choose folder...",Rename:"Rename",RenameFilesFolders:"Rename the selected files or folders",CompareEach:"Compare with each other","Compare 2 files":"Compare the selected 2 files with each other","Compare with...":"Compare with...",CompareFolders:"Compare the selected folder with a specified folder",Delete:"Delete","Unknown item":"Unknown item","delete item msg":"Are you sure you want to delete these ${0} items?",DeleteTrg:"Are you sure you want to delete '${0}'?",Zip:"Zip",ZipDL:"Create a zip file of the folder contents and download it","New File":"File","Create a new file":"Create a new file","Name:":"Name:","New Folder":"Folder","Folder name:":"Folder name:","Create a new folder":"Create a new folder","Creating folder":"Creating folder",Folder:"Folder","Create an empty folder":"Create an empty folder",CreateEmptyMsg:"Create an empty folder on the Orion server. You can import, upload, or create content in the editor.","Sample HTML5 Site":"Sample HTML5 Site","Generate a sample":"Generate a sample",'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.':'Generate an HTML5 "Hello World" website, including JavaScript, HTML, and CSS files.',"Creating a folder for ${0}":"Creating a folder for ${0}","SFTP Import":"SFTP Import","Import content from SFTP":"Import content from SFTP","Imported Content":"Imported Content","Upload a Zip":"Upload a Zip","Upload content from a local zip file":"Upload content from a local zip file","Uploaded Content":"Uploaded Content","Clone Git Repository":"Clone Git Repository","Clone a git repository":"Clone a git repository","Link to Server":"Link to Server",LinkContent:"Link to existing content on the server",CreateLinkedFolder:"Create a folder that links to an existing folder on the server.","Server path:":"Server path:",NameLocationNotClear:"The name and server location were not specified.","Go Up":"Go Up",GoUpToParent:"Move up to the parent folder","Go Into":"Go Into",GoSelectedFolder:"Move into the selected folder","File or zip archive":"File or zip archive",ImportLcFile:"Import a file or zip archive from your local file system","SFTP from...":"SFTP",CpyFrmSftp:"Copy files and folders from a specified SFTP connection","Importing from ${0}":"Importing from ${0}","SFTP to...":"SFTP",CpyToSftp:"Copy files and folders to a specified SFTP location",Exporting:"Exporting to ${0}","Pasting ${0}":"Pasting ${0}","Copy to":"Copy to","Move to":"Move to","Copying ${0}":"Copying ${0}","Moving ${0}":"Moving ${0}","Renaming ${0}":"Renaming ${0}","Deleting ${0}":"Deleting ${0}","Creating ${0}":"Creating ${0}","Linking to ${0}":"Linking to ${0}",MvToLocation:"Move files and folders to a new location",Cut:"Cut",Copy:"Copy","Fetching children of ":"Fetching children of ",Paste:"Paste","Open With":"Open With","Loading ":"Loading ",New:"New",File:"File",Actions:"Actions","Orion Content":"Orion Content","Create new content":"Create new content","Import from HTTP...":"HTTP","File URL:":"File URL:",ImportURL:"Import a file from a URL and optionally unzip it","Unzip *.zip files:":"Unzip *.zip files:","Extracted from:":"Extracted from:",FolderDropNotSupported:"Did not drop ${0}. Folder drop is not supported in this browser.",CreateFolderErr:"You cannot copy files directly into the workspace. Create a folder first.","Unzip ${0}?":"Unzip ${0}?","Upload progress: ":"Upload progress: ","Uploading ":"Uploading ","Cancel upload":"Cancel upload",UploadingFileErr:"Uploading the following file failed: ","Enter project name:":"Enter project name:","Create new project":"Create new project","Creating project ${0}":"Creating project ${0}",NoFile:"Use the ${0} menu to create new files and folders. Click a file to start coding.",Download:"Download",Download_tooltips:"Download the file contents as the displayed name","Downloading...":"Reading file contents...","Download not supported":"Contents download is not supported in this browser.",gettingContentFrom:"Getting content from ",deletingLaunchConfiguration:"Deleting launch configuration...",deployTo:"Deploy to ",deploy:"Deploy ",connect:"Connect",fetchContent:"Fetch content",fetchContentOf:"Fetch content of ",disconnectFromProject:"Disconnect from project",doNotTreatThisFolder:"Do not treat this folder as a part of the project",checkStatus:"Check status",checkApplicationStatus:"Check application status",checkApplicationState:"Check application state",stop:"Stop",start:"Start",stopApplication:"Stop application",startApplication:"Start application",manage:"Manage",manageThisApplicationOnRemote:"Manage this application on remote server",deleteLaunchConfiguration:"Delete this launch configuration",deployThisApplication:"Deploy this application",associatedFolder:"Associated Folder",associateAFolderFromThe:"Associate a folder from the workspace with this project.",convertToProject:"Convert to project",convertThisFolderIntoA:"Convert this folder into a project",thisFolderIsAProject:"This folder is a project already.",basic:"Basic","createAnEmptyProject.":"Create an empty project.",sFTP:"SFTP",createAProjectFromAn:"Create a project from an SFTP site.",readMeCommandName:"Readme File",readMeCommandTooltip:"Create a README.md file in this project",zipArchiveCommandName:"Zip archive",zipArchiveCommandTooltip:"Create a project from a local zip archive.","Url:":"Url:",notZip:"The following files are not zip files: ${0}. Would you like to continue the import?",notZipMultiple:"There are multiple non-zip files being uploaded. Would you like to continue the import?",Cancel:"Cancel",Ok:"Ok",missingCredentials:"Enter the ${0} authentication credentials associated with ${1} to check its status.",deploying:"deploying",starting:"starting",stopping:"stopping",checkingStateShortMessage:"checking status"}),define("orion/i18nUtil",["require","orion/Deferred"],function(){function e(e){var t=/\$\{([^\}]+)\}/g,n=arguments;return 2===n.length&&n[1]&&"object"==typeof n[1]?e.replace(t,function(e,t){return n[1][t]}):e.replace(t,function(e,t){return n[(t<<0)+1]})}return{formatMessage:e}}),define("orion/fileClient",["i18n!orion/navigate/nls/messages","orion/Deferred","orion/i18nUtil"],function(e,t,n){function r(t,r,i){if(!t[r])throw new Error(n.formatMessage(e.NotSupportFileSystem,r));return t[r].apply(t,i)}function i(n,o,s,a){if(!n.readBlob)throw new Error(e.SrcNotSupportBinRead);
if(!s.writeBlob)throw new Error(e.TargetNotSupportBinWrite);if("/"!==o[o.length-1])return r(n,"readBlob",[o]).then(function(e){return r(s,"writeBlob",[a,e])});var l=a.substring(0,a.length-1),c=decodeURIComponent(l.substring(l.lastIndexOf("/")+1)),u=l.substring(0,l.lastIndexOf("/")+1);return r(s,"createFolder",[u,c]).then(function(){},function(){}).then(function(){return r(n,"fetchChildren",[o]).then(function(e){for(var r=[],o=0;o<e.length;++o){var l=e[o].Location,c=l;e[o].Directory&&(c=l.substring(0,l.length-1));var u=decodeURIComponent(c.substring(c.lastIndexOf("/")+1)),p=a+encodeURIComponent(u);e[o].Directory&&(p+="/"),r[o]=i(n,l,s,p)}return t.all(r)})})}function o(r,i){function o(n){var r=new t;return r.reject(e["No Matching FileService for location:"]+n),r}var s=r.getServiceReferences("orion.core.file"),a=s;if(i){a=[];for(var l=0;l<s.length;++l)i(s[l])&&a.push(s[l])}a.sort(function(e,t){var n=e.getProperty("ranking")||0,r=t.getProperty("ranking")||0;return n-r});for(var c=[],u=[],p=[],d=[],h={fetchChildren:function(){var e=new t;return e.resolve(d),e},createWorkspace:function(){var n=new t;return n.reject(e["no file service"]),n},loadWorkspaces:function(){var n=new t;return n.reject(e["no file service"]),n},loadWorkspace:function(){var n=new t;return window.setTimeout(function(){n.resolve({Directory:!0,Length:0,LocalTimeStamp:0,Name:e["File Servers"],Location:"/",Children:d,ChildrenLocation:"/"})},100),n},search:o,createProject:o,createFolder:o,createFile:o,deleteFile:o,moveFile:o,copyFile:o,read:o,write:o},f=0;f<a.length;++f){d[f]={Directory:!0,Length:0,LocalTimeStamp:0,Location:a[f].getProperty("top"),ChildrenLocation:a[f].getProperty("top"),Name:a[f].getProperty("Name")||a[f].getProperty("NameKey")};var m=a[f].getProperty("pattern")||a[f].getProperty("top").replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1");Array.isArray(m)||(m=[m]);for(var g=[],v=0;v<m.length;v++){var b=m[v];"^"!==b[0]&&(b="^"+b),g.push(new RegExp(b))}c[f]=g,u[f]=r.getService(a[f]),p[f]=a[f].getProperty("Name")||a[f].getProperty("NameKey")}this._getServiceIndex=function(t){if("/"===t)return-1;if(!t||t.length&&0===t.length)return u[0]?0:-1;for(var r=0;r<c.length;++r)for(var i=0;i<c[r].length;i++)if(c[r][i].test(t))return r;throw new Error(n.formatMessage(e.NoFileSrv,t))},this._getService=function(e){var t=this._getServiceIndex(e);return-1===t?h:u[t]},this._getServiceName=function(e){var t=this._getServiceIndex(e);return-1===t?h.Name:p[t]},this._getServiceRootURL=function(e){var t=this._getServiceIndex(e);return-1===t?h.Location:d[t].Location}}return o.prototype={getService:function(e){return this._getService(e)},fileServiceName:function(e){return this._getServiceName(e)},fileServiceRootURL:function(e){return this._getServiceRootURL(e)},fetchChildren:function(e){return r(this._getService(e),"fetchChildren",arguments)},createWorkspace:function(){return r(this._getService(),"createWorkspace",arguments)},loadWorkspaces:function(){return r(this._getService(),"loadWorkspaces",arguments)},loadWorkspace:function(e){return r(this._getService(e),"loadWorkspace",arguments)},createProject:function(e){return r(this._getService(e),"createProject",arguments)},createFolder:function(e){return r(this._getService(e),"createFolder",arguments)},createFile:function(e){return r(this._getService(e),"createFile",arguments)},deleteFile:function(e){return r(this._getService(e),"deleteFile",arguments)},moveFile:function(e,t,n){var o=this._getService(e),s=this._getService(t);if(o===s)return r(o,"moveFile",arguments);var a="/"===e[e.length-1],l=t;if("/"!==l[l.length-1]&&(l+="/"),n)l+=encodeURIComponent(n);else{var c=e;a&&(c=c.substring(0,c.length-1)),l+=c.substring(c.lastIndexOf("/")+1)}return a&&"/"!==l[l.length-1]&&(l+="/"),i(o,e,s,l).then(function(){return r(o,"deleteFile",[e])})},copyFile:function(e,t,n){var o=this._getService(e),s=this._getService(t);if(o===s)return r(o,"copyFile",arguments);var a="/"===e[e.length-1],l=t;if("/"!==l[l.length-1]&&(l+="/"),n)l+=encodeURIComponent(n);else{var c=e;a&&(c=c.substring(0,c.length-1)),l+=c.substring(c.lastIndexOf("/")+1)}return a&&"/"!==l[l.length-1]&&(l+="/"),i(o,e,s,l)},read:function(e){return r(this._getService(e),"read",arguments)},readBlob:function(e){return r(this._getService(e),"readBlob",arguments)},write:function(e){return r(this._getService(e),"write",arguments)},remoteImport:function(e){return r(this._getService(e),"remoteImport",arguments)},remoteExport:function(e){return r(this._getService(e),"remoteExport",arguments)},search:function(e){return r(this._getService(e.resource),"search",arguments)}},o.prototype.constructor=o,{FileClient:o}}),define("javascript/scriptResolver",["orion/objects","orion/Deferred","javascript/lru","orion/fileMap","orion/fileClient"],function(e,t,n,r,i){function o(e){this.bootstrap=e,this.cache=new n.LRU(10)}return e.mixin(o.prototype,{getWorkspaceFile:function(e,n){return e?this._getFile(e,n):(new t).resolve(null)},_getFile:function(e,n){var i=this.cache.get(e);if(i)return(new t).resolve(i);var o=this;return this._getFileClient().then(function(t){var s=n?n:Object.create(null),a=s.ext?s.ext:"js",l=s.icon?s.icon:"../javascript/images/javascript.png",c=s.type?s.type:"JavaScript",u="."+a,p=r.getWSPath(e);if(p||(p=r.getWSPath(e+u)),p&&p.indexOf(u)>-1)return t.loadWorkspace().then(function(n){return i=[o._newFileObj(e,"/file/"+n.Id+"/org.eclipse.orion.client/"+p,o._trimName(p),l,c,t)],o.cache.put(e,i),i});var d=e.replace(/^i18n!/,""),h=d.lastIndexOf("/"),f=d.slice(h+1);return t.search({resource:t.fileServiceRootURL(),keyword:f,sort:"Name asc",nameSearch:!0,fileType:a,start:0,rows:30}).then(function(e){var t=e.response,n=t.docs.length;if(t.numFound>0){i=[];var r=d.replace(/(?:\.?\.\/)*/,"");r=r.replace(new RegExp("\\"+u+"$"),""),r=r.replace(/\//g,"\\/");for(var s=0;n>s;s++){p=t.docs[s];var a=".*(?:"+r+")$";new RegExp(a).test(p.Location.slice(0,p.Location.length-u.length))&&i.push(o._newFileObj(p.Name,p.Location,o._trimName(p.Path),l,c))}if(i.length>0)return o.cache.put(d,i),i}return null})})},convertToURL:function(e){return e?"https://orion.eclipse.org/edit/edit.html#"+e.location:null},_trimName:function(e){return e.replace(/^(?:org\.eclipse\.orion\.client)?(?:\/)?bundles\//,"")},_newFileObj:function(e,t,n,r,i,o){var s=Object.create(null);return s.name=e,s.location=t?t:o.getServiceRootURL()+"/"+n,s.path=n,s.contentType=Object.create(null),r&&(s.contentType.icon=r),i&&(s.contentType.name=i),s},_getFileClient:function(){return this.fileClient?new t.resolve(this.fileClient):this.bootstrap.startup().then(function(e){return this.fileClient=new i.FileClient(e.serviceRegistry),this.fileClient})}}),{ScriptResolver:o}}),define("orion/editor/templates",[],function(){function e(e,t){return t.substring(e.length)}function t(e,t,n,r){this.prefix=e,this.description=t,this.template=n,this.name=r,this._parse()}function n(e,t){this._keywords=e||[],this._templates=[],this.addTemplates(t||[])}var r="${tab}",i="${delimiter}",o="${cursor}";return t.prototype={getProposal:function(e,t,n){var s,a=t-e.length,l={},c=void 0!==n.delimiter?n.delimiter:"\n";n.indentation&&(c+=n.indentation);for(var u=void 0!==n.tab?n.tab:"	",p=0,d=this.variables,h=this.segments,f=[],m=0;m<h.length;m++){var g=h[m],v=d[g];if(void 0!==v)switch(g){case r:g=u;break;case i:g=c;break;case o:g="",s=p;break;default:var b=l[g];b||(b=l[g]={data:v.data,positions:[]}),g=v.substitution,b.data&&b.data.values&&(g=b.data.values[0]),b.positions.push({offset:a+p,length:g.length})}f.push(g),p+=g.length}var y=[];for(var _ in l)l.hasOwnProperty(_)&&y.push(l[_]);return f=f.join(""),void 0===s&&(s=f.length),{proposal:f,name:this.name,description:this.description,groups:y,escapePosition:a+s,style:"noemphasis"}},match:function(e){return 0===this.prefix.indexOf(e)},_parse:function(){var e,t=this.template,n=[],o={},s=0;t=t.replace(/\n/g,i),t=t.replace(/\t/g,r),t.replace(/\$\{((?:[^\\}]+|\\.))*\}/g,function(r,i,a){var l=r.substring(2,r.length-1),c=r,u=l,p=null,d=u.indexOf(":");-1!==d&&(u=u.substring(0,d),c="${"+u+"}",p=JSON.parse(l.substring(d+1).replace("\\}","}").trim()));var h=o[c];return h||(h=o[c]={}),h.substitution=u,p&&(h.data=p),e=t.substring(s,a),e&&n.push(e),n.push(c),s=a+r.length,u}),e=t.substring(s,t.length),e&&n.push(e),this.segments=n,this.variables=o}},n.prototype={addTemplates:function(e){for(var n=this.getTemplates(),r=0;r<e.length;r++)n.push(new t(e[r].prefix,e[r].description,e[r].template,e[r].name))},initialize:function(){},computeProposals:function(e,t,n){var r=this.getPrefix(e,t,n),i=[];return this.isValid(r,e,t,n)&&(i=i.concat(this.getTemplateProposals(r,t,n)),i=i.concat(this.getKeywordProposals(r))),i},getKeywords:function(){return this._keywords},getKeywordProposals:function(t){var n=[],r=this.getKeywords();if(r){for(var i=0;i<r.length;i++)0===r[i].indexOf(t)&&n.push({proposal:e(t,r[i]),description:r[i],style:"noemphasis_keyword"});0<n.length&&n.splice(0,0,{proposal:"",description:"Keywords",style:"noemphasis_title_keywords",unselectable:!0})}return n},getPrefix:function(e,t,n){return n.prefix},getTemplates:function(){return this._templates},getTemplateProposals:function(e,t,n){for(var r=[],i=this.getTemplates(),o=0;o<i.length;o++){var s=i[o];if(s.match(e)){var a=s.getProposal(e,t,n);this.removePrefix(e,a),r.push(a)}}return 0<r.length&&(r.sort(function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}),r.splice(0,0,{proposal:"",description:"Templates",style:"noemphasis_title",unselectable:!0})),r},removePrefix:function(t,n){var r=n.overwrite=n.proposal.substring(0,t.length)!==t;r||(n.proposal=e(t,n.proposal))},isValid:function(){return!0}},{Template:t,TemplateContentAssist:n}}),define("orion/editor/stylers/lib/syntax",[],function(){return{id:"orion.lib",grammars:[{id:"orion.lib",repository:{brace_open:{match:"{",name:"punctuation.section.block.begin"},brace_close:{match:"}",name:"punctuation.section.block.end"},bracket_open:{match:"\\[",name:"punctuation.section.bracket.begin"},bracket_close:{match:"\\]",name:"punctuation.section.bracket.end"},parenthesis_open:{match:"\\(",name:"punctuation.section.parens.begin"},parenthesis_close:{match:"\\)",name:"punctuation.section.parens.end"},doc_block:{begin:{match:"/\\*\\*",literal:"/**"},end:{match:"\\*/",literal:"*/"},name:"comment.block.documentation",patterns:[{match:"@(?:(?!\\*/)\\S)*",name:"meta.documentation.annotation"},{match:"<[^\\s>]*>",name:"meta.documentation.tag"},{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]},number_decimal:{match:"\\b-?(?:\\.\\d+|\\d+\\.?\\d*)(?:[eE][+-]?\\d+)?\\b",name:"constant.numeric.number"},number_hex:{match:"\\b0[xX][0-9A-Fa-f]+\\b",name:"constant.numeric.hex"},string_doubleQuote:{match:'"(?:\\\\.|[^"])*"?',name:"string.quoted.double"},string_singleQuote:{match:"'(?:\\\\.|[^'])*'?",name:"string.quoted.single"},todo_comment_singleLine:{match:"(\\b)(TODO)(\\b)(.*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}}},{id:"orion.c-like",repository:{comment_singleLine:{match:{match:"//.*",literal:"//"},name:"comment.line.double-slash",patterns:[{include:"orion.lib#todo_comment_singleLine"}]},comment_block:{begin:{match:"/\\*",literal:"/*"},end:{match:"\\*/",literal:"*/"},name:"comment.block",patterns:[{match:"(\\b)(TODO)(\\b)(((?!\\*/).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.block"}}}]}}}],keywords:[]}}),define("orion/editor/stylers/application_javascript/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=["class","const","debugger","delete","enum","export","extends","function","implements","import","in","instanceof","interface","let","new","package","private","protected","public","static","super","typeof","var","void","with"],n=["break","case","catch","continue","default","do","else","finally","for","if","return","switch","throw","try","while","yield"],r=["false","null","true","undefined"],i=[];return i.push.apply(i,e.grammars),i.push({id:"orion.js",contentTypes:["application/javascript"],patterns:[{begin:"'(?:\\\\.|[^\\\\'])*\\\\$",end:"^(?:$|(?:\\\\.|[^\\\\'])*('|[^\\\\]$))",name:"string.quoted.single.js"},{begin:'"(?:\\\\.|[^\\\\"])*\\\\$',end:'^(?:$|(?:\\\\.|[^\\\\"])*("|[^\\\\]$))',name:"string.quoted.double.js"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},{include:"orion.c-like#comment_singleLine"},{match:"/(?![\\s\\*])(?:\\\\.|[^/])+/(?:[gim]{0,3})",name:"string.regexp.js"},{include:"orion.lib#doc_block"},{include:"orion.c-like#comment_block"},{include:"#jsFunctionDef"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#number_decimal"},{include:"orion.lib#number_hex"},{match:"\\b(?:"+t.join("|")+")\\b",name:"keyword.operator.js"},{match:"\\b(?:"+n.join("|")+")\\b",name:"keyword.control.js"},{match:"\\b(?:"+r.join("|")+")\\b",name:"constant.language.js"},{match:"\\bthis\\b",name:"variable.language.js"}],repository:{jsFunctionDef:{begin:"(function)(\\s+[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(",end:"\\)",captures:{1:{name:"keyword.operator.js"},2:{name:"entity.name.function.js"}},patterns:[{include:"orion.c-like#comment_singleLine"},{include:"orion.c-like#comment_block"},{match:"[^\\s,]+",name:"variable.parameter.js"}]}}}),{id:i[i.length-1].id,grammars:i,keywords:t.concat(n)}}),define("orion/editor/stylers/text_css/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=["alignment-adjust","alignment-baseline","animation-delay","animation-direction","animation-duration","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","animation","appearance","azimuth","backface-visibility","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","background","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-bottom","border-collapse","border-color","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-image","border-left-color","border-left-style","border-left-width","border-left","border-radius","border-right-color","border-right-style","border-right-width","border-right","border-spacing","border-style","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-top","border-width","border","bottom","box-align","box-decoration-break","box-direction","box-flex-group","box-flex","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color-profile","color","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue-after","cue-before","cue","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit-position","fit","flex-align","flex-flow","flex-inline-pack","flex-order","flex-pack","float-offset","float","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","font","grid-columns","grid-rows","hanging-punctuation","height","hyphenate-after","hyphenate-before","hyphenate-character","hyphenate-lines","hyphenate-resource","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","left","letter-spacing","line-height","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","line-stacking","list-style-image","list-style-position","list-style-type","list-style","margin-bottom","margin-left","margin-right","margin-top","margin","mark-after","mark-before","mark","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","opacity","orphans","outline-color","outline-offset","outline-style","outline-width","outline","overflow-style","overflow-x","overflow-y","overflow","padding-bottom","padding-left","padding-right","padding-top","padding","page-break-after","page-break-before","page-break-inside","page-policy","page","pause-after","pause-before","pause","perspective-origin","perspective","phonemes","pitch-range","pitch","play-during","position","presentation-level","punctuation-trim","quotes","rendering-intent","resize","rest-after","rest-before","rest","richness","right","rotation-point","rotation","ruby-align","ruby-overhang","ruby-position","ruby-span","size","speak-header","speak-numeral","speak-punctuation","speak","speech-rate","stress","string-set","table-layout","target-name","target-new","target-position","target","text-align-last","text-align","text-decoration","text-emphasis","text-height","text-indent","text-justify","text-outline","text-shadow","text-transform","text-wrap","top","transform-origin","transform-style","transform","transition-delay","transition-duration","transition-property","transition-timing-function","transition","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch-range","voice-pitch","voice-rate","voice-stress","voice-volume","volume","white-space-collapse","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"],n=[];return n.push.apply(n,e.grammars),n.push({id:"orion.css",contentTypes:["text/css"],patterns:[{begin:"'(?:\\\\.|[^\\\\'])*\\\\$",end:"^(?:$|(?:\\\\.|[^\\\\'])*('|[^\\\\]$))",name:"string.quoted.single.css"},{begin:'"(?:\\\\.|[^\\\\"])*\\\\$',end:'^(?:$|(?:\\\\.|[^\\\\"])*("|[^\\\\]$))',name:"string.quoted.double.css"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"},{include:"orion.c-like#comment_block"},{include:"orion.lib#brace_open"},{include:"orion.lib#brace_close"},{include:"orion.lib#bracket_open"},{include:"orion.lib#bracket_close"},{include:"orion.lib#parenthesis_open"},{include:"orion.lib#parenthesis_close"},{include:"orion.lib#number_decimal"},{include:"#number_hex"},{match:"(?i)\\b-?(?:\\.\\d+|\\d+\\.?\\d*)(?:%|em|ex|ch|rem|vw|vh|vmin|vmax|in|cm|mm|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?\\b",name:"constant.numeric.value.css"},{match:"(?:-webkit-|-moz-|-ms-|-o-|\\b)(?:"+t.join("|")+")\\b",name:"support.type.propertyName.css"}],repository:{number_hex:{match:"#[0-9A-Fa-f]+\\b",name:"constant.numeric.hex.css"}}}),{id:n[n.length-1].id,grammars:n,keywords:t}}),define("orion/editor/stylers/application_xml/syntax",["orion/editor/stylers/lib/syntax"],function(e){var t=[];return t.push.apply(t,e.grammars),t.push({id:"orion.xml",contentTypes:["application/xml","application/xhtml+xml"],patterns:[{include:"#comment"},{include:"#doctype"},{include:"#xmlDeclaration"},{include:"#tag"},{include:"#ampersandEscape"}],repository:{ampersandEscape:{match:"&lt;|&gt;|&amp;",name:"constant.character"},comment:{begin:{match:"<!--",literal:"<!--"},end:{match:"-->",literal:"-->"},name:"comment.block.xml",patterns:[{match:"(\\b)(TODO)(\\b)(((?!-->).)*)",name:"meta.annotation.task.todo",captures:{2:{name:"keyword.other.documentation.task"},4:{name:"comment.line"}}}]},doctype:{begin:"<!(?:doctype|DOCTYPE)",end:">",name:"meta.tag.doctype.xml",captures:{0:{name:"meta.tag.doctype.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},tag:{begin:"</?[A-Za-z0-9]+",end:"/?>",captures:{0:{name:"meta.tag.xml"}},name:"meta.tag.xml",patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}]},xmlDeclaration:{begin:"<\\?xml",end:"\\?>",captures:{0:{name:"meta.tag.declaration.xml"}},patterns:[{include:"#comment"},{include:"orion.lib#string_doubleQuote"},{include:"orion.lib#string_singleQuote"}],name:"meta.tag.declaration.xml"}}}),{id:t[t.length-1].id,grammars:t,keywords:[]}}),define("orion/editor/stylers/text_html/syntax",["orion/editor/stylers/application_javascript/syntax","orion/editor/stylers/text_css/syntax","orion/editor/stylers/application_xml/syntax"],function(e,t,n){var r=[];return r.push.apply(r,e.grammars),r.push.apply(r,t.grammars),r.push.apply(r,n.grammars),r.push({id:"orion.html",contentTypes:["text/html"],patterns:[{begin:"(?i)(<style)([^>]*)(>)",end:"(?i)(</style>)",captures:{1:{name:"meta.tag.html"},3:{name:"meta.tag.html"}},contentName:"source.css.embedded.html",patterns:[{include:"orion.css"}]},{begin:"(?i)<script\\s*>|<script\\s.*?(?:language\\s*=\\s*(['\"])javascript\\1|type\\s*=\\s*(['\"])(?:text|application)/(?:javascript|ecmascript)\\2).*?>",end:"(?i)</script>",captures:{0:{name:"meta.tag.html"}},contentName:"source.js.embedded.html",patterns:[{include:"orion.js"}]},{include:"orion.xml#comment"},{include:"orion.xml#doctype"},{include:"orion.xml#tag"},{include:"orion.xml#ampersandEscape"}]}),{id:r[r.length-1].id,grammars:r,keywords:[]}}),define("webtools/htmlContentAssist",["orion/editor/templates","orion/editor/stylers/text_html/syntax"],function(e,t){function n(){}var r,i,o,s,a=new e.Template("","Simple HTML document",'<!DOCTYPE html>\n<html lang="en">\n	<head>\n		<meta charset=utf-8>\n		<title>${title}</title>\n	</head>\n	<body>\n		<h1>${header}</h1>\n		<p>\n			${cursor}\n		</p>\n	</body>\n</html>'),l=[{prefix:"<img",name:"<img>",description:" - HTML image element",template:'<img src="${URI}" alt="${Image}"/>'},{prefix:"<a",name:"<a>",description:" - HTML anchor element",template:'<a href="${cursor}"></a>'},{prefix:"<ul",name:"<ul>",description:" - HTML unordered list",template:"<ul>\n	<li>${cursor}</li>\n</ul>"},{prefix:"<ol",name:"<ol>",description:" - HTML ordered list",template:"<ol>\n	<li>${cursor}</li>\n</ol>"},{prefix:"<dl",name:"<dl>",description:" - HTML definition list",template:"<dl>\n	<dt>${cursor}</dt>\n	<dd></dd>\n</dl>"},{prefix:"<table",name:"<table>",description:" - basic HTML table",template:"<table>\n	<tr>\n		<td>${cursor}</td>\n	</tr>\n</table>"},{prefix:"<!--",name:"<!-- -->",description:" - HTML comment",template:"<!-- ${cursor} -->"}],c=["abbr","b","button","canvas","cite","command","dd","del","dfn","dt","em","embed","font","h1","h2","h3","h4","h5","h6","i","ins","kbd","label","li","mark","meter","object","option","output","progress","q","rp","rt","samp","small","strong","sub","sup","td","time","title","tt","u","var"];for(s=0;s<c.length;s++)r=c[s],o="<"+r+"></"+r+">",i="<"+r+">${cursor}</"+r+">",l.push({prefix:"<"+r,description:o,template:i});var u=["address","article","aside","audio","bdo","blockquote","body","caption","code","colgroup","datalist","details","div","fieldset","figure","footer","form","head","header","hgroup","iframe","legend","map","menu","nav","noframes","noscript","optgroup","p","pre","ruby","script","section","select","span","style","tbody","textarea","tfoot","th","thead","tr","video"];for(s=0;s<u.length;s++)r=u[s],o="<"+r+"></"+r+">",i="<"+r+">\n	${cursor}\n</"+r+">",l.push({prefix:"<"+r,description:o,template:i});var p=["area","base","br","col","hr","input","link","meta","param","keygen","source"];for(s=0;s<p.length;s++)r=p[s],i=o="<"+r+"/>",l.push({prefix:"<"+r,description:o,template:i});return n.prototype=new e.TemplateContentAssist(t.keywords,l),n.prototype.getPrefix=function(e,t){for(var n="",r=t;r&&/[A-Za-z0-9<!-]/.test(e.charAt(r-1));)r--,n=e.substring(r,t);return n},n.prototype.computeProposals=function(t,n,r){if(0===t.length)return[a.getProposal("",n,r)];var i=e.TemplateContentAssist.prototype.computeProposals.call(this,t,n,r);return i.sort(function(e,t){var n=e.prefix||e.proposal,r=t.prefix||t.proposal;return n?r?n.toLowerCase().localeCompare(r.toLowerCase()):1:-1})},{HTMLContentAssistProvider:n}}),define("webtools/htmlOutliner",["orion/objects"],function(e){function t(e){this.htmlAstManager=e}return e.mixin(t.prototype,{computeOutline:function(e){var t=this;return t.htmlAstManager.getAST(e).then(function(e){return t.domToOutline(e)})},domToLabel:function(e){var t=e.name,n=/id=['"]\S*["']/.exec(e.raw);return n&&(t=t+" "+n[0]),n=/class=['"]\S*["']/.exec(e.raw),n&&(t=t+" "+n[0]),t},domToOutline:function(e){if(!e)return null;for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!this.skip(r)){var i={label:this.domToLabel(r),children:this.domToOutline(r.children),line:r.location.line,offset:r.location.col,length:r.name.length};t.push(i)}}return t.length>0?t:null},skip:function(e){return e.name?"b"===e.name||"i"===e.name||"em"===e.name?!0:"p"===e.name||"tt"===e.name||"code"===e.name||"blockquote"===e.name?!0:"a"===e.name?!0:!1:!0},findBody:function(e){for(var t=0;t<e.length;t++){if("body"===e[t].name)return e[t].children;if(e[t].children){var n=this.findBody(e[t].children);if(n)return n}}return null}}),{HtmlOutliner:t}}),define("webtools/cssContentAssist",["orion/editor/templates","orion/editor/stylers/text_css/syntax"],function(e,t){function n(e){return JSON.stringify(e).replace("}","\\}")}function r(){}var i={type:"link",values:["visible","hidden","scroll","auto","no-display","no-content"]},o={type:"link",values:["italic","normal","oblique","inherit"]},s={type:"link",values:["bold","normal","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit"]},a={type:"link",values:["none","block","box","flex","inline","inline-block","inline-flex","inline-table","list-item","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","inherit"]},l={type:"link",values:["hidden","visible","collapse","inherit"]},c={type:"link",values:["absolute","fixed","relative","static","inherit"]},u={type:"link",values:["pre","pre-line","pre-wrap","nowrap","normal","inherit"]},p={type:"link",values:["normal","break-word"]},d={type:"link",values:["left","right","none","inherit"]},h={type:"link",values:["solid","dashed","dotted","double","groove","ridge","inset","outset"]},f={type:"link",values:[]};f.values.push("0");for(var m=1;10>m;m++)f.values.push(m.toString()+"px");var g,v={type:"link",values:["black","white","red","green","blue","magenta","yellow","cyan","grey","darkred","darkgreen","darkblue","darkmagenta","darkcyan","darkyellow","darkgray","lightgray"]},b={type:"link",values:["auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","progress","s-resize","se-resize","sw-resize","text","w-resize","wait","inherit"]},y={type:"link",values:["adjoining-classes","box-model","box-sizing","bulletproof-font-face","compatible-vendor-prefixes","display-property-grouping","duplicate-background-images","duplicate-properties","empty-rules","fallback-colors","floats","font-faces","font-sizes","gradients","ids","import","important","known-properties","outline-none","overqualified-elements","qualified-headings","regex-selectors","rules-count","selector-max-approaching","selector-max","shorthand","star-property-hack","text-indent","underscore-property-hack","unique-headings","universal-selector","unqualified-attributes","vendor-prefix","zero-units"]},_={type:"link",values:["false","true","0","1","2"]},w=[{prefix:"rule",description:"rule - class selector rule",template:".${class} {\n	${cursor}\n}"},{prefix:"rule",description:"rule - id selector rule",template:"#${id} {\n	${cursor}\n}"},{prefix:"outline",description:"outline - outline style",template:"outline: ${color:"+n(v)+"} ${style:"+n(h)+"} ${width:"+n(f)+"};"},{prefix:"background-image",description:"background-image - image style",template:'background-image: url("${uri}");'},{prefix:"url",description:"url - url image",template:'url("${uri}");'},{prefix:"rgb",description:"rgb - rgb color",template:"rgb(${red},${green},${blue});"},{prefix:"@import",description:"import - import style sheet",template:'@import "${uri}";'},{prefix:"csslint",description:"csslint - add embedded rule severity",template:"/*csslint ${:"+n(y)+"}: ${a:"+n(_)+"} */"}],k=[{prop:"display",values:a},{prop:"overflow",values:i},{prop:"overflow-x",values:i},{prop:"overflow-y",values:i},{prop:"float",values:d},{prop:"position",values:c},{prop:"cursor",values:b},{prop:"color",values:v},{prop:"border-top-color",values:v},{prop:"border-bottom-color",values:v},{prop:"border-right-color",values:v},{prop:"border-left-color",values:v},{prop:"background-color",values:v},{prop:"font-style",values:o},{prop:"font-weight",values:s},{prop:"white-space",values:u},{prop:"word-wrap",values:p},{prop:"visibility",values:l}];for(m=0;m<k.length;m++)g=k[m],w.push({prefix:g.prop,description:g.prop+" - "+g.prop+" style",template:g.prop+": ${value:"+n(g.values)+"};"});var T=["width","height","top","bottom","left","right","min-width","min-height","max-width","max-height","margin","padding","padding-left","padding-right","padding-top","padding-bottom","margin-left","margin-top","margin-bottom","margin-right"];for(m=0;m<T.length;m++)g=T[m],w.push({prefix:g,description:g+" - "+g+" pixel style",template:g+": ${value}px;"});var x=["padding","margin"];for(m=0;m<x.length;m++)g=x[m],w.push({prefix:g,description:g+" - "+g+" top right bottom left style",template:g+": ${top}px ${left}px ${bottom}px ${right}px;"}),w.push({prefix:g,description:g+" - "+g+" top right,left bottom style",template:g+": ${top}px ${right_left}px ${bottom}px;"}),w.push({prefix:g,description:g+" - "+g+" top,bottom right,left style",template:g+": ${top_bottom}px ${right_left}px"});var S=["border","border-top","border-bottom","border-left","border-right"];for(m=0;m<S.length;m++)g=S[m],w.push({prefix:g,description:g+" - "+g+" style",template:g+": ${width:"+n(f)+"} ${style:"+n(h)+"} ${color:"+n(v)+"};"});return r.prototype=new e.TemplateContentAssist(t.keywords,w),r.prototype.getPrefix=function(e,t){for(var n=t;n&&/[A-Za-z\-\@]/.test(e.charAt(n-1));)n--;return n>=0?e.substring(n,t):""},{CssContentAssistProvider:r}}),define("webtools/cssValidator",["orion/objects"],function(e){function t(e){this.cssResultManager=e}var n={rules:{"adjoining-classes":1,"box-model":1,"box-sizing":1,"bulletproof-font-face":1,"compatible-vendor-prefixes":1,"display-property-grouping":1,"duplicate-background-images":1,"duplicate-properties":1,"empty-rules":1,"fallback-colors":1,floats:1,"font-faces":1,"font-sizes":1,gradients:1,ids:1,"import":1,important:1,"known-properties":1,"outline-none":1,"overqualified-elements":1,"qualified-headings":1,"regex-selectors":1,"rules-count":1,"selector-max-approaching":1,"selector-max":1,shorthand:1,"star-property-hack":1,"text-indent":1,"underscore-property-hack":1,"unique-headings":1,"universal-selector":1,"unqualified-attributes":1,"vendor-prefix":1,"zero-units":1},getRuleSet:function(){return JSON.parse(JSON.stringify(this.rules))},setOption:function(e,t,n){if("number"==typeof t)if(Array.isArray(this.rules[e])){var r=this.rules[e];n?(r[1]=r[1]||{},r[1][n]=t):r[0]=t}else this.rules[e]=t}};return e.mixin(t.prototype,{computeProblems:function(e){var t=this;return t.cssResultManager.getResult(e,n).then(function(e){return e?t._computeProblems(e):null})},_computeProblems:function(e){for(var t=e.messages,n=[],r=0;r<t.length;r++){var i=t[r];if(i.line){var o=this._getProblemRange(i),s={id:this._getProblemId(i),description:i.message,line:i.line,start:o.start,end:o.end,severity:i.type};n.push(s)}}return{problems:n}},_getProblemId:function(e){return e.rule&&e.rule.id?e.rule.id:null},_getProblemRange:function(e){if(!e.rule||!e.rule.id||"errors"===e.rule.id)return{start:1,end:e.evidence.length+1};
var t=this._findToken(e.evidence,e.col),n=e.col+(t?t.length:1);return{start:e.col,end:n}},_punc:"\n	\r (){}[]:;,",_findToken:function(e,t){if(e&&t){for(var n=this._punc.indexOf(e.charAt(t))>-1,r=n?t-1:t;r>=0&&!(this._punc.indexOf(e.charAt(r))>-1);)r--;var i=r;for(r=t;r<=e.length&&!(this._punc.indexOf(e.charAt(r))>-1);)r++;return(i===t||n&&i===t-1)&&r===t?null:i===t?e.substring(i,r):e.substring(i+1,r)}return null},updated:function(e){e&&(n.setOption("adjoining-classes",e.validate_adjoining_classes),n.setOption("box-model",e.validate_box_model),n.setOption("box-sizing",e.validate_box_sizing),n.setOption("compatible-vendor-prefixes",e.validate_compatible_vendor_prefixes),n.setOption("display-property-grouping",e.validate_display_property_grouping),n.setOption("duplicate-background-images",e.validate_duplicate_background_images),n.setOption("duplicate-properties",e.validate_duplicate_properties),n.setOption("empty-rules",e.validate_empty_rules),n.setOption("fallback-colors",e.validate_fallback_colors),n.setOption("floats",e.validate_floats),n.setOption("font-faces",e.validate_font_faces),n.setOption("font-sizes",e.validate_font_sizes),n.setOption("gradients",e.validate_gradients),n.setOption("ids",e.validate_ids),n.setOption("import",e.validate_imports),n.setOption("important",e.validate_important),n.setOption("known-properties",e.validate_known_properties),n.setOption("outline-none",e.validate_outline_none),n.setOption("overqualified-elements",e.validate_overqualified_elements),n.setOption("qualified-headings",e.validate_qualified_headings),n.setOption("regex-selectors",e.validate_regex_selectors),n.setOption("rules-count",e.validate_rules_count),n.setOption("selector-max-approaching",e.validate_selector_max_approaching),n.setOption("selector-max",e.validate_selector_max),n.setOption("shorthand",e.validate_shorthand),n.setOption("star-property-hack",e.validate_star_property_hack),n.setOption("text-indent",e.validate_text_indent),n.setOption("underscore-property-hack",e.validate_underscore_property_hack),n.setOption("unique-headings",e.validate_unique_headings),n.setOption("universal-selector",e.validate_universal_selector),n.setOption("unqualified-attributes",e.validate_unqualified_attributes),n.setOption("vendor-prefix",e.validate_vendor_prefix),n.setOption("zero-units",e.validate_zero_units))},_enableOnly:function(e,t){n.archivedRules={};for(var r=Object.keys(n.rules),i=0;i<r.length;i++)e?r[i]===e?(n.archivedRules[e]=n.rules[e],n.setOption(e,t?t:2)):(n.archivedRules[r[i]]=n.rules[e],n.setOption(r[i],0)):(n.archivedRules[r[i]]=n.rules[e],n.setOption(r[i],t?t:2))},_restoreRules:function(){n.archivedRules&&(n.rules=n.archivedRules,n.archivedRules=void 0)},_defaultRuleSet:function(){return n.getRuleSet()}}),t}),define("csslint",[],function(){var exports=exports||{},cssLint=function(){function Reporter(e,t){this.messages=[],this.stats=[],this.lines=e,this.ruleset=t}var parserlib={};!function(){function e(){this._listeners={}}function t(e){this._input=e,this._line=1,this._col=1,this._cursor=0}function n(e,t,n){this.col=n,this.line=t,this.message=e}function r(e,t,n,r){this.col=n,this.line=t,this.text=e,this.type=r}function i(e,n){this._reader=e?new t(e.toString()):null,this._token=null,this._tokenData=n,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}e.prototype={constructor:e,addListener:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)},fire:function(e){if("string"==typeof e&&(e={type:e}),"undefined"!=typeof e.target&&(e.target=this),"undefined"==typeof e.type)throw new Error("Event object missing 'type' property.");if(this._listeners[e.type])for(var t=this._listeners[e.type].concat(),n=0,r=t.length;r>n;n++)t[n].call(this,e)},removeListener:function(e,t){if(this._listeners[e])for(var n=this._listeners[e],r=0,i=n.length;i>r;r++)if(n[r]===t){n.splice(r,1);break}}},t.prototype={constructor:t,getCol:function(){return this._col},getLine:function(){return this._line},getCursor:function(){return this._cursor},eof:function(){return this._cursor==this._input.length},peek:function(e){var t=null;return e="undefined"==typeof e?1:e,this._cursor<this._input.length&&(t=this._input.charAt(this._cursor+e-1)),t},read:function(){var e=null;if(this._cursor<this._input.length){"\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++;var t=this._cursor++;e=this._input.charAt(t);{this._input.charCodeAt(t)}}return e},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(e){for(var t,n="";n.length<e.length||n.lastIndexOf(e)!=n.length-e.length;){if(t=this.read(),!t)throw new Error('Expected "'+e+'" at line '+this._line+", col "+this._col+".");n+=t}return n},readWhile:function(e){for(var t="",n=this.read();null!==n&&e(n);)t+=n,n=this.read();return t},readMatch:function(e){var t=this._input.substring(this._cursor),n=null;return"string"==typeof e?0===t.indexOf(e)&&(n=this.readCount(e.length)):e instanceof RegExp&&e.test(t)&&(n=this.readCount(RegExp.lastMatch.length)),n},readCount:function(e){for(var t="";e--;)t+=this.read();return t}},n.prototype=new Error,r.fromToken=function(e){return new r(e.value,e.startLine,e.startCol)},r.prototype={constructor:r,valueOf:function(){return this.toString()},toString:function(){return this.text}},i.createTokenData=function(e){var t=[],n={},r=e.concat([]),i=0,o=r.length+1;for(r.UNKNOWN=-1,r.unshift({name:"EOF"});o>i;i++)t.push(r[i].name),r[r[i].name]=i,r[i].text&&(n[r[i].text]=i);return r.name=function(e){return t[e]},r.type=function(e){return n[e]},r},i.prototype={constructor:i,tokens:[],match:function(e,t){e instanceof Array||(e=[e]);for(var n=this.get(t),r=0,i=e.length;i>r;)if(n==e[r++])return!0;return this.unget(),!1},mustMatch:function(e){var t;if(e instanceof Array||(e=[e]),!this.match.apply(this,arguments))throw t=this.LT(1),new n("Expected "+this._tokenData[e[0]].name+" at line "+t.startLine+", col "+t.startCol+".",t.startLine,t.startCol)},advance:function(e,t){for(;0!==this.LA(0)&&!this.match(e,t);)this.get();return this.LA(0)},get:function(e){{var t,n,r=this._tokenData,i=(this._reader,0);r.length}if(this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],n=r[this._token.type];void 0!==n.channel&&e!==n.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],n=r[this._token.type],i++;if((void 0===n.channel||e===n.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return t=this._getToken(),t.type>-1&&!r[t.type].hide&&(t.channel=r[t.type].channel,this._token=t,this._lt.push(t),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),n=r[t.type],n&&(n.hide||void 0!==n.channel&&e!==n.channel)?this.get(e):t.type},LA:function(e){var t,n=e;if(e>0){if(e>5)throw new Error("Too much lookahead.");for(;n;)t=this.get(),n--;for(;e>n;)this.unget(),n++}else if(0>e){if(!this._lt[this._ltIndex+e])throw new Error("Too much lookbehind.");t=this._lt[this._ltIndex+e].type}else t=this._token.type;return t},LT:function(e){return this.LA(e),this._lt[this._ltIndex+e-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(e){return 0>e||e>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[e].name},tokenType:function(e){return this._tokenData[e]||-1},unget:function(){if(!this._ltIndexCache.length)throw new Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:t,SyntaxError:n,SyntaxUnit:r,EventTarget:e,TokenStreamBase:i}}(),function(){function Combinator(e,t,n){SyntaxUnit.call(this,e,t,n,Parser.COMBINATOR_TYPE),this.type="unknown",/^\s+$/.test(e)?this.type="descendant":">"==e?this.type="child":"+"==e?this.type="adjacent-sibling":"~"==e&&(this.type="sibling")}function MediaFeature(e,t){SyntaxUnit.call(this,"("+e+(null!==t?":"+t:"")+")",e.startLine,e.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=e,this.value=t}function MediaQuery(e,t,n,r,i){SyntaxUnit.call(this,(e?e+" ":"")+(t?t:"")+(t&&n.length>0?" and ":"")+n.join(" and "),r,i,Parser.MEDIA_QUERY_TYPE),this.modifier=e,this.mediaType=t,this.features=n}function Parser(e){EventTarget.call(this),this.options=e||{},this._tokenStream=null}function PropertyName(e,t,n,r){SyntaxUnit.call(this,e,n,r,Parser.PROPERTY_NAME_TYPE),this.hack=t}function PropertyValue(e,t,n){SyntaxUnit.call(this,e.join(" "),t,n,Parser.PROPERTY_VALUE_TYPE),this.parts=e}function PropertyValueIterator(e){this._i=0,this._parts=e.parts,this._marks=[],this.value=e}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\-]?[\d\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vm":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\-]?[\d\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\-]?\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\-]?[\d\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\(\s*(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*,\s*([\d\.]+)\s*\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\(["']?([^\)"']+)["']?\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\(]+)\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["'][^"']*["']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\,\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\-\u0080-\uFFFF][a-z0-9\-\u0080-\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(e,t,n){SyntaxUnit.call(this,e.join(" "),t,n,Parser.SELECTOR_TYPE),this.parts=e,this.specificity=Specificity.calculate(this)}function SelectorPart(e,t,n,r,i){SyntaxUnit.call(this,n,r,i,Parser.SELECTOR_PART_TYPE),this.elementName=e,this.modifiers=t}function SelectorSubPart(e,t,n,r){SyntaxUnit.call(this,e,n,r,Parser.SELECTOR_SUB_PART_TYPE),this.type=t,this.args=[]}function Specificity(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r}function isHexDigit(e){return null!==e&&h.test(e)}function isDigit(e){return null!==e&&/\d/.test(e)}function isWhitespace(e){return null!==e&&/\s/.test(e)}function isNewLine(e){return null!==e&&nl.test(e)}function isNameStart(e){return null!==e&&/[a-z_\u0080-\uFFFF\\]/i.test(e)}function isNameChar(e){return null!==e&&(isNameStart(e)||/[0-9\-\\]/.test(e))}function isIdentStart(e){return null!==e&&(isNameStart(e)||/\-\\/.test(e))}function mix(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function TokenStream(e){TokenStreamBase.call(this,e,Tokens),this.tokens=[]}function ValidationError(e,t,n){this.col=n,this.line=t,this.message=e}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};parserlib.util.Colors=Colors,Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var e,t=new EventTarget,n={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var e,t,n,r=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();r.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;r.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(n=r.peek();n>Tokens.EOF;){try{switch(n){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(r.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",r.LT(0).startLine,r.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+r.LT(0).value+".",line:r.LT(0).startLine,col:r.LT(0).startCol}),e=0;r.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)e++;for(;e;)r.advance([Tokens.RBRACE]),e--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(n){case Tokens.CHARSET_SYM:throw t=r.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",t.startLine,t.startCol);case Tokens.IMPORT_SYM:throw t=r.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",t.startLine,t.startCol);case Tokens.NAMESPACE_SYM:throw t=r.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",t.startLine,t.startCol);default:r.get(),this._unexpectedToken(r.token())}}}catch(i){if(!(i instanceof SyntaxError)||this.options.strict)throw i;this.fire({type:"error",error:i,message:i.message,line:i.line,col:i.col})}n=r.peek()}n!=Tokens.EOF&&this._unexpectedToken(r.token()),this.fire("endstylesheet")},_charset:function(e){var t,n,r,i,o=this._tokenStream;o.match(Tokens.CHARSET_SYM)&&(r=o.token().startLine,i=o.token().startCol,this._readWhitespace(),o.mustMatch(Tokens.STRING),n=o.token(),t=n.value,this._readWhitespace(),o.mustMatch(Tokens.SEMICOLON),e!==!1&&this.fire({type:"charset",charset:t,line:r,col:i}))},_import:function(e){var t,n,r=this._tokenStream,i=[];r.mustMatch(Tokens.IMPORT_SYM),n=r.token(),this._readWhitespace(),r.mustMatch([Tokens.STRING,Tokens.URI]),t=r.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1"),this._readWhitespace(),i=this._media_query_list(),r.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),e!==!1&&this.fire({type:"import",uri:t,media:i,line:n.startLine,col:n.startCol})},_namespace:function(e){var t,n,r,i,o=this._tokenStream;o.mustMatch(Tokens.NAMESPACE_SYM),t=o.token().startLine,n=o.token().startCol,this._readWhitespace(),o.match(Tokens.IDENT)&&(r=o.token().value,this._readWhitespace()),o.mustMatch([Tokens.STRING,Tokens.URI]),i=o.token().value.replace(/(?:url\()?["']([^"']+)["']\)?/,"$1"),this._readWhitespace(),o.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),e!==!1&&this.fire({type:"namespace",prefix:r,uri:i,line:t,col:n})},_media:function(){var e,t,n,r=this._tokenStream;for(r.mustMatch(Tokens.MEDIA_SYM),e=r.token().startLine,t=r.token().startCol,this._readWhitespace(),n=this._media_query_list(),r.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:n,line:e,col:t});;)if(r.peek()==Tokens.PAGE_SYM)this._page();else if(r.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(!this._ruleset())break;r.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:n,line:e,col:t})},_media_query_list:function(){var e=this._tokenStream,t=[];for(this._readWhitespace(),(e.peek()==Tokens.IDENT||e.peek()==Tokens.LPAREN)&&t.push(this._media_query());e.match(Tokens.COMMA);)this._readWhitespace(),t.push(this._media_query());return t},_media_query:function(){var e=this._tokenStream,t=null,n=null,r=null,i=[];if(e.match(Tokens.IDENT)&&(n=e.token().value.toLowerCase(),"only"!=n&&"not"!=n?(e.unget(),n=null):r=e.token()),this._readWhitespace(),e.peek()==Tokens.IDENT?(t=this._media_type(),null===r&&(r=e.token())):e.peek()==Tokens.LPAREN&&(null===r&&(r=e.LT(1)),i.push(this._media_expression())),null===t&&0===i.length)return null;for(this._readWhitespace();e.match(Tokens.IDENT);)"and"!=e.token().value.toLowerCase()&&this._unexpectedToken(e.token()),this._readWhitespace(),i.push(this._media_expression());return new MediaQuery(n,t,i,r.startLine,r.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var e,t=this._tokenStream,n=null,r=null;return t.mustMatch(Tokens.LPAREN),n=this._media_feature(),this._readWhitespace(),t.match(Tokens.COLON)&&(this._readWhitespace(),e=t.LT(1),r=this._expression()),t.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(n,r?new SyntaxUnit(r,e.startLine,e.startCol):null)},_media_feature:function(){var e=this._tokenStream;return e.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(e.token())},_page:function(){var e,t,n=this._tokenStream,r=null,i=null;n.mustMatch(Tokens.PAGE_SYM),e=n.token().startLine,t=n.token().startCol,this._readWhitespace(),n.match(Tokens.IDENT)&&(r=n.token().value,"auto"===r.toLowerCase()&&this._unexpectedToken(n.token())),n.peek()==Tokens.COLON&&(i=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:r,pseudo:i,line:e,col:t}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:r,pseudo:i,line:e,col:t})},_margin:function(){var e,t,n=this._tokenStream,r=this._margin_sym();return r?(e=n.token().startLine,t=n.token().startCol,this.fire({type:"startpagemargin",margin:r,line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:r,line:e,col:t}),!0):!1},_margin_sym:function(){var e=this._tokenStream;return e.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(e.token()):null},_pseudo_page:function(){var e=this._tokenStream;return e.mustMatch(Tokens.COLON),e.mustMatch(Tokens.IDENT),e.token().value},_font_face:function(){var e,t,n=this._tokenStream;n.mustMatch(Tokens.FONT_FACE_SYM),e=n.token().startLine,t=n.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endfontface",line:e,col:t})},_viewport:function(){var e,t,n=this._tokenStream;n.mustMatch(Tokens.VIEWPORT_SYM),e=n.token().startLine,t=n.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:e,col:t}),this._readDeclarations(!0),this.fire({type:"endviewport",line:e,col:t})},_operator:function(e){var t=this._tokenStream,n=null;return(t.match([Tokens.SLASH,Tokens.COMMA])||e&&t.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(n=t.token(),this._readWhitespace()),n?PropertyValuePart.fromToken(n):null},_combinator:function(){var e,t=this._tokenStream,n=null;return t.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(e=t.token(),n=new Combinator(e.value,e.startLine,e.startCol),this._readWhitespace()),n},_unary_operator:function(){var e=this._tokenStream;return e.match([Tokens.MINUS,Tokens.PLUS])?e.token().value:null},_property:function(){var e,t,n,r,i=this._tokenStream,o=null,s=null;return i.peek()==Tokens.STAR&&this.options.starHack&&(i.get(),t=i.token(),s=t.value,n=t.startLine,r=t.startCol),i.match(Tokens.IDENT)&&(t=i.token(),e=t.value,"_"==e.charAt(0)&&this.options.underscoreHack&&(s="_",e=e.substring(1)),o=new PropertyName(e,s,n||t.startLine,r||t.startCol),this._readWhitespace()),o},_ruleset:function(){var e,t,n=this._tokenStream;try{t=this._selectors_group()}catch(r){if(!(r instanceof SyntaxError)||this.options.strict)throw r;if(this.fire({type:"error",error:r,message:r.message,line:r.line,col:r.col}),e=n.advance([Tokens.RBRACE]),e!=Tokens.RBRACE)throw r;return!0}return t&&(this.fire({type:"startrule",selectors:t,line:t[0].line,col:t[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:t,line:t[0].line,col:t[0].col})),t},_selectors_group:function(){var e,t=this._tokenStream,n=[];if(e=this._selector(),null!==e)for(n.push(e);t.match(Tokens.COMMA);)this._readWhitespace(),e=this._selector(),null!==e?n.push(e):this._unexpectedToken(t.LT(1));return n.length?n:null},_selector:function(){var e=this._tokenStream,t=[],n=null,r=null,i=null;if(n=this._simple_selector_sequence(),null===n)return null;for(t.push(n);;)if(r=this._combinator(),null!==r)t.push(r),n=this._simple_selector_sequence(),null===n?this._unexpectedToken(e.LT(1)):t.push(n);else{if(!this._readWhitespace())break;i=new Combinator(e.token().value,e.token().startLine,e.token().startCol),r=this._combinator(),n=this._simple_selector_sequence(),null===n?null!==r&&this._unexpectedToken(e.LT(1)):(t.push(null!==r?r:i),t.push(n))}return new Selector(t,t[0].line,t[0].col)},_simple_selector_sequence:function(){var e,t,n=this._tokenStream,r=null,i=[],o="",s=[function(){return n.match(Tokens.HASH)?new SelectorSubPart(n.token().value,"id",n.token().startLine,n.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],a=0,l=s.length,c=null;for(e=n.LT(1).startLine,t=n.LT(1).startCol,r=this._type_selector(),r||(r=this._universal()),null!==r&&(o+=r);;){if(n.peek()===Tokens.S)break;for(;l>a&&null===c;)c=s[a++].call(this);if(null===c){if(""===o)return null;break}a=0,i.push(c),o+=c.toString(),c=null}return""!==o?new SelectorPart(r,i,o,e,t):null},_type_selector:function(){var e=this._tokenStream,t=this._namespace_prefix(),n=this._element_name();return n?(t&&(n.text=t+n.text,n.col-=t.length),n):(t&&(e.unget(),t.length>1&&e.unget()),null)},_class:function(){var e,t=this._tokenStream;return t.match(Tokens.DOT)?(t.mustMatch(Tokens.IDENT),e=t.token(),new SelectorSubPart("."+e.value,"class",e.startLine,e.startCol-1)):null},_element_name:function(){var e,t=this._tokenStream;return t.match(Tokens.IDENT)?(e=t.token(),new SelectorSubPart(e.value,"elementName",e.startLine,e.startCol)):null},_namespace_prefix:function(){var e=this._tokenStream,t="";return(e.LA(1)===Tokens.PIPE||e.LA(2)===Tokens.PIPE)&&(e.match([Tokens.IDENT,Tokens.STAR])&&(t+=e.token().value),e.mustMatch(Tokens.PIPE),t+="|"),t.length?t:null},_universal:function(){var e,t=this._tokenStream,n="";return e=this._namespace_prefix(),e&&(n+=e),t.match(Tokens.STAR)&&(n+="*"),n.length?n:null},_attrib:function(){var e,t,n=this._tokenStream,r=null;return n.match(Tokens.LBRACKET)?(t=n.token(),r=t.value,r+=this._readWhitespace(),e=this._namespace_prefix(),e&&(r+=e),n.mustMatch(Tokens.IDENT),r+=n.token().value,r+=this._readWhitespace(),n.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(r+=n.token().value,r+=this._readWhitespace(),n.mustMatch([Tokens.IDENT,Tokens.STRING]),r+=n.token().value,r+=this._readWhitespace()),n.mustMatch(Tokens.RBRACKET),new SelectorSubPart(r+"]","attribute",t.startLine,t.startCol)):null},_pseudo:function(){var e,t,n=this._tokenStream,r=null,i=":";return n.match(Tokens.COLON)&&(n.match(Tokens.COLON)&&(i+=":"),n.match(Tokens.IDENT)?(r=n.token().value,e=n.token().startLine,t=n.token().startCol-i.length):n.peek()==Tokens.FUNCTION&&(e=n.LT(1).startLine,t=n.LT(1).startCol-i.length,r=this._functional_pseudo()),r&&(r=new SelectorSubPart(i+r,"pseudo",e,t))),r},_functional_pseudo:function(){var e=this._tokenStream,t=null;return e.match(Tokens.FUNCTION)&&(t=e.token().value,t+=this._readWhitespace(),t+=this._expression(),e.mustMatch(Tokens.RPAREN),t+=")"),t},_expression:function(){for(var e=this._tokenStream,t="";e.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)t+=e.token().value,t+=this._readWhitespace();return t.length?t:null},_negation:function(){var e,t,n,r=this._tokenStream,i="",o=null;return r.match(Tokens.NOT)&&(i=r.token().value,e=r.token().startLine,t=r.token().startCol,i+=this._readWhitespace(),n=this._negation_arg(),i+=n,i+=this._readWhitespace(),r.match(Tokens.RPAREN),i+=r.token().value,o=new SelectorSubPart(i,"not",e,t),o.args.push(n)),o},_negation_arg:function(){var e,t,n,r=this._tokenStream,i=[this._type_selector,this._universal,function(){return r.match(Tokens.HASH)?new SelectorSubPart(r.token().value,"id",r.token().startLine,r.token().startCol):null},this._class,this._attrib,this._pseudo],o=null,s=0,a=i.length;for(e=r.LT(1).startLine,t=r.LT(1).startCol;a>s&&null===o;)o=i[s].call(this),s++;return null===o&&this._unexpectedToken(r.LT(1)),n="elementName"==o.type?new SelectorPart(o,[],o.toString(),e,t):new SelectorPart(null,[o],o.toString(),e,t)},_declaration:function(){var e=this._tokenStream,t=null,n=null,r=null,i=null,o="";if(t=this._property(),null!==t){e.mustMatch(Tokens.COLON),this._readWhitespace(),n=this._expr(),n&&0!==n.length||this._unexpectedToken(e.LT(1)),r=this._prio(),o=t.toString(),(this.options.starHack&&"*"==t.hack||this.options.underscoreHack&&"_"==t.hack)&&(o=t.text);try{this._validateProperty(o,n)
}catch(s){i=s}return this.fire({type:"property",property:t,value:n,important:r,line:t.line,col:t.col,invalid:i}),!0}return!1},_prio:function(){var e=this._tokenStream,t=e.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),t},_expr:function(e){var t=(this._tokenStream,[]),n=null,r=null;if(n=this._term(),null!==n)for(t.push(n);;){if(r=this._operator(e),r&&t.push(r),n=this._term(),null===n)break;t.push(n)}return t.length>0?new PropertyValue(t,t[0].line,t[0].col):null},_term:function(){var e,t,n,r=this._tokenStream,i=null,o=null;return i=this._unary_operator(),null!==i&&(t=r.token().startLine,n=r.token().startCol),r.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(o=this._ie_function(),null===i&&(t=r.token().startLine,n=r.token().startCol)):r.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(o=r.token().value,null===i&&(t=r.token().startLine,n=r.token().startCol),this._readWhitespace()):(e=this._hexcolor(),null===e?(null===i&&(t=r.LT(1).startLine,n=r.LT(1).startCol),null===o&&(o=r.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(o=e.value,null===i&&(t=e.startLine,n=e.startCol))),null!==o?new PropertyValuePart(null!==i?i+o:o,t,n):null},_function:function(){var e,t=this._tokenStream,n=null,r=null;if(t.match(Tokens.FUNCTION)){if(n=t.token().value,this._readWhitespace(),r=this._expr(!0),n+=r,this.options.ieFilters&&t.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(n+=t.token().value),t.LA(0)==Tokens.COMMA&&(n+=t.token().value),t.match(Tokens.IDENT),n+=t.token().value,t.match(Tokens.EQUALS),n+=t.token().value,e=t.peek();e!=Tokens.COMMA&&e!=Tokens.S&&e!=Tokens.RPAREN;)t.get(),n+=t.token().value,e=t.peek();while(t.match([Tokens.COMMA,Tokens.S]));t.match(Tokens.RPAREN),n+=")",this._readWhitespace()}return n},_ie_function:function(){var e,t=this._tokenStream,n=null;if(t.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){n=t.token().value;do for(this._readWhitespace()&&(n+=t.token().value),t.LA(0)==Tokens.COMMA&&(n+=t.token().value),t.match(Tokens.IDENT),n+=t.token().value,t.match(Tokens.EQUALS),n+=t.token().value,e=t.peek();e!=Tokens.COMMA&&e!=Tokens.S&&e!=Tokens.RPAREN;)t.get(),n+=t.token().value,e=t.peek();while(t.match([Tokens.COMMA,Tokens.S]));t.match(Tokens.RPAREN),n+=")",this._readWhitespace()}return n},_hexcolor:function(){var e,t=this._tokenStream,n=null;if(t.match(Tokens.HASH)){if(n=t.token(),e=n.value,!/#[a-f0-9]{3,6}/i.test(e))throw new SyntaxError("Expected a hex color but found '"+e+"' at line "+n.startLine+", col "+n.startCol+".",n.startLine,n.startCol);this._readWhitespace()}return n},_keyframes:function(){var e,t,n,r=this._tokenStream,i="";for(r.mustMatch(Tokens.KEYFRAMES_SYM),e=r.token(),/^@\-([^\-]+)\-/.test(e.value)&&(i=RegExp.$1),this._readWhitespace(),n=this._keyframe_name(),this._readWhitespace(),r.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:n,prefix:i,line:e.startLine,col:e.startCol}),this._readWhitespace(),t=r.peek();t==Tokens.IDENT||t==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),t=r.peek();this.fire({type:"endkeyframes",name:n,prefix:i,line:e.startLine,col:e.startCol}),this._readWhitespace(),r.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var e=this._tokenStream;return e.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(e.token())},_keyframe_rule:function(){var e=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:e,line:e[0].line,col:e[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:e,line:e[0].line,col:e[0].col})},_key_list:function(){var e=this._tokenStream,t=[];for(t.push(this._key()),this._readWhitespace();e.match(Tokens.COMMA);)this._readWhitespace(),t.push(this._key()),this._readWhitespace();return t},_key:function(){var e,t=this._tokenStream;if(t.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(t.token());if(t.match(Tokens.IDENT)){if(e=t.token(),/from|to/i.test(e.value))return SyntaxUnit.fromToken(e);t.unget()}this._unexpectedToken(t.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(e,t){var n,r=this._tokenStream;this._readWhitespace(),e&&r.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(r.match(Tokens.SEMICOLON)||t&&this._margin());else{if(!this._declaration())break;if(!r.match(Tokens.SEMICOLON))break}this._readWhitespace()}r.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(i){if(!(i instanceof SyntaxError)||this.options.strict)throw i;if(this.fire({type:"error",error:i,message:i.message,line:i.line,col:i.col}),n=r.advance([Tokens.SEMICOLON,Tokens.RBRACE]),n==Tokens.SEMICOLON)this._readDeclarations(!1,t);else if(n!=Tokens.RBRACE)throw i}},_readWhitespace:function(){for(var e=this._tokenStream,t="";e.match(Tokens.S);)t+=e.token().value;return t},_unexpectedToken:function(e){throw new SyntaxError("Unexpected token '"+e.value+"' at line "+e.startLine+", col "+e.startCol+".",e.startLine,e.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(e,t){Validation.validate(e,t)},parse:function(e){this._tokenStream=new TokenStream(e,Tokens),this._stylesheet()},parseStyleSheet:function(e){return this.parse(e)},parseMediaQuery:function(e){this._tokenStream=new TokenStream(e,Tokens);var t=this._media_query();return this._verifyEnd(),t},parsePropertyValue:function(e){this._tokenStream=new TokenStream(e,Tokens),this._readWhitespace();var t=this._expr();return this._readWhitespace(),this._verifyEnd(),t},parseRule:function(e){this._tokenStream=new TokenStream(e,Tokens),this._readWhitespace();var t=this._ruleset();return this._readWhitespace(),this._verifyEnd(),t},parseSelector:function(e){this._tokenStream=new TokenStream(e,Tokens),this._readWhitespace();var t=this._selector();return this._readWhitespace(),this._verifyEnd(),t},parseStyleAttribute:function(e){e+="}",this._tokenStream=new TokenStream(e,Tokens),this._readDeclarations()}};for(e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}();var Properties={"alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | alternate",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | alternate",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | alternate",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | alternate",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | alternate",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(e){var t,n="<angle> | leftwards | rightwards | inherit",r="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",i=!1,o=!1;if(ValidationTypes.isAny(e,n)||(ValidationTypes.isAny(e,"behind")&&(i=!0,o=!0),ValidationTypes.isAny(e,r)&&(o=!0,i||ValidationTypes.isAny(e,"behind"))),e.hasNext())throw t=e.next(),o?new ValidationError("Expected end of value but found '"+t+"'.",t.line,t.col):new ValidationError("Expected (<'azimuth'>) but found '"+t+"'.",t.line,t.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(e){var t,n=!1,r="<number> | <percentage>",i=!1,o=0,s=4;for(ValidationTypes.isAny(e,"fill")&&(i=!0,n=!0);e.hasNext()&&s>o&&(n=ValidationTypes.isAny(e,r));)o++;if(i?n=!0:ValidationTypes.isAny(e,"fill"),e.hasNext())throw t=e.next(),n?new ValidationError("Expected end of value but found '"+t+"'.",t.line,t.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found '"+t+"'.",t.line,t.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(e){for(var t,n=!1,r="<length> | <percentage> | inherit",i=!1,o=0,s=8;e.hasNext()&&s>o;){if(n=ValidationTypes.isAny(e,r),!n){if(!("/"==e.peek()&&o>0)||i)break;i=!0,s=o+5,e.next()}o++}if(e.hasNext())throw t=e.next(),n?new ValidationError("Expected end of value but found '"+t+"'.",t.line,t.col):new ValidationError("Expected (<'border-radius'>) but found '"+t+"'.",t.line,t.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","box-align":"start | end | center | baseline | stretch","box-decoration-break":"slice |clone","box-direction":"normal | reverse | inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single | multiple","box-ordinal-group":"<integer>","box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","box-pack":"start | end | center | justify","box-shadow":function(e){var t;if(ValidationTypes.isAny(e,"none")){if(e.hasNext())throw t=e.next(),new ValidationError("Expected end of value but found '"+t+"'.",t.line,t.col)}else Validation.multiProperty("<shadow>",e,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | box | inline-box | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,"float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | none | inherit","max-width":"<length> | <percentage> | none | inherit","min-height":"<length> | <percentage> | inherit","min-width":"<length> | <percentage> | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | bidi-override | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":1,"z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(e){return this.hasNext()?this._parts[this._i+(e||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(e){return new PropertyValuePart(e.value,e.startLine,e.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(e){return 0===e.indexOf("::")||Pseudos[e.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(e){var t,n,r=["a","b","c","d"];for(t=0,n=r.length;n>t;t++){if(this[r[t]]<e[r[t]])return-1;if(this[r[t]]>e[r[t]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(e){function t(e){var n,r,i,l,c,u=e.elementName?e.elementName.text:"";for(u&&"*"!=u.charAt(u.length-1)&&a++,n=0,i=e.modifiers.length;i>n;n++)switch(c=e.modifiers[n],c.type){case"class":case"attribute":s++;break;case"id":o++;break;case"pseudo":Pseudos.isElement(c.text)?a++:s++;break;case"not":for(r=0,l=c.args.length;l>r;r++)t(c.args[r])}}var n,r,i,o=0,s=0,a=0;for(n=0,r=e.parts.length;r>n;n++)i=e.parts[n],i instanceof SelectorPart&&t(i);return new Specificity(0,o,s,a)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\u0080-\uFFFF]$/,nl=/\n|\r\n|\r|\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var e,t=this._reader,n=null,r=t.getLine(),i=t.getCol();for(start=t.getCursor(),e=t.read();e;){switch(e){case"/":n="*"==t.peek()?this.commentToken(e,r,i):this.charToken(e,r,i);break;case"|":case"~":case"^":case"$":case"*":n="="==t.peek()?this.comparisonToken(e,r,i):this.charToken(e,r,i);break;case'"':case"'":n=this.stringToken(e,r,i);break;case"#":n=isNameChar(t.peek())?this.hashToken(e,r,i):this.charToken(e,r,i);break;case".":n=isDigit(t.peek())?this.numberToken(e,r,i):this.charToken(e,r,i);break;case"-":n="-"==t.peek()?this.htmlCommentEndToken(e,r,i):isNameStart(t.peek())?this.identOrFunctionToken(e,r,i):this.charToken(e,r,i);break;case"!":n=this.importantToken(e,r,i);break;case"@":n=this.atRuleToken(e,r,i);break;case":":n=this.notToken(e,r,i);break;case"<":n=this.htmlCommentStartToken(e,r,i);break;case"U":case"u":if("+"==t.peek()){n=this.unicodeRangeToken(e,r,i);break}default:n=isDigit(e)?this.numberToken(e,r,i):isWhitespace(e)?this.whitespaceToken(e,r,i):isIdentStart(e)?this.identOrFunctionToken(e,r,i):this.charToken(e,r,i)}break}if(n||null!==e||(n=this.createToken(Tokens.EOF,null,r,i)),n.type!==Tokens.S){var o=Object.create(null);o.type=Tokens.name(n.type),o.value=n.value,o.range=[start,t.getCursor()],this.tokens.push(o)}return n},createToken:function(e,t,n,r,i){var o=this._reader;return i=i||{},{value:t,type:e,channel:i.channel,hide:i.hide||!1,startLine:n,startCol:r,endLine:o.getLine(),endCol:o.getCol()}},atRuleToken:function(e,t,n){var r,i=e,o=this._reader,s=Tokens.CHAR;return o.mark(),r=this.readName(),i=e+r,s=Tokens.type(i.toLowerCase()),(s==Tokens.CHAR||s==Tokens.UNKNOWN)&&(i.length>1?s=Tokens.UNKNOWN_SYM:(s=Tokens.CHAR,i=e,o.reset())),this.createToken(s,i,t,n)},charToken:function(e,t,n){var r=Tokens.type(e);return-1==r&&(r=Tokens.CHAR),this.createToken(r,e,t,n)},commentToken:function(e,t,n){var r=(this._reader,this.readComment(e));return this.createToken(Tokens.COMMENT,r,t,n)},comparisonToken:function(e,t,n){var r=this._reader,i=e+r.read(),o=Tokens.type(i)||Tokens.CHAR;return this.createToken(o,i,t,n)},hashToken:function(e,t,n){var r=(this._reader,this.readName(e));return this.createToken(Tokens.HASH,r,t,n)},htmlCommentStartToken:function(e,t,n){var r=this._reader,i=e;return r.mark(),i+=r.readCount(3),"<!--"==i?this.createToken(Tokens.CDO,i,t,n):(r.reset(),this.charToken(e,t,n))},htmlCommentEndToken:function(e,t,n){var r=this._reader,i=e;return r.mark(),i+=r.readCount(2),"-->"==i?this.createToken(Tokens.CDC,i,t,n):(r.reset(),this.charToken(e,t,n))},identOrFunctionToken:function(e,t,n){var r=this._reader,i=this.readName(e),o=Tokens.IDENT;return"("==r.peek()?(i+=r.read(),"url("==i.toLowerCase()?(o=Tokens.URI,i=this.readURI(i),"url("==i.toLowerCase()&&(o=Tokens.FUNCTION)):o=Tokens.FUNCTION):":"==r.peek()&&"progid"==i.toLowerCase()&&(i+=r.readTo("("),o=Tokens.IE_FUNCTION),this.createToken(o,i,t,n)},importantToken:function(e,t,n){var r,i,o=this._reader,s=e,a=Tokens.CHAR;for(o.mark(),i=o.read();i;){if("/"==i){if("*"!=o.peek())break;if(r=this.readComment(i),""===r)break}else{if(!isWhitespace(i)){if(/i/i.test(i)){r=o.readCount(8),/mportant/i.test(r)&&(s+=i+r,a=Tokens.IMPORTANT_SYM);break}break}s+=i+this.readWhitespace()}i=o.read()}return a==Tokens.CHAR?(o.reset(),this.charToken(e,t,n)):this.createToken(a,s,t,n)},notToken:function(e,t,n){var r=this._reader,i=e;return r.mark(),i+=r.readCount(4),":not("==i.toLowerCase()?this.createToken(Tokens.NOT,i,t,n):(r.reset(),this.charToken(e,t,n))},numberToken:function(e,t,n){var r,i=this._reader,o=this.readNumber(e),s=Tokens.NUMBER,a=i.peek();return isIdentStart(a)?(r=this.readName(i.read()),o+=r,s=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vm$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(r)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(r)?Tokens.ANGLE:/^ms$|^s$/i.test(r)?Tokens.TIME:/^hz$|^khz$/i.test(r)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(r)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==a&&(o+=i.read(),s=Tokens.PERCENTAGE),this.createToken(s,o,t,n)},stringToken:function(e,t,n){for(var r=e,i=e,o=this._reader,s=e,a=Tokens.STRING,l=o.read();l&&(i+=l,l!=r||"\\"==s);){if(isNewLine(o.peek())&&"\\"!=l){a=Tokens.INVALID;break}s=l,l=o.read()}return null===l&&(a=Tokens.INVALID),this.createToken(a,i,t,n)},unicodeRangeToken:function(e,t,n){var r,i=this._reader,o=e,s=Tokens.CHAR;return"+"==i.peek()&&(i.mark(),o+=i.read(),o+=this.readUnicodeRangePart(!0),2==o.length?i.reset():(s=Tokens.UNICODE_RANGE,-1==o.indexOf("?")&&"-"==i.peek()&&(i.mark(),r=i.read(),r+=this.readUnicodeRangePart(!1),1==r.length?i.reset():o+=r))),this.createToken(s,o,t,n)},whitespaceToken:function(e,t,n){var r=(this._reader,e+this.readWhitespace());return this.createToken(Tokens.S,r,t,n)},readUnicodeRangePart:function(e){for(var t=this._reader,n="",r=t.peek();isHexDigit(r)&&n.length<6;)t.read(),n+=r,r=t.peek();if(e)for(;"?"==r&&n.length<6;)t.read(),n+=r,r=t.peek();return n},readWhitespace:function(){for(var e=this._reader,t="",n=e.peek();isWhitespace(n);)e.read(),t+=n,n=e.peek();return t},readNumber:function(e){for(var t=this._reader,n=e,r="."==e,i=t.peek();i;){if(isDigit(i))n+=t.read();else{if("."!=i)break;if(r)break;r=!0,n+=t.read()}i=t.peek()}return n},readString:function(){for(var e=this._reader,t=e.read(),n=t,r=t,i=e.peek();i&&(i=e.read(),n+=i,i!=t||"\\"==r);){if(isNewLine(e.peek())&&"\\"!=i){n="";break}r=i,i=e.peek()}return null===i&&(n=""),n},readURI:function(e){var t=this._reader,n=e,r="",i=t.peek();for(t.mark();i&&isWhitespace(i);)t.read(),i=t.peek();for(r="'"==i||'"'==i?this.readString():this.readURL(),i=t.peek();i&&isWhitespace(i);)t.read(),i=t.peek();return""===r||")"!=i?(n=e,t.reset()):n+=r+t.read(),n},readURL:function(){for(var e=this._reader,t="",n=e.peek();/^[!#$%&\\*-~]$/.test(n);)t+=e.read(),n=e.peek();return t},readName:function(e){for(var t=this._reader,n=e||"",r=t.peek();;)if("\\"==r)n+=this.readEscape(t.read()),r=t.peek();else{if(!r||!isNameChar(r))break;n+=t.read(),r=t.peek()}return n},readEscape:function(e){var t=this._reader,n=e||"",r=0,i=t.peek();if(isHexDigit(i))do n+=t.read(),i=t.peek();while(i&&isHexDigit(i)&&++r<6);return 3==n.length&&/\s/.test(i)||7==n.length||1==n.length?t.read():i="",n+i},readComment:function(e){var t=this._reader,n=e||"",r=t.read();if("*"==r){for(;r;){if(n+=r,n.length>2&&"*"==r&&"/"==t.peek()){n+=t.read();break}r=t.read()}return n}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:"@viewport"},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];
!function(){var e=[],t={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var n=0,r=Tokens.length;r>n;n++)if(e.push(Tokens[n].name),Tokens[Tokens[n].name]=n,Tokens[n].text)if(Tokens[n].text instanceof Array)for(var i=0;i<Tokens[n].text.length;i++)t[Tokens[n].text[i]]=n;else t[Tokens[n].text]=n;Tokens.name=function(t){return e[t]},Tokens.type=function(e){return t[e]||-1}}();var Validation={validate:function(e,t){var n=e.toString().toLowerCase(),r=(t.parts,new PropertyValueIterator(t)),i=Properties[n];if(i)"number"!=typeof i&&("string"==typeof i?i.indexOf("||")>-1?this.groupProperty(i,r):this.singleProperty(i,r,1):i.multi?this.multiProperty(i.multi,r,i.comma,i.max||1/0):"function"==typeof i&&i(r));else if(0!==n.indexOf("-"))throw new ValidationError("Unknown property '"+e+"'.",e.line,e.col)},singleProperty:function(e,t,n){for(var r,i=!1,o=t.value,s=0;t.hasNext()&&n>s&&(i=ValidationTypes.isAny(t,e));)s++;if(!i)throw t.hasNext()&&!t.isFirst()?(r=t.peek(),new ValidationError("Expected end of value but found '"+r+"'.",r.line,r.col)):new ValidationError("Expected ("+e+") but found '"+o+"'.",o.line,o.col);if(t.hasNext())throw r=t.next(),new ValidationError("Expected end of value but found '"+r+"'.",r.line,r.col)},multiProperty:function(e,t,n,r){for(var i,o=!1,s=t.value,a=0;t.hasNext()&&!o&&r>a&&ValidationTypes.isAny(t,e);)if(a++,t.hasNext()){if(n){if(","!=t.peek())break;i=t.next()}}else o=!0;if(!o)throw t.hasNext()&&!t.isFirst()?(i=t.peek(),new ValidationError("Expected end of value but found '"+i+"'.",i.line,i.col)):(i=t.previous(),n&&","==i?new ValidationError("Expected end of value but found '"+i+"'.",i.line,i.col):new ValidationError("Expected ("+e+") but found '"+s+"'.",s.line,s.col));if(t.hasNext())throw i=t.next(),new ValidationError("Expected end of value but found '"+i+"'.",i.line,i.col)},groupProperty:function(e,t){for(var n,r,i=!1,o=t.value,s=e.split("||").length,a={count:0},l=!1;t.hasNext()&&!i&&(n=ValidationTypes.isAnyOfGroup(t,e))&&!a[n];)a[n]=1,a.count++,l=!0,a.count!=s&&t.hasNext()||(i=!0);if(!i)throw l&&t.hasNext()?(r=t.peek(),new ValidationError("Expected end of value but found '"+r+"'.",r.line,r.col)):new ValidationError("Expected ("+e+") but found '"+o+"'.",o.line,o.col);if(t.hasNext())throw r=t.next(),new ValidationError("Expected end of value but found '"+r+"'.",r.line,r.col)}};ValidationError.prototype=new Error;var ValidationTypes={isLiteral:function(e,t){var n,r,i=e.text.toString().toLowerCase(),o=t.split(" | "),s=!1;for(n=0,r=o.length;r>n&&!s;n++)i==o[n].toLowerCase()&&(s=!0);return s},isSimple:function(e){return!!this.simple[e]},isComplex:function(e){return!!this.complex[e]},isAny:function(e,t){var n,r,i=t.split(" | "),o=!1;for(n=0,r=i.length;r>n&&!o&&e.hasNext();n++)o=this.isType(e,i[n]);return o},isAnyOfGroup:function(e,t){var n,r,i=t.split(" || "),o=!1;for(n=0,r=i.length;r>n&&!o;n++)o=this.isType(e,i[n]);return o?i[n-1]:!1},isType:function(e,t){var n=e.peek(),r=!1;return"<"!=t.charAt(0)?(r=this.isLiteral(n,t),r&&e.next()):this.simple[t]?(r=this.simple[t](n),r&&e.next()):r=this.complex[t](e),r},simple:{"<absolute-size>":function(e){return ValidationTypes.isLiteral(e,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(e){return ValidationTypes.isLiteral(e,"scroll | fixed | local")},"<attr>":function(e){return"function"==e.type&&"attr"==e.name},"<bg-image>":function(e){return this["<image>"](e)||this["<gradient>"](e)||"none"==e},"<gradient>":function(e){return"function"==e.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?(?:repeating\-)?(?:radial\-|linear\-)?gradient/i.test(e)},"<box>":function(e){return ValidationTypes.isLiteral(e,"padding-box | border-box | content-box")},"<content>":function(e){return"function"==e.type&&"content"==e.name},"<relative-size>":function(e){return ValidationTypes.isLiteral(e,"smaller | larger")},"<ident>":function(e){return"identifier"==e.type},"<length>":function(e){return"function"==e.type&&/^(?:\-(?:ms|moz|o|webkit)\-)?calc/i.test(e)?!0:"length"==e.type||"number"==e.type||"integer"==e.type||"0"==e},"<color>":function(e){return"color"==e.type||"transparent"==e},"<number>":function(e){return"number"==e.type||this["<integer>"](e)},"<integer>":function(e){return"integer"==e.type},"<line>":function(e){return"integer"==e.type},"<angle>":function(e){return"angle"==e.type},"<uri>":function(e){return"uri"==e.type},"<image>":function(e){return this["<uri>"](e)},"<percentage>":function(e){return"percentage"==e.type||"0"==e},"<border-width>":function(e){return this["<length>"](e)||ValidationTypes.isLiteral(e,"thin | medium | thick")},"<border-style>":function(e){return ValidationTypes.isLiteral(e,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<margin-width>":function(e){return this["<length>"](e)||this["<percentage>"](e)||ValidationTypes.isLiteral(e,"auto")},"<padding-width>":function(e){return this["<length>"](e)||this["<percentage>"](e)},"<shape>":function(e){return"function"==e.type&&("rect"==e.name||"inset-rect"==e.name)},"<time>":function(e){return"time"==e.type}},complex:{"<bg-position>":function(e){for(var t=!1,n="<percentage> | <length>",r="left | right",i="top | bottom",o=0;e.peek(o)&&","!=e.peek(o);)o++;return 3>o?ValidationTypes.isAny(e,r+" | center | "+n)?(t=!0,ValidationTypes.isAny(e,i+" | center | "+n)):ValidationTypes.isAny(e,i)&&(t=!0,ValidationTypes.isAny(e,r+" | center")):ValidationTypes.isAny(e,r)?ValidationTypes.isAny(e,i)?(t=!0,ValidationTypes.isAny(e,n)):ValidationTypes.isAny(e,n)&&(ValidationTypes.isAny(e,i)?(t=!0,ValidationTypes.isAny(e,n)):ValidationTypes.isAny(e,"center")&&(t=!0)):ValidationTypes.isAny(e,i)?ValidationTypes.isAny(e,r)?(t=!0,ValidationTypes.isAny(e,n)):ValidationTypes.isAny(e,n)&&(ValidationTypes.isAny(e,r)?(t=!0,ValidationTypes.isAny(e,n)):ValidationTypes.isAny(e,"center")&&(t=!0)):ValidationTypes.isAny(e,"center")&&ValidationTypes.isAny(e,r+" | "+i)&&(t=!0,ValidationTypes.isAny(e,n)),t},"<bg-size>":function(e){var t=!1,n="<percentage> | <length> | auto";return ValidationTypes.isAny(e,"cover | contain")?t=!0:ValidationTypes.isAny(e,n)&&(t=!0,ValidationTypes.isAny(e,n)),t},"<repeat-style>":function(e){var t,n=!1,r="repeat | space | round | no-repeat";return e.hasNext()&&(t=e.next(),ValidationTypes.isLiteral(t,"repeat-x | repeat-y")?n=!0:ValidationTypes.isLiteral(t,r)&&(n=!0,e.hasNext()&&ValidationTypes.isLiteral(e.peek(),r)&&e.next())),n},"<shadow>":function(e){var t=!1,n=0,r=!1,i=!1;if(e.hasNext()){for(ValidationTypes.isAny(e,"inset")&&(r=!0),ValidationTypes.isAny(e,"<color>")&&(i=!0);ValidationTypes.isAny(e,"<length>")&&4>n;)n++;e.hasNext()&&(i||ValidationTypes.isAny(e,"<color>"),r||ValidationTypes.isAny(e,"inset")),t=n>=2&&4>=n}return t},"<x-one-radius>":function(e){var t=!1,n="<length> | <percentage> | inherit";return ValidationTypes.isAny(e,n)&&(t=!0,ValidationTypes.isAny(e,n)),t}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var e in parserlib)exports[e]=parserlib[e]}();var CSSLint=function(){function e(e,t){var n,i=e&&e.match(r),o=i&&i[1];return o&&(n={"true":2,"":1,"false":0,2:2,1:1,0:0},o.toLowerCase().split(",").forEach(function(e){var r=e.split(":"),i=r[0]||"",o=r[1]||"";t[i.trim()]=n[o.trim()]})),t}var t=[],n=[],r=/\/\*\s*csslint([^\*]*)\*\//,i=new parserlib.util.EventTarget;return i.version="0.10.0",i.addRule=function(e){t.push(e),t[e.id]=e},i.clearRules=function(){t=[]},i.getRules=function(){return[].concat(t).sort(function(e,t){return e.id>t.id?1:0})},i.getRuleset=function(){for(var e={},n=0,r=t.length;r>n;)e[t[n++].id]=1;return e},i.addFormatter=function(e){n[e.id]=e},i.getFormatter=function(e){return n[e]},i.format=function(e,t,n,r){var i=this.getFormatter(n),o=null;return i&&(o=i.startFormat(),o+=i.formatResults(e,t,r||{}),o+=i.endFormat()),o},i.hasFormat=function(e){return n.hasOwnProperty(e)},i.verify=function(n,i){var o,s,a,l=0,c=(t.length,new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1}));s=n.replace(/\n\r?/g,"$split$").split("$split$"),i||(i=this.getRuleset()),r.test(n)&&(i=e(n,i)),o=new Reporter(s,i),i.errors=2;for(l in i)i.hasOwnProperty(l)&&i[l]&&t[l]&&t[l].init(c,o);try{c.parse(n)}catch(u){o.error("Fatal error, cannot continue: "+u.message,u.line,u.col,{})}var p=c._tokenStream&&c._tokenStream.tokens?c._tokenStream.tokens:[];return a={messages:o.messages,stats:o.stats,ruleset:o.ruleset,tokens:p},a.messages.sort(function(e,t){return e.rollup&&!t.rollup?1:!e.rollup&&t.rollup?-1:e.line-t.line}),a},i}();return Reporter.prototype={constructor:Reporter,error:function(e,t,n,r){this.messages.push({type:"error",line:t,col:n,message:e,evidence:this.lines[t-1],rule:r||{}})},warn:function(e,t,n,r){this.report(e,t,n,r)},report:function(e,t,n,r){this.messages.push({type:2==this.ruleset[r.id]?"error":"warning",line:t,col:n,message:e,evidence:this.lines[t-1],rule:r})},info:function(e,t,n,r){this.messages.push({type:"info",line:t,col:n,message:e,evidence:this.lines[t-1],rule:r})},rollupError:function(e,t){this.messages.push({type:"error",rollup:!0,message:e,rule:t})},rollupWarn:function(e,t){this.messages.push({type:"warning",rollup:!0,message:e,rule:t})},stat:function(e,t){this.stats[e]=t}},CSSLint._Reporter=Reporter,CSSLint.Colors=parserlib.util.Colors,CSSLint.Util={mix:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return n},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},forEach:function(e,t){if(e.forEach)return e.forEach(t);for(var n=0,r=e.length;r>n;n++)t(e[n],n,e)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don't use adjoining classes.",browsers:"IE6",init:function(e,t){var n=this;e.addListener("startrule",function(r){var i,o,s,a,l,c,u,p=r.selectors;for(l=0;l<p.length;l++)for(i=p[l],c=0;c<i.parts.length;c++)if(o=i.parts[c],o.type==e.SELECTOR_PART_TYPE)for(a=0,u=0;u<o.modifiers.length;u++)s=o.modifiers[u],"class"==s.type&&a++,a>1&&t.report("Don't use adjoining classes.",o.line,o.col,n)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don't use width or height when using padding or border.",browsers:"All",init:function(e,t){function n(){i={},l=!1}function r(){var e,n;if(!l){if(i.height)for(e in a)a.hasOwnProperty(e)&&i[e]&&(n=i[e].value,("padding"!=e||2!==n.parts.length||0!==n.parts[0].value)&&t.report("Using height with "+e+" can sometimes make elements larger than you expect.",i[e].line,i[e].col,o));if(i.width)for(e in s)s.hasOwnProperty(e)&&i[e]&&(n=i[e].value,("padding"!=e||2!==n.parts.length||0!==n.parts[1].value)&&t.report("Using width with "+e+" can sometimes make elements larger than you expect.",i[e].line,i[e].col,o))}}var i,o=this,s={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},a={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},l=!1;e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("property",function(e){var t=e.property.text.toLowerCase();a[t]||s[t]?/^0\S*$/.test(e.value)||"border"==t&&"none"==e.value||(i[t]={line:e.property.line,col:e.property.col,value:e.value}):/^(width|height)/i.test(t)&&/^(length|percentage)/.test(e.value.parts[0].type)?i[t]=1:"box-sizing"==t&&(l=!0)}),e.addListener("endrule",r),e.addListener("endfontface",r),e.addListener("endpage",r),e.addListener("endpagemargin",r),e.addListener("endkeyframerule",r)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn't supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(e,t){var n=this;e.addListener("property",function(e){var r=e.property.text.toLowerCase();"box-sizing"==r&&t.report("The box-sizing property isn't supported in IE6 and IE7.",e.line,e.col,n)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404's in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(e,t){var n,r,i=this,o=!1,s=!0,a=!1;e.addListener("startfontface",function(){o=!0}),e.addListener("property",function(e){if(o){var t=e.property.toString().toLowerCase(),i=e.value.toString();if(n=e.line,r=e.col,"src"===t){var l=/^\s?url\(['"].+\.eot\?.*['"]\)\s*format\(['"]embedded-opentype['"]\).*$/i;!i.match(l)&&s?(a=!0,s=!1):i.match(l)&&!s&&(a=!1)}}}),e.addListener("endfontface",function(){o=!1,a&&t.report("@font-face declaration doesn't follow the fontspring bulletproof syntax.",n,r,i)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(e,t){var n,r,i,o,s,a,l,c=this,u=!1,p=Array.prototype.push,d=[];n={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(i in n)if(n.hasOwnProperty(i)){for(o=[],s=n[i].split(" "),a=0,l=s.length;l>a;a++)o.push("-"+s[a]+"-"+i);n[i]=o,p.apply(d,o)}e.addListener("startrule",function(){r=[]}),e.addListener("startkeyframes",function(e){u=e.prefix||!0}),e.addListener("endkeyframes",function(){u=!1}),e.addListener("property",function(e){var t=e.property;CSSLint.Util.indexOf(d,t.text)>-1&&(u&&"string"==typeof u&&0===t.text.indexOf("-"+u+"-")||r.push(t))}),e.addListener("endrule",function(){if(r.length){var e,i,o,s,a,l,u,p,d,h,f={};for(e=0,i=r.length;i>e;e++){o=r[e];for(s in n)n.hasOwnProperty(s)&&(a=n[s],CSSLint.Util.indexOf(a,o.text)>-1&&(f[s]||(f[s]={full:a.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(f[s].actual,o.text)&&(f[s].actual.push(o.text),f[s].actualNodes.push(o))))}for(s in f)if(f.hasOwnProperty(s)&&(l=f[s],u=l.full,p=l.actual,u.length>p.length))for(e=0,i=u.length;i>e;e++)d=u[e],-1===CSSLint.Util.indexOf(p,d)&&(h=1===p.length?p[0]:p.join(2==p.length?" and ":", "),t.report("The property "+d+" is compatible with "+h+" and should be included as well.",l.actualNodes[0].line,l.actualNodes[0].col,c))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn't be used with certain display property values.",browsers:"All",init:function(e,t){function n(e,n,r){o[e]&&("string"!=typeof a[e]||o[e].value.toLowerCase()!=a[e])&&t.report(r||e+" can't be used with display: "+n+".",o[e].line,o[e].col,s)}function r(){o={}}function i(){var e=o.display?o.display.value:null;if(e)switch(e){case"inline":n("height",e),n("width",e),n("margin",e),n("margin-top",e),n("margin-bottom",e),n("float",e,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":n("vertical-align",e);break;case"inline-block":n("float",e);break;default:0===e.indexOf("table-")&&(n("margin",e),n("margin-left",e),n("margin-right",e),n("margin-top",e),n("margin-bottom",e),n("float",e))}}var o,s=this,a={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};e.addListener("startrule",r),e.addListener("startfontface",r),e.addListener("startkeyframerule",r),e.addListener("startpagemargin",r),e.addListener("startpage",r),e.addListener("property",function(e){var t=e.property.text.toLowerCase();a[t]&&(o[t]={value:e.value.text,line:e.property.line,col:e.property.col})}),e.addListener("endrule",i),e.addListener("endfontface",i),e.addListener("endkeyframerule",i),e.addListener("endpagemargin",i),e.addListener("endpage",i)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(e,t){var n=this,r={};e.addListener("property",function(e){var i,o,s=e.property.text,a=e.value;if(s.match(/background/i))for(i=0,o=a.parts.length;o>i;i++)"uri"==a.parts[i].type&&("undefined"==typeof r[a.parts[i].uri]?r[a.parts[i].uri]=e:t.report("Background image '"+a.parts[i].uri+"' was used multiple times, first declared at line "+r[a.parts[i].uri].line+", col "+r[a.parts[i].uri].col+".",e.line,e.col,n))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(e,t){function n(){r={}}var r,i,o=this;e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("property",function(e){var n=e.property,s=n.text.toLowerCase();!r[s]||i==s&&r[s]!=e.value.text||t.report("Duplicate property '"+e.property+"' found.",e.line,e.col,o),r[s]=e.value.text,i=s})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(e,t){var n=this,r=0;e.addListener("startrule",function(){r=0}),e.addListener("property",function(){r++}),e.addListener("endrule",function(e){var i=e.selectors;0===r&&t.report("Rule is empty.",i[0].line,i[0].col,n)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(e,t){var n=this;e.addListener("error",function(e){t.error(e.message,e.line,e.col,n)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don't support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(e,t){function n(){i={},r=null}var r,i,o=this,s={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("property",function(e){var n=e.property,i=n.text.toLowerCase(),a=e.value.parts,l=0,c="",u=a.length;if(s[i])for(;u>l;)"color"==a[l].type&&("alpha"in a[l]||"hue"in a[l]?(/([^\)]+)\(/.test(a[l])&&(c=RegExp.$1.toUpperCase()),r&&r.property.text.toLowerCase()==i&&"compat"==r.colorType||t.report("Fallback "+i+" (hex or RGB) should precede "+c+" "+i+".",e.line,e.col,o)):e.colorType="compat"),l++;r=e})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(e,t){var n=this,r=0;e.addListener("property",function(e){"float"==e.property.text.toLowerCase()&&"none"!=e.value.text.toLowerCase()&&r++}),e.addListener("endstylesheet",function(){t.stat("floats",r),r>=10&&t.rollupWarn("Too many floats ("+r+"), you're probably using them for layout. Consider using a grid system instead.",n)})}}),CSSLint.addRule({id:"font-faces",name:"Don't use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(e,t){var n=this,r=0;e.addListener("startfontface",function(){r++}),e.addListener("endstylesheet",function(){r>5&&t.rollupWarn("Too many @font-face declarations ("+r+").",n)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(e,t){var n=this,r=0;e.addListener("property",function(e){"font-size"==e.property&&r++}),e.addListener("endstylesheet",function(){t.stat("font-sizes",r),r>=10&&t.rollupWarn("Too many font-size declarations ("+r+"), abstraction needed.",n)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(e,t){var n,r=this;e.addListener("startrule",function(){n={moz:0,webkit:0,oldWebkit:0,o:0}}),e.addListener("property",function(e){/\-(moz|o|webkit)(?:\-(?:linear|radial))\-gradient/i.test(e.value)?n[RegExp.$1]=1:/\-webkit\-gradient/i.test(e.value)&&(n.oldWebkit=1)}),e.addListener("endrule",function(e){var i=[];n.moz||i.push("Firefox 3.6+"),n.webkit||i.push("Webkit (Safari 5+, Chrome)"),n.oldWebkit||i.push("Old Webkit (Safari 4+, Chrome)"),n.o||i.push("Opera 11.1+"),i.length&&i.length<4&&t.report("Missing vendor-prefixed CSS gradients for "+i.join(", ")+".",e.selectors[0].line,e.selectors[0].col,r)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(e,t){var n=this;e.addListener("startrule",function(r){var i,o,s,a,l,c,u,p=r.selectors;for(l=0;l<p.length;l++){for(i=p[l],a=0,c=0;c<i.parts.length;c++)if(o=i.parts[c],o.type==e.SELECTOR_PART_TYPE)for(u=0;u<o.modifiers.length;u++)s=o.modifiers[u],"id"==s.type&&a++;1==a?t.report("Don't use IDs in selectors.",i.line,i.col,n):a>1&&t.report(a+" IDs in the selector, really?",i.line,i.col,n)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don't use @import, use <link> instead.",browsers:"All",init:function(e,t){var n=this;e.addListener("import",function(e){t.report("@import prevents parallel downloads, use <link> instead.",e.line,e.col,n)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(e,t){var n=this,r=0;e.addListener("property",function(e){e.important===!0&&(r++,t.report("Use of !important",e.line,e.col,n))}),e.addListener("endstylesheet",function(){t.stat("important",r),r>=10&&t.rollupWarn("Too many !important declarations ("+r+"), try to use less than 10 to avoid specificity issues.",n)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(e,t){var n=this;e.addListener("property",function(e){e.property.text.toLowerCase();e.invalid&&t.report(e.invalid.message,e.line,e.col,n)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(e,t){function n(e){i=e.selectors?{line:e.line,col:e.col,selectors:e.selectors,propCount:0,outline:!1}:null}function r(){i&&i.outline&&(-1==i.selectors.toString().toLowerCase().indexOf(":focus")?t.report("Outlines should only be modified using :focus.",i.line,i.col,o):1==i.propCount&&t.report("Outlines shouldn't be hidden unless other visual changes are made.",i.line,i.col,o))}var i,o=this;e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("property",function(e){var t=e.property.text.toLowerCase(),n=e.value;i&&(i.propCount++,"outline"!=t||"none"!=n&&"0"!=n||(i.outline=!0))}),e.addListener("endrule",r),e.addListener("endfontface",r),e.addListener("endpage",r),e.addListener("endpagemargin",r),e.addListener("endkeyframerule",r)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don't use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(e,t){var n=this,r={};e.addListener("startrule",function(i){var o,s,a,l,c,u,p=i.selectors;for(l=0;l<p.length;l++)for(o=p[l],c=0;c<o.parts.length;c++)if(s=o.parts[c],s.type==e.SELECTOR_PART_TYPE)for(u=0;u<s.modifiers.length;u++)a=s.modifiers[u],s.elementName&&"id"==a.type?t.report("Element ("+s+") is overqualified, just use "+a+" without element name.",s.line,s.col,n):"class"==a.type&&(r[a]||(r[a]=[]),r[a].push({modifier:a,part:s}))}),e.addListener("endstylesheet",function(){var e;for(e in r)r.hasOwnProperty(e)&&1==r[e].length&&r[e][0].part.elementName&&t.report("Element ("+r[e][0].part+") is overqualified, just use "+r[e][0].modifier+" without element name.",r[e][0].part.line,r[e][0].part.col,n)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(e,t){var n=this;e.addListener("startrule",function(r){var i,o,s,a,l=r.selectors;for(s=0;s<l.length;s++)for(i=l[s],a=0;a<i.parts.length;a++)o=i.parts[a],o.type==e.SELECTOR_PART_TYPE&&o.elementName&&/h[1-6]/.test(o.elementName.toString())&&a>0&&t.report("Heading ("+o.elementName+") should not be qualified.",o.line,o.col,n)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(e,t){var n=this;e.addListener("startrule",function(r){var i,o,s,a,l,c,u=r.selectors;for(a=0;a<u.length;a++)for(i=u[a],l=0;l<i.parts.length;l++)if(o=i.parts[l],o.type==e.SELECTOR_PART_TYPE)for(c=0;c<o.modifiers.length;c++)s=o.modifiers[c],"attribute"==s.type&&/([\~\|\^\$\*]=)/.test(s)&&t.report("Attribute selectors with "+RegExp.$1+" are slow!",s.line,s.col,n)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(e,t){var n=0;e.addListener("startrule",function(){n++}),e.addListener("endstylesheet",function(){t.stat("rule-count",n)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(e,t){var n=this,r=0;e.addListener("startrule",function(e){r+=e.selectors.length}),e.addListener("endstylesheet",function(){r>=3800&&t.report("You have "+r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,n)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(e,t){var n=this,r=0;e.addListener("startrule",function(e){r+=e.selectors.length}),e.addListener("endstylesheet",function(){r>4095&&t.report("You have "+r+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,n)})}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(e,t){function n(){a={}}function r(e){var n,r,i,o;for(n in u)if(u.hasOwnProperty(n)){for(o=0,r=0,i=u[n].length;i>r;r++)o+=a[u[n][r]]?1:0;o==u[n].length&&t.report("The properties "+u[n].join(", ")+" can be replaced by "+n+".",e.line,e.col,l)}}var i,o,s,a,l=this,c={},u={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(i in u)if(u.hasOwnProperty(i))for(o=0,s=u[i].length;s>o;o++)c[u[i][o]]=i;e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("property",function(e){{var t=e.property.toString().toLowerCase();e.value.parts[0].value}c[t]&&(a[t]=1)}),e.addListener("endrule",r),e.addListener("endfontface",r)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(e,t){var n=this;e.addListener("property",function(e){var r=e.property;"*"==r.hack&&t.report("Property with star prefix found.",e.property.line,e.property.col,n)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(e,t){function n(){i=!1,o="inherit"}function r(){i&&"ltr"!=o&&t.report("Negative text-indent doesn't work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",i.line,i.col,s)}var i,o,s=this;e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("property",function(e){var t=e.property.toString().toLowerCase(),n=e.value;"text-indent"==t&&n.parts[0].value<-99?i=e.property:"direction"==t&&"ltr"==n&&(o="ltr")}),e.addListener("endrule",r),e.addListener("endfontface",r)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(e,t){var n=this;e.addListener("property",function(e){var r=e.property;"_"==r.hack&&t.report("Property with underscore prefix found.",e.property.line,e.property.col,n)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(e,t){var n=this,r={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};e.addListener("startrule",function(e){var i,o,s,a,l,c=e.selectors;for(a=0;a<c.length;a++)if(i=c[a],o=i.parts[i.parts.length-1],o.elementName&&/(h[1-6])/i.test(o.elementName.toString())){for(l=0;l<o.modifiers.length;l++)if("pseudo"==o.modifiers[l].type){s=!0;break}s||(r[RegExp.$1]++,r[RegExp.$1]>1&&t.report("Heading ("+o.elementName+") has already been defined.",o.line,o.col,n))}}),e.addListener("endstylesheet",function(){var e,i=[];for(e in r)r.hasOwnProperty(e)&&r[e]>1&&i.push(r[e]+" "+e+"s");i.length&&t.rollupWarn("You have "+i.join(", ")+" defined in this stylesheet.",n)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(e,t){var n=this;e.addListener("startrule",function(e){var r,i,o,s=e.selectors;for(o=0;o<s.length;o++)r=s[o],i=r.parts[r.parts.length-1],"*"==i.elementName&&t.report(n.desc,i.line,i.col,n)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(e,t){var n=this;e.addListener("startrule",function(r){var i,o,s,a,l,c=r.selectors;for(a=0;a<c.length;a++)if(i=c[a],o=i.parts[i.parts.length-1],o.type==e.SELECTOR_PART_TYPE)for(l=0;l<o.modifiers.length;l++)s=o.modifiers[l],"attribute"!=s.type||o.elementName&&"*"!=o.elementName||t.report(n.desc,o.line,o.col,n)
})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(e,t){function n(){i={},o=1}function r(){var e,n,r,o,l,c=[];for(e in i)a[e]&&c.push({actual:e,needed:a[e]});for(n=0,r=c.length;r>n;n++)o=c[n].needed,l=c[n].actual,i[o]?i[o][0].pos<i[l][0].pos&&t.report("Standard property '"+o+"' should come after vendor-prefixed property '"+l+"'.",i[l][0].name.line,i[l][0].name.col,s):t.report("Missing standard property '"+o+"' to go along with '"+l+"'.",i[l][0].name.line,i[l][0].name.col,s)}var i,o,s=this,a={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing","-moz-user-select":"user-select","-khtml-user-select":"user-select","-webkit-user-select":"user-select"};e.addListener("startrule",n),e.addListener("startfontface",n),e.addListener("startpage",n),e.addListener("startpagemargin",n),e.addListener("startkeyframerule",n),e.addListener("property",function(e){var t=e.property.text.toLowerCase();i[t]||(i[t]=[]),i[t].push({name:e.property,value:e.value,pos:o++})}),e.addListener("endrule",r),e.addListener("endfontface",r),e.addListener("endpage",r),e.addListener("endpagemargin",r),e.addListener("endkeyframerule",r)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don't need to specify units when a value is 0.",browsers:"All",init:function(e,t){var n=this;e.addListener("property",function(e){for(var r=e.value.parts,i=0,o=r.length;o>i;)!r[i].units&&"percentage"!=r[i].type||0!==r[i].value||"time"==r[i].type||t.report("Values of 0 shouldn't have units specified.",r[i].line,r[i].col,n),i++})}}),function(){var e=function(e){return e&&e.constructor===String?e.replace(/[\"&><]/g,function(e){switch(e){case'"':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><checkstyle>'},endFormat:function(){return"</checkstyle>"},readError:function(t,n){return'<file name="'+e(t)+'"><error line="0" column="0" severty="error" message="'+e(n)+'"></error></file>'},formatResults:function(t,n){var r=t.messages,i=[],o=function(e){return e&&"name"in e?"net.csslint."+e.name.replace(/\s/g,""):""};return r.length>0&&(i.push('<file name="'+n+'">'),CSSLint.Util.forEach(r,function(t){t.rollup||i.push('<error line="'+t.line+'" column="'+t.col+'" severity="'+t.type+'" message="'+e(t.message)+'" source="'+o(t.rule)+'"/>')}),i.push("</file>")),i.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, 'porcelain' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(e,t,n){var r=e.messages,i="";n=n||{};var o=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return 0===r.length?n.quiet?"":t+": Lint Free!":(CSSLint.Util.forEach(r,function(e){i+=e.rollup?t+": "+o(e.type)+" - "+e.message+"\n":t+": line "+e.line+", col "+e.col+", "+o(e.type)+" - "+e.message+"\n"}),i)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><csslint>'},endFormat:function(){return"</csslint>"},formatResults:function(e,t){var n=e.messages,r=[],i=function(e){return e&&e.constructor===String?e.replace(/\"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return n.length>0&&(r.push('<file name="'+t+'">'),CSSLint.Util.forEach(n,function(e){r.push(e.rollup?'<issue severity="'+e.type+'" reason="'+i(e.message)+'" evidence="'+i(e.evidence)+'"/>':'<issue line="'+e.line+'" char="'+e.col+'" severity="'+e.type+'" reason="'+i(e.message)+'" evidence="'+i(e.evidence)+'"/>')}),r.push("</file>")),r.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><testsuites>'},endFormat:function(){return"</testsuites>"},formatResults:function(e,t){var n=e.messages,r=[],i={error:0,failure:0},o=function(e){return e&&"name"in e?"net.csslint."+e.name.replace(/\s/g,""):""},s=function(e){return e&&e.constructor===String?e.replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return n.length>0&&(n.forEach(function(e){var t="warning"===e.type?"error":e.type;e.rollup||(r.push('<testcase time="0" name="'+o(e.rule)+'">'),r.push("<"+t+' message="'+s(e.message)+'"><![CDATA['+e.line+":"+e.col+":"+s(e.evidence)+"]]></"+t+">"),r.push("</testcase>"),i[t]+=1)}),r.unshift('<testsuite time="0" tests="'+n.length+'" skipped="0" errors="'+i.error+'" failures="'+i.failure+'" package="net.csslint" name="'+t+'">'),r.push("</testsuite>")),r.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return'<?xml version="1.0" encoding="utf-8"?><lint>'},endFormat:function(){return"</lint>"},formatResults:function(e,t){var n=e.messages,r=[],i=function(e){return e&&e.constructor===String?e.replace(/\"/g,"'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return n.length>0&&(r.push('<file name="'+t+'">'),CSSLint.Util.forEach(n,function(e){r.push(e.rollup?'<issue severity="'+e.type+'" reason="'+i(e.message)+'" evidence="'+i(e.evidence)+'"/>':'<issue line="'+e.line+'" char="'+e.col+'" severity="'+e.type+'" reason="'+i(e.message)+'" evidence="'+i(e.evidence)+'"/>')}),r.push("</file>")),r.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(e,t,n){var r=e.messages,i="";if(n=n||{},0===r.length)return n.quiet?"":"\n\ncsslint: No errors in "+t+".";i="\n\ncsslint: There are "+r.length+" problems in "+t+".";var o=t.lastIndexOf("/"),s=t;return-1===o&&(o=t.lastIndexOf("\\")),o>-1&&(s=t.substring(o+1)),CSSLint.Util.forEach(r,function(e,t){i=i+"\n\n"+s,e.rollup?(i+="\n"+(t+1)+": "+e.type,i+="\n"+e.message):(i+="\n"+(t+1)+": "+e.type+" at line "+e.line+", col "+e.col,i+="\n"+e.message,i+="\n"+e.evidence)}),i}}),CSSLint}();return cssLint}),define("webtools/cssOutliner",["csslint","orion/objects"],function(e,t){function n(){e.addRule(n.prototype._outlineRule)}return t.mixin(n.prototype,{getOutline:function(t){return e.verify(t),this._outlineRule.outline},_outlineRule:{id:"css-outline",name:"CSS outline",desc:"CSS outline helper rule",browsers:"All",outline:[],init:function(e){this.outline=[];var t=this;e.addListener("startrule",function(e){var n=e.selectors;if(n&&n.length){for(var r=[],i=null,o=null,s=null,a=0;a<n.length;a++){var l=n[a];if(l.parts&&l.parts.length>0){var c=l.parts[0];null===i&&(i=c.line),null===o&&(o=c.col-1),null===s&&(s=c.text.length)}null===i&&(i=l.line),null===o&&(o=l.col-1),null===s&&(s=l.text.length),r.push(l.text)}t.outline.push({label:r.join(", "),line:i,offset:o,length:s})}})}}}),{CssOutliner:n}}),define("webtools/util",[],function(){var e={punc:"\n	\r (){}[]:;,.+=-*^&@!%~`'\"/\\",findWord:function(e,t){if(e&&t){for(var n=this.punc.indexOf(e.charAt(t))>-1,r=n?t-1:t;r>=0&&!(this.punc.indexOf(e.charAt(r))>-1);)r--;var i=r;for(r=t;r<=e.length&&!(this.punc.indexOf(e.charAt(r))>-1);)r++;return(i===t||n&&i===t-1)&&r===t?null:i===t?e.substring(i,r):e.substring(i+1,r)}return null},findToken:function(e,t){if(null!=e&&e>-1&&t&&t.length>0){var n,r=0,i=t.length-1,o=0;if(n=t[0],e>=n.range[0]&&e<n.range[1])return n.index=e,n;if(n=t[i],e>=n.range[0])return n.index=i,n;for(n=null;i>=r;){if(o=Math.floor((r+i)/2),n=t[o],e<n.range[0])i=o-1;else if(e>n.range[1])r=o+1;else if(e===n.range[1]){var s=t[o+1];if(s.range[0]!==n.range[1])return n.index=o,n;r=o+1}else if(e>=n.range[0]&&e<n.range[1])return n.index=o,n;if(r===i)return n=t[r],e>=n.range[0]&&e<=n.range[1]?(n.index=r,n):null}}return null}};return e}),define("webtools/cssHover",["orion/objects","orion/URITemplate","webtools/util","csslint"],function(e,t,n,r){function i(e,t){this.resolver=e,this.cssResultManager=t}return e.mixin(i.prototype,{computeHoverInfo:function(e,t){var i=this;return i.cssResultManager.getResult(e,i._emptyRuleSet()).then(function(e){if(e){var o=n.findToken(t.offset,e.tokens);if(o){if(i.hasPreviousToken(o,e.tokens,"IMPORT_SYM"))return i._getFileHover(o);if(i.hasPreviousToken(o,e.tokens,"IDENT","background-image"))return i._getImageHover(o);var s=i._isRgbLike(o,e.tokens);if(s){var a=i._collectColorId(s,e.tokens);if(a)return i._getColorHover(a)}if(r.Colors[o.value])return i._getColorHover(o.value);if(/\#[0-9A-Fa-f]{1,6}/.test(o.value))return i._getColorHover(o.value)}}return null})},_emptyRuleSet:function(){var e=Object.create(null);return e.getRuleSet=function(){return null},e},_isColorFnName:function(e){var t=e.toLowerCase();return"rgba("===t||"rgb("===t||"hsl("===t||"hsla("===t},_isRgbLike:function(e,t){if("FUNCTION"===e.type&&this._isColorFnName(e.value.toLowerCase()))return e;var n=this._isRgbLikeBody(e,t);return n?n:null},_isRgbLikeBody:function(e,t){if(e&&t)for(var n=e.index;n>-1;n--){var r=t[n];if("NUMBER"!==r.type&&"COMMA"!==r.type&&"PERCENTAGE"!==r.type){if("FUNCTION"===r.type)return this._isColorFnName(r.value)?(r.index=n,r):null;break}}return null},_collectColorId:function(e,t){if(e&&t)for(var n=e.value,r=null,i=e.index,o=i+1;o<t.length;o++){r=t[o];{if("COMMA"!==r.type&&"NUMBER"!==r.type&&"PERCENTAGE"!==r.type){if("RPAREN"===r.type)return n+=r.value;break}n+=r.value}}return null},hasPreviousToken:function(e,t,n,r){if(e&&t)switch(e.type){case"URI":case"STRING":if(e.index>0){for(var i=null,o=e.index-1;o>=0&&(i=t[o],"COLON"===i.type||"STRING"===i.type||"URI"===i.type||"COMMA"===i.type);o--);return r&&i&&i.type===n?r===i.value:i&&i.type===n}}return!1},_getFileHover:function(e){var t=this._getPathFromToken(e);if(t){if(/^http/i.test(t))return this._formatFilesHover(t);var n=this;return n.resolver.getWorkspaceFile(t,{ext:"css",type:"CSS",icon:"../webtools/images/css.png"}).then(function(e){return e?n._formatFilesHover(t,e):void 0})}return null},_getPathFromToken:function(e){var t=e.value;switch(e.type){case"STRING":t=e.value.slice(1,e.value.length-1);break;case"URI":var n=/^\s*(?:url)\s*\(\s*(.*)\s*\)/i.exec(e.value);if(!n)return null;t=n[1];var r=t.charAt(0);("'"===r||'"'===r)&&(t=t.slice(1)),r=t.charAt(t.length-1),("'"===r||'"'===r)&&(t=t.slice(0,t.length-1))}return t},_formatFilesHover:function(e,n){if(e){var r="###Open file for '"+e+"'###",i="";if(Array.isArray(n))for(var o=0;o<n.length;o++){var s=n[o];if(s.name&&s.path&&s.contentType){i+="[",s.contentType.icon&&(i+="!["+s.contentType.name+"]("+s.contentType.icon+")");var a=new t("#{,resource,params*}").expand({resource:s.location,params:{}});i+=s.name+"]("+a+") - "+s.path+"\n\n"}}else{var l=e.slice(e.lastIndexOf("/")+1);r="###Open file for '"+l+"'###",i+="[!["+l+"](../webtools/images/css.png)",i+=l+"]("+e+") - "+e+"\n\n"}if(""!==i)return{title:r,content:i,type:"markdown"}}return null},_getImageHover:function(e){var t=this._getPathFromToken(e);if(t&&(/^http/i.test(t)||/^data:image.*;base64/i.test(t))){var n='<html><body style="margin:1px;"><img src="'+t+'" style="width:100%;height:100%;"/></body></html>';return{type:"html",content:n,width:"100px",height:"100px"}}},_getColorHover:function(e){var t='<html><body style="background-color: '+e+';"></html>';return{type:"html",content:t,width:"50px",height:"25px"}}}),i.prototype.contructor=i,{CSSHover:i}}),define("webtools/cssQuickFixes",["orion/objects"],function(e){function t(){}return e.mixin(t.prototype,{execute:function(e,t){var n=this[t.annotation.id];return n?n(e,t.annotation):null},"empty-rules":function(e,t){return e.getText().then(function(n){for(var r=t.start;r>=0&&(" "===n[r-1]||"	"===n[r-1]);)r--;var i=n.substring(t.start);return i=i.match(/.*{\s*}\s*/,""),i?e.setText("",r,r+i[0].length):null})},important:function(e,t){return e.getText().then(function(n){var r=n.substring(t.start),i=r.search(/\s*\!important/i),o=r.search(/[;}]/);return 1!==i&&-1!==o&&o>i?(r=r.substring(i,o),r=r.replace(/\s*\!important/gi,""),e.setText(r,t.start+i,t.start+o)):null})},"zero-units":function(e,t){return e.getText().then(function(n){var r=n.substring(t.start,t.end);return r=r.replace(/0px/gi,"0"),e.setText(r,t.start,t.end)})}}),t.prototype.contructor=t,{CssQuickFixes:t}}),define("webtools/cssResultManager",["orion/Deferred","orion/objects","javascript/lru","csslint"],function(e,t,n,r){function i(){this.cache=new n.LRU(10)}return t.mixin(i.prototype,{getResult:function(t,n){"undefined"==typeof n&&(n=Object.create(null)),"undefined"==typeof n.getRuleSet&&(n.getRuleSet=function(){return null});var i="function"==typeof t.getFileMetadata?t.getFileMetadata():(new e).resolve({}),o=this;return i.then(function(i){i=i||{};var s=o._getKey(i),a=o.cache.get(s);return a?(new e).resolve(a):t.getText().then(function(e){return a=r.verify(e,n.getRuleSet()),o.cache.put(s,a),i.location&&(a.fileLocation=i.location),a})})},_getKey:function(e){return e.location?e.location:"unknown"},onModelChanging:function(e){this.inputChanged?this.inputChanged=null:this.cache.remove(this._getKey(e.file))},onDestroy:function(){},onSaving:function(e){this.cache.remove(this._getKey(e.file))},onInputChanged:function(e){this.inputChanged=e}}),{CssResultManager:i}}),define("orion/util",[],function(){function e(e){var t=arguments;return e.replace(/\$\{([^\}]+)\}/g,function(e,n){return t[(n<<0)+1]})}function t(e,t){return e.createElementNS?e.createElementNS(b,t):e.createElement(t)}var n=navigator.userAgent,r=-1!==n.indexOf("MSIE")||-1!==n.indexOf("Trident")?document.documentMode:void 0,i=parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0,o=-1!==n.indexOf("Opera")?parseFloat(n.split("Version/")[1]):void 0,s=parseFloat(n.split("Chrome/")[1])||void 0,a=-1!==n.indexOf("Safari")&&!s,l=parseFloat(n.split("WebKit/")[1])||void 0,c=-1!==n.indexOf("Android"),u=-1!==n.indexOf("iPad"),p=-1!==n.indexOf("iPhone"),d=u||p,h=-1!==navigator.platform.indexOf("Mac"),f=-1!==navigator.platform.indexOf("Win"),m=-1!==navigator.platform.indexOf("Linux"),g="undefined"!=typeof document&&"ontouchstart"in document.createElement("input"),v=f?"\r\n":"\n",b="http://www.w3.org/1999/xhtml";return{formatMessage:e,createElement:t,isIE:r,isFirefox:i,isOpera:o,isChrome:s,isSafari:a,isWebkit:l,isAndroid:c,isIPad:u,isIPhone:p,isIOS:d,isMac:h,isWindows:f,isLinux:m,isTouch:g,platformDelimiter:v}}),define("webtools/nls/messages",{root:!0}),define("webtools/nls/root/messages",{htmlOutline:"HTML Outline",htmlHover:"HTML Hover",cssOutline:"CSS Rule Outline",htmlContentAssist:"HTML Content Assist",cssContentAssist:"CSS Content Assist",cssHover:"CSS Hover",csslintValidator:"CSS Validator",ignore:"Ignore",warning:"Warning",error:"Error","adjoining-classes":"Disallow adjoining classes:","box-model":"Beware of broken box size:","box-sizing":"Disallow use of box-sizing:","bulletproof-font-face":"Use the bulletproof @font-face syntax:","compatible-vendor-prefixes":"Require compatible vendor prefixes:","display-property-grouping":"Require properties appropriate for display:","duplicate-background-images":"Disallow duplicate background images:","duplicate-properties":"Disallow duplicate properties:","empty-rules":"Disallow empty rules:","fallback-colors":"Require fallback colors:",floats:"Disallow too many floats:","font-faces":"Don't use too many web fonts:","font-sizes":"Disallow too many font sizes:",gradients:"Require all gradient definitions:",ids:"Disallow IDs in selectors:","import":"Disallow @import:",important:"Disallow !important:","known-properties":"Require use of known properties:","outline-none":"Disallow outline: none:","overqualified-elements":"Disallow overqualified elements:","qualified-headings":"Disallow qualified headings:","regex-selectors":"Disallow selectors that look like regexs:","rules-count":"Rules Count:","selector-max-approaching":"Warn when approaching the 4095 selector limit for IE:","selector-max":"Error when past the 4095 selector limit for IE:",shorthand:"Require shorthand properties:","star-property-hack":"Disallow properties with a star prefix:","text-indent":"Disallow negative text-indent:","underscore-property-hack":"Disallow properties with an underscore prefix:","unique-headings":"Headings should only be defined once:","universal-selector":"Disallow universal selector:","unqualified-attributes":"Disallow unqualified attribute selectors:","vendor-prefix":"Require standard property with vendor prefix:","zero-units":"Disallow units for 0 values:","quickfix-empty-rules":"Remove the rule.","quickfix-important":"Remove '!important' annotation.","quickfix-zero-units":"Remove 'px' qualifier."}),define("webtools/plugins/webToolsPlugin",["orion/plugin","orion/bootstrap","webtools/htmlAstManager","webtools/htmlHover","javascript/scriptResolver","webtools/htmlContentAssist","webtools/htmlOutliner","orion/editor/stylers/text_html/syntax","webtools/cssContentAssist","webtools/cssValidator","webtools/cssOutliner","webtools/cssHover","webtools/cssQuickFixes","webtools/cssResultManager","orion/editor/stylers/text_css/syntax","orion/util","i18n!webtools/nls/messages"],function(e,t,n,r,i,o,s,a,l,c,u,p,d,h,f,m,g){var v={name:"Orion Web Tools Support",version:"1.0",description:"This plug-in provides web language tools support for Orion, including HTML and CSS."},b=new e(v);b.registerServiceProvider("orion.core.contenttype",{},{contentTypes:[{id:"text/html","extends":"text/plain",name:"HTML",extension:["html","htm"],imageClass:"file-sprite-html modelDecorationSprite"},{id:"text/css","extends":"text/plain",name:"CSS",extension:["css"],imageClass:"file-sprite-css modelDecorationSprite"}]}),b.registerService("orion.edit.contentassist",new o.HTMLContentAssistProvider,{name:"htmlContentAssist",nls:"webtools/nls/messages",contentType:["text/html"],charTriggers:"<",excludedStyles:"(comment.*|string.*)"}),b.registerService("orion.edit.contentassist",new l.CssContentAssistProvider,{name:"cssContentAssist",nls:"webtools/nls/messages",contentType:["text/css"]});var y=new h.CssResultManager;b.registerService("orion.edit.model",{onModelChanging:y.onModelChanging.bind(y),onDestroy:y.onDestroy.bind(y),onSaving:y.onSaving.bind(y),onInputChanged:y.onInputChanged.bind(y)},{contentType:["text/css"],types:["ModelChanging","Destroy","onSaving","onInputChanged"]}),b.registerService(["orion.edit.validator","orion.cm.managedservice"],new c(y),{contentType:["text/css"],pid:"csslint.config"});var _=new n.HtmlAstManager;b.registerService("orion.edit.model",{onModelChanging:_.onModelChanging.bind(_),onDestroy:_.onDestroy.bind(_),onSaving:_.onSaving.bind(_),onInputChanged:_.onInputChanged.bind(_)},{contentType:["text/html"],types:["ModelChanging","Destroy","onSaving","onInputChanged"]}),b.registerService("orion.edit.outliner",new s.HtmlOutliner(_),{id:"orion.webtools.html.outliner",nls:"webtools/nls/messages",name:g.htmlOutline,contentType:["text/html"]}),b.registerService("orion.edit.outliner",new u.CssOutliner,{id:"orion.outline.css.outliner",nls:"webtools/nls/messages",name:g.cssOutline,contentType:["text/css"]});var w={};f.grammars.forEach(function(e){w[e.id]=e}),a.grammars.forEach(function(e){w[e.id]=e});for(var k in w)w.hasOwnProperty(k)&&b.registerService("orion.edit.highlighter",{},w[k]);var T=new i.ScriptResolver(t);b.registerService("orion.edit.hover",new p.CSSHover(T,y),{nls:"webtools/nls/messages",name:"cssHover",contentType:["text/css"]}),b.registerService("orion.edit.hover",new r.HTMLHover(_,T),{nls:"webtools/nls/messages",name:"htmlHover",contentType:["text/html"]});var x=new d.CssQuickFixes;b.registerServiceProvider("orion.edit.command",x,{name:g["quickfix-empty-rules"],scopeId:"orion.edit.quickfix",id:"quickfix-empty-rules",nls:"webtools/nls/messages",key:["e",!1,!0,!m.isMac,m.isMac],contentType:["text/css"],validationProperties:[{source:"annotation:id",match:"empty-rules"}]}),b.registerServiceProvider("orion.edit.command",x,{name:g["quickfix-important"],scopeId:"orion.edit.quickfix",id:"quickfix-important",nls:"webtools/nls/messages",key:["e",!1,!0,!m.isMac,m.isMac],contentType:["text/css"],validationProperties:[{source:"annotation:id",match:"important"}]}),b.registerServiceProvider("orion.edit.command",x,{name:g["quickfix-zero-units"],scopeId:"orion.edit.quickfix",id:"quickfix-zero-units",nls:"webtools/nls/messages",key:["e",!1,!0,!m.isMac,m.isMac],contentType:["text/css"],validationProperties:[{source:"annotation:id",match:"zero-units"}]});var S=0,E=1,C=2,L=[{label:g.ignore,value:S},{label:g.warning,value:E},{label:g.error,value:C}];b.registerService("orion.core.setting",{},{settings:[{pid:"csslint.config",nls:"webtools/nls/messages",name:g.csslintValidator,tags:"validation webtools css csslint".split(" "),category:"css",properties:[{id:"validate_adjoining_classes",name:g["adjoining-classes"],type:"number",defaultValue:E,options:L},{id:"validate_box_model",name:g["box-model"],type:"number",defaultValue:E,options:L},{id:"validate_box_sizing",name:g["box-sizing"],type:"number",defaultValue:E,options:L},{id:"validate_bulletproof_font_face",name:g["bulletproof-font-face"],type:"number",defaultValue:E,options:L},{id:"validate_compatible_vendor_prefixes",name:g["compatible-vendor-prefixes"],type:"number",defaultValue:E,options:L},{id:"validate_display_property_grouping",name:g["display-property-grouping"],type:"number",defaultValue:E,options:L},{id:"validate_duplicate_background_images",name:g["duplicate-background-images"],type:"number",defaultValue:E,options:L},{id:"validate_duplicate_properties",name:g["duplicate-properties"],type:"number",defaultValue:E,options:L},{id:"validate_empty_rules",name:g["empty-rules"],type:"number",defaultValue:E,options:L},{id:"validate_fallback_colors",name:g["fallback-colors"],type:"number",defaultValue:E,options:L},{id:"validate_floats",name:g.floats,type:"number",defaultValue:E,options:L},{id:"validate_font_faces",name:g["font-faces"],type:"number",defaultValue:E,options:L},{id:"validate_font_sizes",name:g["font-sizes"],type:"number",defaultValue:E,options:L},{id:"validate_gradients",name:g.gradients,type:"number",defaultValue:E,options:L},{id:"validate_ids",name:g.ids,type:"number",defaultValue:E,options:L},{id:"validate_imports",name:g["import"],type:"number",defaultValue:E,options:L},{id:"validate_important",name:g.important,type:"number",defaultValue:E,options:L},{id:"validate_known_properties",name:g["known-properties"],type:"number",defaultValue:E,options:L},{id:"validate_outline_none",name:g["outline-none"],type:"number",defaultValue:E,options:L},{id:"validate_overqualified_elements",name:g["overqualified-elements"],type:"number",defaultValue:E,options:L},{id:"validate_qualified_headings",name:g["qualified-headings"],type:"number",defaultValue:E,options:L},{id:"validate_regex_selectors",name:g["regex-selectors"],type:"number",defaultValue:E,options:L},{id:"validate_rules_count",name:g["rules-count"],type:"number",defaultValue:E,options:L},{id:"validate_selector_max_approaching",name:g["selector-max-approaching"],type:"number",defaultValue:E,options:L},{id:"validate_selector_max",name:g["selector-max"],type:"number",defaultValue:E,options:L},{id:"validate_shorthand",name:g.shorthand,type:"number",defaultValue:E,options:L},{id:"validate_star_property_hack",name:g["star-property-hack"],type:"number",defaultValue:E,options:L},{id:"validate_text_indent",name:g["text-indent"],type:"number",defaultValue:E,options:L},{id:"validate_underscore_property_hack",name:g["underscore-property-hack"],type:"number",defaultValue:E,options:L},{id:"validate_unique_headings",name:g["unique-headings"],type:"number",defaultValue:E,options:L},{id:"validate_universal_selector",name:g["universal-selector"],type:"number",defaultValue:E,options:L},{id:"validate_unqualified_attributes",name:g["unqualified-attributes"],type:"number",defaultValue:E,options:L},{id:"validate_vendor_prefix",name:g["vendor-prefix"],type:"number",defaultValue:E,options:L},{id:"validate_zero_units",name:g["zero-units"],type:"number",defaultValue:E,options:L}]}]}),b.connect()});